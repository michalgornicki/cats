/*! For license information please see main.20066547.js.LICENSE.txt */
!function(){var e={446:function(e,t,n){"use strict";var r=n(740),i=n(181),o=n(933),a=n(293),s=n(386);function u(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var c,l=u(r),f=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),h=new a.ErrorFactory("appCheck","AppCheck",f),d=new Map,p={activated:!1,tokenObservers:[]},v={enabled:!1};function g(e){return d.get(e)||p}function y(e,t){d.set(e,t)}function m(){return v}var b="https://content-firebaseappcheck.googleapis.com/v1beta",w=3e4,_=96e4,E=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function k(){return self.grecaptcha}function I(e){if(!g(e).activated)throw h.create("use-before-activation",{appName:e.name})}function S(e){return a.base64.encodeString(JSON.stringify(e),!1)}function T(e,t){var n=e.url,r=e.body;return o.__awaiter(this,void 0,void 0,(function(){var e,i,a,s,u,c,l,f,d,p;return o.__generator(this,(function(o){switch(o.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:e},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw u=o.sent(),h.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw h.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),h.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(f=c.ttl.match(/^([\d.]+)(s)$/))||!f[2]||isNaN(Number(f[1])))throw h.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return d=1e3*Number(f[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}}))}))}function C(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":exchangeRecaptchaToken?key="+o,body:{recaptcha_token:t}}}function x(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":exchangeDebugToken?key="+o,body:{debug_token:t}}}var N="firebase-app-check-store",P="debug-token",O=null;function A(){return O||(O=new Promise((function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(h.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(N,{keyPath:"compositeKey"})}}catch(r){t(h.create("storage-open",{originalErrorMessage:r.message}))}})),O)}function R(e){return L(j(e))}function D(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,a;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,A()];case 1:return n=o.sent(),r=n.transaction(N,"readwrite"),i=r.objectStore(N),a=i.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){a.onsuccess=function(t){e()},r.onerror=function(e){var n;t(h.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function L(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,A()];case 1:return t=o.sent(),n=t.transaction(N,"readonly"),r=n.objectStore(N),i=r.get(e),[2,new Promise((function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(h.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function j(e){return e.options.appId+"-"+e.name}var M=new s.Logger("@firebase/app-check");function F(e,t){return a.isIndexedDBAvailable()?function(e,t){return D(j(e),t)}(e,t).catch((function(e){M.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function U(){return o.__awaiter(this,void 0,void 0,(function(){var e,t;return o.__generator(this,(function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,L(P)];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),(r=t,D(P,r)).catch((function(e){return M.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r}))}))}function V(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){if((e=m()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var B={error:"UNKNOWN_ERROR"};function q(e,t,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,a,s,u,c,l,f,h,d;return o.__generator(this,(function(p){switch(p.label){case 0:return I(e),r=g(e),i=r.token,a=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:(s=p.sent())&&H(s)&&(i=s,y(e,o.__assign(o.__assign({},r),{token:i})),z(e,{token:i.token})),p.label=2;case 2:return!n&&i&&H(i)?[2,{token:i.token}]:m().enabled?(c=T,l=x,f=[e],[4,V()]):[3,6];case 3:return[4,c.apply(void 0,[l.apply(void 0,f.concat([p.sent()])),t])];case 4:return u=p.sent(),[4,F(e,u)];case 5:return p.sent(),y(e,o.__assign(o.__assign({},r),{token:u})),[2,{token:u.token}];case 6:return p.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=p.sent(),[3,9];case 8:return h=p.sent(),M.error(h),a=h,[3,9];case 9:return i?[3,10]:(d=function(e){return{token:S(B),error:e}}(a),[3,12]);case 10:return d={token:i.token},y(e,o.__assign(o.__assign({},r),{token:i})),[4,F(e,i)];case 11:p.sent(),p.label=12;case 12:return z(e,d),[2,d]}}))}))}function K(e,t,n,r,i){var a=g(e),s={next:r,error:i,type:n},u=o.__assign(o.__assign({},a),{tokenObservers:o.__spreadArray(o.__spreadArray([],a.tokenObservers),[s])});if(!u.tokenRefresher){var c=function(e,t){var n=this;return new E((function(){return o.__awaiter(n,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return g(e).token?[3,2]:[4,q(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,q(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var t=g(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5,r=t.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),w,_)}(e,t);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),a.token&&H(a.token)){var l=a.token;Promise.resolve().then((function(){return r({token:l.token})})).catch((function(){}))}else null==a.token&&a.cachedTokenPromise.then((function(e){e&&H(e)&&r({token:e.token})})).catch((function(){}));y(e,u)}function W(e,t){var n=g(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),y(e,o.__assign(o.__assign({},n),{tokenObservers:r}))}function z(e,t){for(var n=0,r=g(e).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}}function H(e){return e.expireTimeMillis-Date.now()>0}var G="https://www.google.com/recaptcha/api.js";function Y(e,t){var n=g(e),r=new a.Deferred;y(e,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u=k();return u?u.ready((function(){Q(e,t,u,i),r.resolve(u)})):function(e){var t=document.createElement("script");t.src=""+G,t.onload=e,document.head.appendChild(t)}((function(){var n=k();if(!n)throw new Error("no recaptcha");n.ready((function(){Q(e,t,n,i),r.resolve(n)}))})),r.promise}function X(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:return I(e),[4,g(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var i=g(e).reCAPTCHAState;t.ready((function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function Q(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=g(e);y(e,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var J=function(){function e(e){this._siteKey=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:if(!this._app||!this._platformLoggerProvider)throw h.create("use-before-activation",{appName:""});t.label=1;case 1:return t.trys.push([1,3,,4]),[4,X(this._app)];case 2:return e=t.sent(),[3,4];case 3:throw t.sent(),h.create("recaptcha-error");case 4:return[2,T(C(this._app,e),this._platformLoggerProvider)]}}))}))},e.prototype.initialize=function(e,t){this._app=e,this._platformLoggerProvider=t,Y(e,this._siteKey).catch((function(){}))},e}(),Z=function(){function e(e){this._customProviderOptions=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!this._app)throw h.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=r.sent(),t=a.issuedAtTime(e.token),n=null!==t&&t<Date.now()&&t>0?1e3*t:Date.now(),[2,o.__assign(o.__assign({},e),{issuedAtTimeMillis:n})]}}))}))},e.prototype.initialize=function(e){this._app=e},e}();function $(e,t,n,r){var i=g(e);if(i.activated)throw h.create("already-activated",{appName:e.name});var s=o.__assign(o.__assign({},i),{activated:!0});s.cachedTokenPromise=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,R(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),M.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}(e).then((function(t){return t&&H(t)&&y(e,o.__assign(o.__assign({},g(e)),{token:t})),t})),s.provider="string"===typeof t?new J(t):t instanceof J||t instanceof Z?t:new Z({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=void 0===r?e.automaticDataCollectionEnabled:r,y(e,s),s.provider.initialize(e,n)}function ee(e,t){return{app:e,activate:function(n,r){return $(e,n,t,r)},setTokenAutoRefreshEnabled:function(t){return function(e,t){var n=g(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),y(e,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:t}))}(e,t)},getToken:function(n){return function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,q(e,t,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(e,t,n)},onTokenChanged:function(n,r,i){return function(e,t,n,r,i){var o=function(){},a=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),K(e,t,"EXTERNAL",o,a),function(){return W(e,o)}}(e,t,n,r)},INTERNAL:{delete:function(){for(var t=0,n=g(e).tokenObservers;t<n.length;t++){var r=n[t];W(e,r.next)}return Promise.resolve()}}}}var te="app-check-internal";!function(e){e.INTERNAL.registerComponent(new i.Component("appCheck",(function(e){return ee(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setServiceProps({ReCaptchaV3Provider:J,CustomProvider:Z}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider(te).initialize()}))),e.INTERNAL.registerComponent(new i.Component(te,(function(e){return function(e,t){return{getToken:function(n){return q(e,t,n)},addTokenListener:function(n){return K(e,t,"INTERNAL",n)},removeTokenListener:function(t){return W(e,t)}}}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.3.2")}(l.default),function(){var e=a.getGlobal();if("string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=m();t.enabled=!0;var n=new a.Deferred;t.token=n,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(U())}}()},933:function(e,t,n){"use strict";n.r(t),n.d(t,{__extends:function(){return i},__assign:function(){return o},__rest:function(){return a},__decorate:function(){return s},__param:function(){return u},__metadata:function(){return c},__awaiter:function(){return l},__generator:function(){return f},__createBinding:function(){return h},__exportStar:function(){return d},__values:function(){return p},__read:function(){return v},__spread:function(){return g},__spreadArrays:function(){return y},__spreadArray:function(){return m},__await:function(){return b},__asyncGenerator:function(){return w},__asyncDelegator:function(){return _},__asyncValues:function(){return E},__makeTemplateObject:function(){return k},__importStar:function(){return S},__importDefault:function(){return T},__classPrivateFieldGet:function(){return C},__classPrivateFieldSet:function(){return x}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var h=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function d(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||h(t,e,n)}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function w(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var I=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&h(t,e,n);return I(t,e),t}function T(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function x(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}},740:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _},firebase:function(){return w}});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.create;Object.create;var i,o,a=n(293),s=n(181),u=n(386),c=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),l=new a.ErrorFactory("app","Firebase",c),f="@firebase/app",h="[DEFAULT]",d=((o={})[f]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/app-check"]="fire-app-check",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),p=new u.Logger("@firebase/app"),v=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.deepCopy)(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=h),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=h),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var g=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=h);var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.contains)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument");(0,u.setUserLogHandler)(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||h,!(0,a.contains)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.deepExtend)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,f=Object.keys(t);c<f.length;c++){var h=f[c];t[h]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(v);return t.INTERNAL=r(r({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.deepExtend)(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),y=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if((0,a.isBrowser)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.isNode)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var w=g;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new y(e)}),"PRIVATE")),e.registerVersion(f,"0.6.30",t),e.registerVersion("fire-js","")}(w);var _=w},181:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return c},ComponentContainer:function(){return h},Provider:function(){return f}});function r(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function o(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function s(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var u=n(293),c=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),l="[DEFAULT]",f=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new u.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:l})}catch(d){}try{for(var r=o(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var s=a(i.value,2),u=s[0],c=s[1],f=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:f});c.resolve(h)}catch(d){}}}catch(p){t={error:p}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=l),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(s(s([],a(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),a(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=l),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=l),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:i});try{for(var c=o(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var f=a(l.value,2),h=f[0],d=f[1];s===this.normalizeInstanceIdentifier(h)&&d.resolve(u)}}catch(p){t={error:p}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return u},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var a=o(i),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===l?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=l),this.component?this.component.multipleInstances?e:l:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var h=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new f(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},172:function(e,t,n){"use strict";var r=n(740),i=n(181),o=n(293),a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)};function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u.apply(this,arguments)};function c(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function f(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(O){i={error:O}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function d(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var p=n(386);e=n.hmd(e);var v="";function g(e){v=e}var y=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.stringify)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.jsonEval)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),m=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.contains)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),b=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new y(t)}}catch(n){}return new m},w=b("localStorage"),_=b("sessionStorage"),E=new p.Logger("@firebase/database"),k=function(){var e=1;return function(){return e++}}(),I=function(e){var t=(0,o.stringToByteArray)(e),n=new o.Sha1;n.update(t);var r=n.digest();return o.base64.encodeByteArray(r)},S=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var a=t[i];Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length?r+=e.apply(null,a):r+="object"===typeof a?(0,o.stringify)(a):a,r+=" "}return r},T=null,C=!0,x=function(e,t){(0,o.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(E.logLevel=p.LogLevel.VERBOSE,T=E.log.bind(E),t&&_.set("logging_enabled",!0)):"function"===typeof e?T=e:(T=null,_.remove("logging_enabled"))},N=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===C&&(C=!1,null===T&&!0===_.get("logging_enabled")&&x(!0)),T){var n=S.apply(null,e);T(n)}},P=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];N.apply(void 0,d([e],h(t)))}},O=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+S.apply(void 0,d([],h(e)));E.error(n)},A=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+S.apply(void 0,d([],h(e)));throw E.error(n),new Error(n)},R=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+S.apply(void 0,d([],h(e)));E.warn(n)},D=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},L="[MIN_NAME]",j="[MAX_NAME]",M=function(e,t){if(e===t)return 0;if(e===L||t===j)return-1;if(t===L||e===j)return 1;var n=G(e),r=G(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},F=function(e,t){return e===t?0:e<t?-1:1},U=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.stringify)(t))},V=function e(t){if("object"!==typeof t||null===t)return(0,o.stringify)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=(0,o.stringify)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},B=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function q(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var K=function(e){(0,o.assert)(!D(e),"Invalid JSON number");var t,n,r,i,a,s=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var c=u.join(""),l="";for(a=0;a<64;a+=8){var f=parseInt(c.substr(a,8),2).toString(16);1===f.length&&(f="0"+f),l+=f}return l.toLowerCase()};var W=new RegExp("^-?(0*)\\d{1,10}$"),z=-2147483648,H=2147483647,G=function(e){if(W.test(e)){var t=Number(e);if(t>=z&&t<=H)return t}return null},Y=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw R("Exception was thrown by user callback.",e),t}),Math.floor(0))}},X=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},Q=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){R('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),J=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(N("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',R(e)},e}(),Z=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),$="5",ee=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,te="websocket",ne="long_polling",re=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=w.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&w.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function ie(e,t,n){var r;if((0,o.assert)("string"===typeof t,"typeof type must == string"),(0,o.assert)("object"===typeof n,"typeof params must == object"),t===te)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ne)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return q(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var oe=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.deepCopy)(this.counters_)},e}(),ae={},se={};function ue(e){var t=e.toString();return ae[t]||(ae[t]=new oe),ae[t]}var ce=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&Y((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),le="start",fe="close",he=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=P(e),this.stats_=ue(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),ie(t,ne,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ce(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,o.isNodeSdk)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new de((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=h(e,5),i=r[0],o=r[1],a=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===le)n.id=o,n.password=a;else{if(i!==fe)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=h(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=$,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&ee.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(0,o.isNodeSdk)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.base64Encode)(t),r=B(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),de=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.isNodeSdk)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=k(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){N("frame writing exception"),u.stack&&N(u.stack),N(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||N("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;(0,o.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){N("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),pe=null;"undefined"!==typeof MozWebSocket?pe=MozWebSocket:"undefined"!==typeof WebSocket&&(pe=WebSocket);var ve=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=P(this.connId),this.stats_=ue(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={};return i.v=$,!(0,o.isNodeSdk)()&&"undefined"!==typeof location&&location.hostname&&ee.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),ie(e,te,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,w.set("previous_websocket_failure",!0);try{if((0,o.isNodeSdk)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+v+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/cats",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new pe(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new pe(this.connURL,[],i)}}catch(c){this.log_("Error instantiating WebSocket.");var u=c.message||c.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==pe&&!e.forceDisallow_},e.previouslyFailed=function(){return w.isInMemoryStorage||!0===w.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){w.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.jsonEval)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=B(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),ge=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[he,ve]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ve&&ve.isAvailable(),o=i&&!ve.previouslyFailed();if(t.webSocketOnly&&(i||R("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ve];else{var a=this.transports_=[];try{for(var s=f(e.ALL_TRANSPORTS),u=s.next();!u.done;u=s.next()){var c=u.value;c&&c.isAvailable()&&a.push(c)}}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),ye=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=P("c:"+this.id+":"),this.transportManager_=new ge(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=X((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=U("t",e),n=U("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=U("t",e),n=U("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=U("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?O("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):O("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),$!==n&&R("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),X((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):X((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(w.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),me=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),be=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=d([],h(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.assert)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),we=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,o.isMobileCordova)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return s(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(be),_e=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function Ee(){return new _e("")}function ke(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ie(e){return e.pieces_.length-e.pieceNum_}function Se(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new _e(e.pieces_,t)}function Te(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Ce(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function xe(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new _e(t,0)}function Ne(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof _e)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new _e(n,0)}function Pe(e){return e.pieceNum_>=e.pieces_.length}function Oe(e,t){var n=ke(e),r=ke(t);if(null===n)return t;if(n===r)return Oe(Se(e),Se(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ae(e,t){for(var n=Ce(e,0),r=Ce(t,0),i=0;i<n.length&&i<r.length;i++){var o=M(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Re(e,t){if(Ie(e)!==Ie(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function De(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Ie(e)>Ie(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Le=function(e,t){this.errorPrefix_=t,this.parts_=Ce(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.stringLength)(this.parts_[n]);je(this)};function je(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Me(e))}function Me(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Fe,Ue,Ve=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return s(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(be),Be=1e3,qe=function(e){function t(n,r,i,a,s,u,c,l){var f=e.call(this)||this;if(f.repoInfo_=n,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=a,f.onServerInfoUpdate_=s,f.authTokenProvider_=u,f.appCheckTokenProvider_=c,f.authOverride_=l,f.id=t.nextPersistentConnectionId_++,f.log_=P("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=Be,f.maxReconnectDelay_=3e5,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,l&&!(0,o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Ve.getInstance().on("visible",f.onVisible_,f),-1===n.host.indexOf("fblocal")&&we.getInstance().on("online",f.onOnline_,f),f}return s(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,o.stringify)(i)),(0,o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.Deferred,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.assert)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&(0,o.contains)(e,"w")){var n=(0,o.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();R("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.isValidFormat)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.stringify)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):O("Unrecognized action received from server: "+(0,o.stringify)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Be,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Be,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Be),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return c(this,void 0,void 0,(function(){var e,n,r,i,a,s,u,c,f,d,p,v,g,y,m=this;return l(this,(function(l){switch(l.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,r())},f=function(e){(0,o.assert)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:f},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)])];case 2:return p=h.apply(void 0,[l.sent(),2]),v=p[0],g=p[1],s?N("getToken() completed but was canceled"):(N("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=g&&g.token,u=new ye(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){R(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),a)),[3,4];case 3:return y=l.sent(),this.log_("Failed to get token: "+y),s||(this.repoInfo_.nodeAdmin&&R(y),c()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){N("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){N("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=Be,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return V(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new _e(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){N("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){N("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=f(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,f(a.values())),u=s.next();!u.done;u=s.next()){var c=u.value;this.sendListen_(c)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+v.replace(/\./g,"-")]=1,(0,o.isMobileCordova)()?e["framework.cordova"]=1:(0,o.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=we.getInstance().currentlyOnline();return(0,o.isEmpty)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(me),Ke=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),We=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Ke(L,e),r=new Ke(L,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Ke.MIN},e}(),ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Fe},set:function(e){Fe=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return M(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Ke.MIN},t.prototype.maxPost=function(){return new Ke(j,Fe)},t.prototype.makePost=function(e,t){return(0,o.assert)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Ke(e,Fe)},t.prototype.toString=function(){return".key"},t}(We),He=new ze,Ge=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Ye=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Qe.EMPTY_NODE,this.right=null!=o?o:Qe.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Qe.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Qe.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Xe=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ye(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Qe=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ye.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ye.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Ge(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Ge(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Ge(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Ge(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Xe,e}();function Je(e,t){return M(e.name,t.name)}function Ze(e,t){return M(e,t)}var $e,et,tt,nt=function(e){return"number"===typeof e?"number:"+K(e):"string:"+e},rt=function(e){if(e.isLeafNode()){var t=e.val();(0,o.assert)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,o.contains)(t,".sv"),"Priority must be a string or number.")}else(0,o.assert)(e===Ue||e.isEmpty(),"priority of unexpected type.");(0,o.assert)(e===Ue||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},it=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),rt(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return $e},set:function(e){$e=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Pe(t)?this:".priority"===ke(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ke(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.assert)(".priority"!==r||1===Ie(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Se(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+nt(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?K(this.value_):this.value_,this.lazyHash_=I(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.assert)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.assert)(i>=0,"Unknown leaf type: "+n),(0,o.assert)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var ot,at,st=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?M(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Ke.MIN},t.prototype.maxPost=function(){return new Ke(j,new it("[PRIORITY-POST]",tt))},t.prototype.makePost=function(e,t){var n=et(e);return new Ke(t,new it("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(We),ut=new st,ct=Math.log(2),lt=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/ct,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),ft=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new Ye(a,o.node,Ye.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new Ye(a,o.node,Ye.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],f=n?n(l):l;u(new Ye(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,Ye.BLACK):(s(f,Ye.BLACK),s(f,Ye.RED))}return o}(new lt(e.length));return new Qe(r||t,o)},ht={},dt=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.assert)(ht&&ut,"ChildrenNode.ts has not been loaded"),ot=ot||new e({".priority":ht},{".priority":ut})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Qe?t:null},e.prototype.hasIndex=function(e){return(0,o.contains)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.assert)(t!==He,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,s=n.getIterator(Ke.Wrap),c=s.getNext();c;)a=a||t.isDefinedOn(c.node),i.push(c),c=s.getNext();r=a?ft(i,t.getCompare()):ht;var l=t.toString(),f=u({},this.indexSet_);f[l]=t;var h=u({},this.indexes_);return h[l]=r,new e(h,f)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,o.map)(this.indexes_,(function(e,i){var a=(0,o.safeGet)(r.indexSet_,i);if((0,o.assert)(a,"Missing index implementation for "+i),e===ht){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Ke.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),ft(s,a.getCompare())}return ht}var l=n.get(t.name),f=e;return l&&(f=f.remove(new Ke(t.name,l))),f.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,o.map)(this.indexes_,(function(e){if(e===ht)return e;var r=n.get(t.name);return r?e.remove(new Ke(t.name,r)):e})),this.indexSet_)},e}(),pt=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&rt(this.priorityNode_),this.children_.isEmpty()&&(0,o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return at||(at=new e(new Qe(Ze),null,dt.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||at},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?at:t},e.prototype.getChild=function(e){var t=ke(e);return null===t?this:this.getImmediateChild(t).getChild(Se(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.assert)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Ke(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?at:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=ke(e);if(null===n)return t;(0,o.assert)(".priority"!==ke(e)||1===Ie(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Se(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(ut,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+nt(this.getPriority().val())+":"),this.forEachChild(ut,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":I(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ke(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Ke(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Ke(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Ke.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Ke.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vt?-1:0},e.prototype.withIndex=function(t){if(t===He||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===He||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(ut),r=t.getIterator(ut),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===He?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),vt=new(function(e){function t(){return e.call(this,new Qe(Ze),pt.EMPTY_NODE,dt.Default)||this}return s(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return pt.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(pt));Object.defineProperties(Ke,{MIN:{value:new Ke(L,pt.EMPTY_NODE)},MAX:{value:new Ke(j,vt)}}),ze.__EMPTY_NODE=pt.EMPTY_NODE,it.__childrenNodeConstructor=pt,Ue=vt,function(e){tt=e}(vt);function gt(e,t){if(void 0===t&&(t=null),null===e)return pt.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.assert)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new it(e,gt(t));if(e instanceof Array){var n=pt.EMPTY_NODE;return q(e,(function(t,r){if((0,o.contains)(e,t)&&"."!==t.substring(0,1)){var i=gt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(gt(t))}var r=[],i=!1;if(q(e,(function(e,t){if("."!==e.substring(0,1)){var n=gt(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ke(e,n)))}})),0===r.length)return pt.EMPTY_NODE;var a=ft(r,Je,(function(e){return e.name}),Ze);if(i){var s=ft(r,ut.getCompare());return new pt(a,gt(t),new dt({".priority":s},{".priority":ut}))}return new pt(a,gt(t),dt.Default)}!function(e){et=e}(gt);var yt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.assert)(!Pe(t)&&".priority"!==ke(t),"Can't create PathIndex with empty path or .priority key"),n}return s(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?M(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=gt(e),r=pt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ke(t,r)},t.prototype.maxPost=function(){var e=pt.EMPTY_NODE.updateChild(this.indexPath_,vt);return new Ke(j,e)},t.prototype.toString=function(){return Ce(this.indexPath_,0).join("/")},t}(We),mt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?M(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Ke.MIN},t.prototype.maxPost=function(){return Ke.MAX},t.prototype.makePost=function(e,t){var n=gt(e);return new Ke(t,n)},t.prototype.toString=function(){return".value"},t}(We),bt=new mt,wt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",_t=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=wt.charAt(n%64),n=Math.floor(n/64);(0,o.assert)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=wt.charAt(t[r]);return(0,o.assert)(20===s.length,"nextPushId: Length should be 20."),s}}(),Et=function(e){if("2147483647"===e)return"-";var t=G(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return j;var o=n[i],a=wt.charAt(wt.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},kt=function(e){if("-2147483648"===e)return L;var t=G(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=wt.charAt(wt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function It(e){return{type:"value",snapshotNode:e}}function St(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Tt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ct(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var xt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(Tt(t,s)):(0,o.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(St(t,n)):a.trackChildChange(Ct(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(ut,(function(e,r){t.hasChild(e)||n.trackChildChange(Tt(e,r))})),t.isLeafNode()||t.forEachChild(ut,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Ct(t,r,i))}else n.trackChildChange(St(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?pt.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),Nt=function(){function e(t){this.indexedFilter_=new xt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Ke(t,n))||(n=pt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=pt.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(pt.EMPTY_NODE);var i=this;return t.forEachChild(ut,(function(e,t){i.matches(new Ke(e,t))||(r=r.updateImmediateChild(e,pt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),Pt=function(){function e(e){this.rangedFilter_=new Nt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Ke(t,n))||(n=pt.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=pt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=pt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(pt.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var f=!1;i.hasNext();){a=i.getNext();!f&&c(s,a)<=0&&(f=!0),f&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,pt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;(0,o.assert)(u.numChildren()===this.limit_,"");var c=new Ke(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),f=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var h=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(f&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(Ct(t,n,h)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Tt(t,h));var v=u.updateImmediateChild(t,pt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(St(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:f&&a(l,c)>=0?(null!=i&&(i.trackChildChange(Tt(l.name,l.node)),i.trackChildChange(St(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,pt.EMPTY_NODE)):e},e}(),Ot=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ut}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:L},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:j},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===ut},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function At(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Rt(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Dt(e,t){var n=e.copy();return n.index_=t,n}function Lt(e){var t,n={};return e.isDefault()||(e.index_===ut?t="$priority":e.index_===bt?t="$value":e.index_===He?t="$key":((0,o.assert)(e.index_ instanceof yt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,o.stringify)(t),e.startSet_&&(n.startAt=(0,o.stringify)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.stringify)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.stringify)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.stringify)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function jt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==ut&&(t.i=e.index_.toString()),t}var Mt=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=P("p:rest:"),o.listens_={},o}return s(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=Lt(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,o.safeGet)(a.listens_,u)===c)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=Lt(e._queryParams),r=e._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=h(i,2),s=a[0],u=a[1];s&&s.accessToken&&(t.auth=s.accessToken),u&&u.token&&(t.ac=u.token);var c=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.querystring)(t);r.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(n&&4===l.readyState){r.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=(0,o.jsonEval)(l.responseText)}catch(t){R("Failed to parse JSON response for "+c+": "+l.responseText)}n(null,e)}else 401!==l.status&&404!==l.status&&R("Got unsuccessful REST response for "+c+" Status: "+l.status),n(l.status);n=null}},l.open("GET",c,!0),l.send()}))},t}(me),Ft=function(){function e(){this.rootNode_=pt.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Ut(){return{value:null,children:new Map}}function Vt(e,t,n){if(Pe(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ke(t);e.children.has(r)||e.children.set(r,Ut()),Vt(e.children.get(r),t=Se(t),n)}}function Bt(e,t){if(Pe(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(ut,(function(t,n){Vt(e,new _e(t),n)})),Bt(e,t)}if(e.children.size>0){var r=ke(t);if(t=Se(t),e.children.has(r))Bt(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function qt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){qt(r,new _e(t.toString()+"/"+e),n)}))}var Kt,Wt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=u({},e);return this.last_&&q(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),zt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Wt(e);var n=1e4+2e4*Math.random();X(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;q(t,(function(t,i){i>0&&(0,o.contains)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),X(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function Ht(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Kt||(Kt={}));var Gt,Yt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Kt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(Pe(this.path)){if(null!=this.affectedTree.value)return(0,o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new _e(t));return new e(Ee(),n,this.revert)}return(0,o.assert)(ke(this.path)===t,"operationForChild called for unrelated child."),new e(Se(this.path),this.affectedTree,this.revert)},e}(),Xt=function(){function e(e,t){this.source=e,this.path=t,this.type=Kt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Pe(this.path)?new e(this.source,Ee()):new e(this.source,Se(this.path))},e}(),Qt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Kt.OVERWRITE}return e.prototype.operationForChild=function(t){return Pe(this.path)?new e(this.source,Ee(),this.snap.getImmediateChild(t)):new e(this.source,Se(this.path),this.snap)},e}(),Jt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Kt.MERGE}return e.prototype.operationForChild=function(t){if(Pe(this.path)){var n=this.children.subtree(new _e(t));return n.isEmpty()?null:n.value?new Qt(this.source,Ee(),n.value):new e(this.source,Ee(),n)}return(0,o.assert)(ke(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Se(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Zt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(Pe(e))return this.isFullyInitialized()&&!this.filtered_;var t=ke(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),$t=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function en(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.assertionError)("Should only compare child_ events.");var r=new Ke(t.childName,t.snapshotNode),i=new Ke(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function tn(e,t){return{eventCache:e,serverCache:t}}function nn(e,t,n,r){return tn(new Zt(t,n,r),e.serverCache)}function rn(e,t,n,r){return tn(e.eventCache,new Zt(t,n,r))}function on(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function an(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var sn=function(){function e(e,t){void 0===t&&(Gt||(Gt=new Qe(F)),t=Gt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return q(t,(function(e,t){n=n.set(new _e(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:Ee(),value:this.value};if(Pe(e))return null;var n=ke(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Se(e),t);return null!=i?{path:Ne(new _e(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(Pe(t))return this;var n=ke(t),r=this.children.get(n);return null!==r?r.subtree(Se(t)):new e(null)},e.prototype.set=function(t,n){if(Pe(t))return new e(n,this.children);var r=ke(t),i=(this.children.get(r)||new e(null)).set(Se(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(Pe(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ke(t),r=this.children.get(n);if(r){var i=r.remove(Se(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(Pe(e))return this.value;var t=ke(e),n=this.children.get(t);return n?n.get(Se(e)):null},e.prototype.setTree=function(t,n){if(Pe(t))return n;var r=ke(t),i=(this.children.get(r)||new e(null)).setTree(Se(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(Ee(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Ne(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,Ee(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Pe(e))return null;var i=ke(e),o=this.children.get(i);return o?o.findOnPath_(Se(e),Ne(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,Ee(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(Pe(t))return this;this.value&&r(n,this.value);var i=ke(t),o=this.children.get(i);return o?o.foreachOnPath_(Se(t),Ne(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(Ee(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Ne(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),un=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new sn(null))},e}();function cn(e,t,n){if(Pe(t))return new un(new sn(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Oe(i,t);return o=o.updateChild(a,n),new un(e.writeTree_.set(i,o))}var s=new sn(n),u=e.writeTree_.setTree(t,s);return new un(u)}function ln(e,t,n){var r=e;return q(n,(function(e,n){r=cn(r,Ne(t,e),n)})),r}function fn(e,t){if(Pe(t))return un.empty();var n=e.writeTree_.setTree(t,new sn(null));return new un(n)}function hn(e,t){return null!=dn(e,t)}function dn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Oe(n.path,t)):null}function pn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ut,(function(e,n){t.push(new Ke(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ke(e,n.value))})),t}function vn(e,t){if(Pe(t))return e;var n=dn(e,t);return new un(null!=n?new sn(n):e.writeTree_.subtree(t))}function gn(e){return e.writeTree_.isEmpty()}function yn(e,t){return mn(Ee(),e.writeTree_,t)}function mn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=mn(Ne(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Ne(e,".priority"),r)),n}function bn(e,t){return An(t,e)}function wn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&_n(u,r.path)?i=!1:De(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return function(e){e.visibleWrites=kn(e.allWrites,En,Ee()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=fn(e.visibleWrites,r.path):q(r.children,(function(t){e.visibleWrites=fn(e.visibleWrites,Ne(r.path,t))}));return!0}return!1}function _n(e,t){if(e.snap)return De(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&De(Ne(e.path,n),t))return!0;return!1}function En(e){return e.visible}function kn(e,t,n){for(var r=un.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)De(n,s)?r=cn(r,u=Oe(n,s),a.snap):De(s,n)&&(u=Oe(s,n),r=cn(r,Ee(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.assertionError)("WriteRecord should have .snap or .children");if(De(n,s))r=ln(r,u=Oe(n,s),a.children);else if(De(s,n))if(Pe(u=Oe(s,n)))r=ln(r,Ee(),a.children);else{var c=(0,o.safeGet)(a.children,ke(u));if(c){var l=c.getChild(Se(u));r=cn(r,Ee(),l)}}}}}return r}function In(e,t,n,r,i){if(r||i){var o=vn(e.visibleWrites,t);if(!i&&gn(o))return n;if(i||null!=n||hn(o,Ee())){return yn(kn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(De(e.path,t)||De(t,e.path))}),t),n||pt.EMPTY_NODE)}return null}var a=dn(e.visibleWrites,t);if(null!=a)return a;var s=vn(e.visibleWrites,t);return gn(s)?n:null!=n||hn(s,Ee())?yn(s,n||pt.EMPTY_NODE):null}function Sn(e,t,n,r){return In(e.writeTree,e.treePath,t,n,r)}function Tn(e,t){return function(e,t,n){var r=pt.EMPTY_NODE,i=dn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ut,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=vn(e.visibleWrites,t);return n.forEachChild(ut,(function(e,t){var n=yn(vn(o,new _e(e)),t);r=r.updateImmediateChild(e,n)})),pn(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return pn(vn(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Cn(e,t,n,r){return function(e,t,n,r,i){(0,o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Ne(t,n);if(hn(e.visibleWrites,a))return null;var s=vn(e.visibleWrites,a);return gn(s)?i.getChild(n):yn(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function xn(e,t){return function(e,t){return dn(e.visibleWrites,t)}(e.writeTree,Ne(e.treePath,t))}function Nn(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=vn(e.visibleWrites,t),c=dn(u,Ee());if(null!=c)s=c;else{if(null==n)return[];s=yn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=a.getCompare(),h=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function Pn(e,t,n){return function(e,t,n,r){var i=Ne(t,n),o=dn(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?yn(vn(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function On(e,t){return An(Ne(e.treePath,t),e.writeTree)}function An(e,t){return{treePath:e,writeTree:t}}var Rn=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Ct(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Tt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,St(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.assertionError)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Ct(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Dn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),Ln=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Zt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Pn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:an(this.viewCache_),i=Nn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function jn(e,t,n,r,i){var a,s,u=new Rn;if(n.type===Kt.OVERWRITE){var c=n;c.source.fromUser?a=Un(e,t,c.path,c.snap,r,i,u):((0,o.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!Pe(c.path),a=Fn(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===Kt.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=Ne(n,r);Vn(t,ke(c))&&(s=Un(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=Ne(n,r);Vn(t,ke(c))||(s=Un(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):((0,o.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=qn(e,t,l.path,l.children,r,i,s,u))}else if(n.type===Kt.ACK_USER_WRITE){var f=n;a=f.revert?function(e,t,n,r,i,a){var s;if(null!=xn(r,n))return t;var u=new Ln(r,t,i),c=t.eventCache.getNode(),l=void 0;if(Pe(n)||".priority"===ke(n)){var f=void 0;if(t.serverCache.isFullyInitialized())f=Sn(r,an(t));else{var h=t.serverCache.getNode();(0,o.assert)(h instanceof pt,"serverChildren would be complete if leaf node"),f=Tn(r,h)}f=f,l=e.filter.updateFullNode(c,f,a)}else{var d=ke(n),p=Pn(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,Se(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,pt.EMPTY_NODE,Se(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Sn(r,an(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=xn(r,Ee()),nn(t,l,s,e.filter.filtersNodes())}(e,t,f.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=xn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Pe(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Fn(e,t,n,u.getNode().getChild(n),i,o,s,a);if(Pe(n)){var c=new sn(null);return u.getNode().forEachChild(He,(function(e,t){c=c.set(new _e(e),t)})),qn(e,t,n,c,i,o,s,a)}return t}var l=new sn(null);return r.foreach((function(e,t){var r=Ne(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),qn(e,t,n,l,i,o,s,a)}(e,t,f.path,f.affectedTree,r,i,u)}else{if(n.type!==Kt.LISTEN_COMPLETE)throw(0,o.assertionError)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache,a=rn(t,o.getNode(),o.isFullyInitialized()||Pe(n),o.isFiltered());return Mn(e,a,n,r,Dn,i)}(e,t,n.path,r,u)}var h=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=on(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(It(on(t)))}}(t,a,h),{viewCache:a,changes:h}}function Mn(e,t,n,r,i,a){var s=t.eventCache;if(null!=xn(r,n))return t;var u=void 0,c=void 0;if(Pe(n))if((0,o.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=an(t),f=Tn(r,l instanceof pt?l:pt.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=Sn(r,an(t));u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var d=ke(n);if(".priority"===d){(0,o.assert)(1===Ie(n),"Can't have a priority with additional path components");var p=s.getNode(),v=Cn(r,n,p,c=t.serverCache.getNode());u=null!=v?e.filter.updatePriority(p,v):s.getNode()}else{var g=Se(n),y=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var m=Cn(r,n,s.getNode(),c);y=null!=m?s.getNode().getImmediateChild(d).updateChild(g,m):s.getNode().getImmediateChild(d)}else y=Pn(r,d,t.serverCache);u=null!=y?e.filter.updateChild(s.getNode(),d,y,g,i,a):s.getNode()}}return nn(t,u,s.isFullyInitialized()||Pe(n),e.filter.filtersNodes())}function Fn(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(Pe(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=ke(n);if(!c.isCompleteForPath(n)&&Ie(n)>1)return t;var d=Se(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,Dn,null)}var v=rn(t,u,c.isFullyInitialized()||Pe(n),l.filtersNodes());return Mn(e,v,n,i,new Ln(i,v,o),s)}function Un(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new Ln(i,t,o);if(Pe(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=nn(t,u,!0,e.filter.filtersNodes());else{var f=ke(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=nn(t,u,c.isFullyInitialized(),c.isFiltered());else{var h=Se(n),d=c.getNode().getImmediateChild(f),p=void 0;if(Pe(h))p=r;else{var v=l.getCompleteChild(f);p=null!=v?".priority"===Te(h)&&v.getChild(xe(h)).isEmpty()?v:v.updateChild(h,r):pt.EMPTY_NODE}if(d.equals(p))s=t;else s=nn(t,e.filter.updateChild(c.getNode(),f,p,h,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Vn(e,t){return e.eventCache.isCompleteForChild(t)}function Bn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function qn(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Pe(n)?r:new sn(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Bn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Fn(e,c,new _e(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var f=Bn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Fn(e,c,new _e(n),f,i,o,a,s)}})),c}var Kn,Wn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new xt(r.getIndex()),o=(n=r).loadsAllData()?new xt(n.getIndex()):n.hasLimit()?new Pt(n):new Nt(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(pt.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(pt.EMPTY_NODE,s.getNode(),null),l=new Zt(u,a.isFullyInitialized(),i.filtersNodes()),f=new Zt(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=tn(f,l),this.eventGenerator_=new $t(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function zn(e,t){var n=an(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Pe(t)&&!n.getImmediateChild(ke(t)).isEmpty())?n.getChild(t):null}function Hn(e){return 0===e.eventRegistrations_.length}function Gn(e,t,n){var r=[];if(n){(0,o.assert)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Yn(e,t,n,r){t.type===Kt.MERGE&&null!==t.source.queryId&&((0,o.assert)(an(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.assert)(on(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=jn(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,(0,o.assert)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.assert)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.assert)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Xn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Xn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),en(e,i,"child_removed",t,r,n),en(e,i,"child_added",t,r,n),en(e,i,"child_moved",o,r,n),en(e,i,"child_changed",t,r,n),en(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Qn,Jn=function(){this.views=new Map};function Zn(e,t,n,r){var i,a,s=t.source.queryId;if(null!==s){var u=e.views.get(s);return(0,o.assert)(null!=u,"SyncTree gave us an op for an invalid query."),Yn(u,t,n,r)}var c=[];try{for(var l=f(e.views.values()),h=l.next();!h.done;h=l.next()){u=h.value;c=c.concat(Yn(u,t,n,r))}}catch(d){i={error:d}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return c}function $n(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=Sn(n,i?r:null),u=!1;s?u=!0:r instanceof pt?(s=Tn(n,r),u=!1):(s=pt.EMPTY_NODE,u=!1);var c=tn(new Zt(s,u,!1),new Zt(r,i,!1));return new Wn(t,c)}return a}function er(e,t,n,r,i,o){var a=$n(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ut,(function(e,t){r.push(St(e,t))})),n.isFullyInitialized()&&r.push(It(n.getNode())),Xn(e,r,n.getNode(),t)}(a,n)}function tr(e,t,n,r){var i,a,s=t._queryIdentifier,u=[],c=[],l=ar(e);if("default"===s)try{for(var d=f(e.views.entries()),p=d.next();!p.done;p=d.next()){var v=h(p.value,2),g=v[0],y=v[1];c=c.concat(Gn(y,n,r)),Hn(y)&&(e.views.delete(g),y.query._queryParams.loadsAllData()||u.push(y.query))}}catch(m){i={error:m}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}else(y=e.views.get(s))&&(c=c.concat(Gn(y,n,r)),Hn(y)&&(e.views.delete(s),y.query._queryParams.loadsAllData()||u.push(y.query)));return l&&!ar(e)&&u.push(new((0,o.assert)(Kn,"Reference.ts has not been loaded"),Kn)(t._repo,t._path)),{removed:u,events:c}}function nr(e){var t,n,r=[];try{for(var i=f(e.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function rr(e,t){var n,r,i=null;try{for(var o=f(e.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;i=i||zn(s,t)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function ir(e,t){if(t._queryParams.loadsAllData())return sr(e);var n=t._queryIdentifier;return e.views.get(n)}function or(e,t){return null!=ir(e,t)}function ar(e){return null!=sr(e)}function sr(e){var t,n;try{for(var r=f(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var ur=1,cr=function(e){this.listenProvider_=e,this.syncPointTree_=new sn(null),this.pendingWriteTree_={visibleWrites:un.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function lr(e,t,n,r,i){return function(e,t,n,r,i){(0,o.assert)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=cn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?mr(e,new Qt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function fr(e,t,n,r){!function(e,t,n,r){(0,o.assert)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=ln(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=sn.fromObject(n);return mr(e,new Jt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function hr(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(wn(e.pendingWriteTree_,t)){var i=new sn(null);return null!=r.snap?i=i.set(Ee(),!0):q(r.children,(function(e){i=i.set(new _e(e),!0)})),mr(e,new Yt(r.path,i,n))}return[]}function dr(e,t,n){return mr(e,new Qt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function pr(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||or(o,t))){var s=tr(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return ar(t)}));if(c&&!l){var f=e.syncPointTree_.subtree(i);if(!f.isEmpty())for(var h=function(e){return e.fold((function(e,t,n){if(t&&ar(t))return[sr(t)];var r=[];return t&&(r=nr(t)),q(n,(function(e,t){r=r.concat(t)})),r}))}(f),d=0;d<h.length;++d){var p=h[d],v=p.query,g=_r(e,p);e.listenProvider_.startListening(Cr(v),Er(e,v),g.hashFn,g.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(Cr(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(kr(t));e.listenProvider_.stopListening(Cr(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=kr(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function vr(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Oe(e,r);i=i||rr(t,n),a=a||ar(t)}));var s,u=e.syncPointTree_.get(r);(u?(a=a||ar(u),i=i||rr(u,Ee())):(u=new Jn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=pt.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=rr(t,Ee());n&&(i=i.updateImmediateChild(e,n))})));var c=or(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=kr(t);(0,o.assert)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var f=ur++;e.queryToTagMap.set(l,f),e.tagToQueryMap.set(f,l)}var h=er(u,t,n,bn(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=ir(u,t);h=h.concat(function(e,t,n){var r=t._path,i=Er(e,t),a=_r(e,n),s=e.listenProvider_.startListening(Cr(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)(0,o.assert)(!ar(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!Pe(e)&&t&&ar(t))return[sr(t).query];var r=[];return t&&(r=r.concat(nr(t).map((function(e){return e.query})))),q(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var f=c[l];e.listenProvider_.stopListening(Cr(f),Er(e,f))}return s}(e,t,d))}return h}function gr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=rr(n,Oe(e,t));if(r)return r}));return In(r,t,i,n,!0)}function yr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Oe(e,n);r=r||rr(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||rr(i,Ee()):(i=new Jn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Zt(r,!0,!1):null;return function(e){return on(e.viewCache_)}($n(i,t,bn(e.pendingWriteTree_,t._path),o?a.getNode():pt.EMPTY_NODE,o))}function mr(e,t){return br(t,e.syncPointTree_,null,bn(e.pendingWriteTree_,Ee()))}function br(e,t,n,r){if(Pe(e.path))return wr(e,t,n,r);var i=t.get(Ee());null==n&&null!=i&&(n=rr(i,Ee()));var o=[],a=ke(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=On(r,a);o=o.concat(br(s,u,c,l))}return i&&(o=o.concat(Zn(i,e,r,n))),o}function wr(e,t,n,r){var i=t.get(Ee());null==n&&null!=i&&(n=rr(i,Ee()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=On(r,t),u=e.operationForChild(t);u&&(o=o.concat(wr(u,i,a,s)))})),i&&(o=o.concat(Zn(i,e,r,n))),o}function _r(e,t){var n=t.query,r=Er(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||pt.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Ir(e,n);if(r){var i=Sr(r),o=i.path,a=i.queryId,s=Oe(o,t);return Tr(e,o,new Xt(Ht(a),s))}return[]}(e,n._path,r):function(e,t){return mr(e,new Xt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return pr(e,n,null,i)}}}function Er(e,t){var n=kr(t);return e.queryToTagMap.get(n)}function kr(e){return e._path.toString()+"$"+e._queryIdentifier}function Ir(e,t){return e.tagToQueryMap.get(t)}function Sr(e){var t=e.indexOf("$");return(0,o.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new _e(e.substr(0,t))}}function Tr(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.assert)(r,"Missing sync point for query tag that we're tracking"),Zn(r,n,bn(e.pendingWriteTree_,t),null)}function Cr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,o.assert)(Qn,"Reference.ts has not been loaded"),Qn)(e._repo,e._path):e}var xr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),Nr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=Ne(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return gr(this.syncTree_,this.path_)},e}(),Pr=function(e,t,n){return e&&"object"===typeof e?((0,o.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Or(e[".sv"],t,n):"object"===typeof e[".sv"]?Ar(e[".sv"],t):void(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Or=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,o.assert)(!1,"Unexpected server value: "+e)},Ar=function(e,t,n){e.hasOwnProperty("increment")||(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&(0,o.assert)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.assert)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Rr=function(e,t,n,r){return Lr(t,new Nr(n,e),r)},Dr=function(e,t,n){return Lr(e,new xr(t),n)};function Lr(e,t,n){var r,i=e.getPriority().val(),o=Pr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=Pr(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new it(s,gt(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new it(o))),u.forEachChild(ut,(function(e,i){var o=Lr(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var jr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Mr(e,t){for(var n=t instanceof _e?t:new _e(t),r=e,i=ke(n);null!==i;){var a=(0,o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new jr(i,r,a),i=ke(n=Se(n))}return r}function Fr(e){return e.node.value}function Ur(e,t){e.node.value=t,Wr(e)}function Vr(e){return e.node.childCount>0}function Br(e,t){q(e.node.children,(function(n,r){t(new jr(n,e,r))}))}function qr(e,t,n,r){n&&!r&&t(e),Br(e,(function(e){qr(e,t,!0,r)})),n&&r&&t(e)}function Kr(e){return new _e(null===e.parent?e.name:Kr(e.parent)+"/"+e.name)}function Wr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Fr(e)&&!Vr(e)}(n),i=(0,o.contains)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Wr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Wr(e))}(e.parent,e.name,e)}var zr=/[\[\].#$\/\u0000-\u001F\u007F]/,Hr=/[\[\].#$\u0000-\u001F\u007F]/,Gr=10485760,Yr=function(e){return"string"===typeof e&&0!==e.length&&!zr.test(e)},Xr=function(e){return"string"===typeof e&&0!==e.length&&!Hr.test(e)},Qr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!D(e)||e&&"object"===typeof e&&(0,o.contains)(e,".sv")},Jr=function(e,t,n,r){r&&void 0===t||Zr((0,o.errorPrefix)(e,"value"),t,n)},Zr=function e(t,n,r){var i=r instanceof _e?new Le(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Me(i));if("function"===typeof n)throw new Error(t+"contains a function "+Me(i)+" with contents = "+n.toString());if(D(n))throw new Error(t+"contains "+n.toString()+" "+Me(i));if("string"===typeof n&&n.length>Gr/3&&(0,o.stringLength)(n)>Gr)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Me(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(q(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Yr(n)))throw new Error(t+" contains an invalid key ("+n+") "+Me(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.stringLength)(t),je(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=(0,o.stringLength)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&s)throw new Error(t+' contains ".value" child '+Me(i)+" in addition to actual children.")}},$r=function(e,t,n,r){if(!r||void 0!==t){var i=(0,o.errorPrefix)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];q(t,(function(e,t){var r=new _e(e);if(Zr(i,t,Ne(n,r)),".priority"===Te(r)&&!Qr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Ce(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Yr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Ae);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&De(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},ei=function(e,t,n){if(!n||void 0!==t){if(D(t))throw new Error((0,o.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Qr(t))throw new Error((0,o.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ti=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.errorPrefix)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ni=function(e,t,n,r){if((!r||void 0!==n)&&!Yr(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ri=function(e,t,n,r){if((!r||void 0!==n)&&!Xr(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ii=function(e,t){if(".info"===ke(t))throw new Error(e+" failed = Can't modify data under /.info/")},oi=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Yr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Xr(e)}(n))throw new Error((0,o.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ai=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error((0,o.errorPrefix)(e,t)+"must be a boolean.")},si=function(){this.eventLists_=[],this.recursionDepth_=0};function ui(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Re(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function ci(e,t,n){ui(e,n),fi(e,(function(e){return Re(e,t)}))}function li(e,t,n){ui(e,n),fi(e,(function(e){return De(e,t)||De(t,e)}))}function fi(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(hi(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function hi(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();T&&N("event: "+n.toString()),Y(r)}}}var di="repo_interrupt",pi=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new si,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ut(),this.transactionQueueTree_=new jr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function vi(e,t,n){if(e.stats_=ue(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Mt(e.repoInfo_,(function(t,n,r,i){mi(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return bi(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.stringify)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new qe(e.repoInfo_,t,(function(t,n,r,i){mi(e,t,n,r,i)}),(function(t){bi(e,t)}),(function(t){!function(e,t){q(t,(function(t,n){wi(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return se[n]||(se[n]=t()),se[n]}(e.repoInfo_,(function(){return new zt(e.stats_,e.server_)})),e.infoData_=new Ft,e.infoSyncTree_=new cr({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=dr(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),wi(e,"connected",!1),e.serverSyncTree_=new cr({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);li(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function gi(e){var t=e.infoData_.getNode(new _e(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function yi(e){return(t=(t={timestamp:gi(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function mi(e,t,n,r,i){e.dataUpdateCount++;var a=new _e(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=(0,o.map)(n,(function(e){return gt(e)}));s=function(e,t,n,r){var i=Ir(e,r);if(i){var o=Sr(i),a=o.path,s=o.queryId,u=Oe(a,t),c=sn.fromObject(n);return Tr(e,a,new Jt(Ht(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=gt(n);s=function(e,t,n,r){var i=Ir(e,r);if(null!=i){var o=Sr(i),a=o.path,s=o.queryId,u=Oe(a,t);return Tr(e,a,new Qt(Ht(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.map)(n,(function(e){return gt(e)}));s=function(e,t,n){var r=sn.fromObject(n);return mr(e,new Jt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var f=gt(n);s=dr(e.serverSyncTree_,a,f)}var h=a;s.length>0&&(h=Oi(e,a)),li(e.eventQueue_,h,s)}function bi(e,t){wi(e,"connected",t),!1===t&&function(e){Ci(e,"onDisconnectEvents");var t=yi(e),n=Ut();qt(e.onDisconnect_,Ee(),(function(r,i){var o=Rr(r,i,e.serverSyncTree_,t);Vt(n,r,o)}));var r=[];qt(n,Ee(),(function(t,n){r=r.concat(dr(e.serverSyncTree_,t,n));var i=ji(e,t);Oi(e,i)})),e.onDisconnect_=Ut(),li(e.eventQueue_,Ee(),r)}(e)}function wi(e,t,n){var r=new _e("/.info/"+t),i=gt(n);e.infoData_.updateSnapshot(r,i);var o=dr(e.infoSyncTree_,r,i);li(e.eventQueue_,r,o)}function _i(e){return e.nextWriteId_++}function Ei(e,t,n,r,i){Ci(e,"set",{path:t.toString(),value:n,priority:r});var o=yi(e),a=gt(n,r),s=gr(e.serverSyncTree_,t),u=Dr(a,s,o),c=_i(e),l=lr(e.serverSyncTree_,t,u,c,!0);ui(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||R("set at "+t+" failed: "+n);var a=hr(e.serverSyncTree_,c,!o);li(e.eventQueue_,t,a),xi(e,i,n,r)}));var f=ji(e,t);Oi(e,f),li(e.eventQueue_,f,[])}function ki(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Bt(e.onDisconnect_,t),xi(e,n,r,i)}))}function Ii(e,t,n,r){var i=gt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Vt(e.onDisconnect_,t,i),xi(e,r,n,o)}))}function Si(e,t,n){var r;r=".info"===ke(t._path)?pr(e.infoSyncTree_,t,n):pr(e.serverSyncTree_,t,n),ci(e.eventQueue_,t._path,r)}function Ti(e){e.persistentConnection_&&e.persistentConnection_.interrupt(di)}function Ci(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),N.apply(void 0,d([r],h(t)))}function xi(e,t,n,r){t&&Y((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function Ni(e,t,n){return gr(e.serverSyncTree_,t,n)||pt.EMPTY_NODE}function Pi(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||Li(e,t),Fr(t)){var n=Ri(e,t);(0,o.assert)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Ni(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Oe(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var f=a.val(!0),h=t;e.server_.put(h.toString(),f,(function(r){Ci(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(hr(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);Li(e,Mr(e.transactionQueueTree_,t)),Pi(e,e.transactionQueueTree_),li(e.eventQueue_,t,i);for(s=0;s<o.length;s++)Y(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{R("transaction at "+h.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}Oi(e,t)}}),s)}(e,Kr(t),n)}else Vr(t)&&Br(t,(function(t){Pi(e,t)}))}function Oi(e,t){var n=Ai(e,t),r=Kr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c,l=t[s],f=Oe(n,l.path),h=!1;if((0,o.assert)(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)h=!0,u=l.abortReason,i=i.concat(hr(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)h=!0,u="maxretry",i=i.concat(hr(e.serverSyncTree_,l.currentWriteId,!0));else{var d=Ni(e,l.path,a);l.currentInputSnapshot=d;var p=t[s].update(d.val());if(void 0!==p){Zr("transaction failed: Data returned ",p,l.path);var v=gt(p);"object"===typeof p&&null!=p&&(0,o.contains)(p,".priority")||(v=v.updatePriority(d.getPriority()));var g=l.currentWriteId,y=yi(e),m=Dr(v,d,y);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=m,l.currentWriteId=_i(e),a.splice(a.indexOf(g),1),i=(i=i.concat(lr(e.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally))).concat(hr(e.serverSyncTree_,g,!0))}else h=!0,u="nodata",i=i.concat(hr(e.serverSyncTree_,l.currentWriteId,!0))}li(e.eventQueue_,n,i),i=[],h&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);Li(e,e.transactionQueueTree_);for(u=0;u<r.length;u++)Y(r[u]);Pi(e,e.transactionQueueTree_)}(e,Ri(e,n),r),r}function Ai(e,t){var n,r=e.transactionQueueTree_;for(n=ke(t);null!==n&&void 0===Fr(r);)r=Mr(r,n),n=ke(t=Se(t));return r}function Ri(e,t){var n=[];return Di(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Di(e,t,n){var r=Fr(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Br(t,(function(t){Di(e,t,n)}))}function Li(e,t){var n=Fr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Ur(t,n.length>0?n:void 0)}Br(t,(function(t){Li(e,t)}))}function ji(e,t){var n=Kr(Ai(e,t)),r=Mr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Mi(e,t)})),Mi(e,r),qr(r,(function(t){Mi(e,t)})),n}function Mi(e,t){var n=Fr(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(hr(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Ur(t,void 0):n.length=a+1,li(e.eventQueue_,Kr(t),i);for(s=0;s<r.length;s++)Y(r[s])}}var Fi=function(e,t){var n=Ui(e),r=n.namespace;"firebase.com"===n.domain&&A(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||A("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&R("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new re(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new _e(n.pathString)}},Ui=function(e){var t="",n="",r="",i="",o="",a=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(l,h)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=f(e.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var s=a.split("=");2===s.length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):R("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(a="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},Vi=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.stringify)(this.snapshot.exportVal())},e}(),Bi=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),qi=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),Ki=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.Deferred;return ki(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){ii("OnDisconnect.remove",this._path);var e=new o.Deferred;return Ii(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){ii("OnDisconnect.set",this._path),Jr("OnDisconnect.set",e,this._path,!1);var t=new o.Deferred;return Ii(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){ii("OnDisconnect.setWithPriority",this._path),Jr("OnDisconnect.setWithPriority",e,this._path,!1),ei("OnDisconnect.setWithPriority",t,!1);var n=new o.Deferred;return function(e,t,n,r,i){var o=gt(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Vt(e.onDisconnect_,t,o),xi(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){ii("OnDisconnect.update",this._path),$r("OnDisconnect.update",e,this._path,!1);var t=new o.Deferred;return function(e,t,n,r){if((0,o.isEmpty)(n))return N("onDisconnect().update() called with empty data.  Don't do anything."),void xi(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&q(n,(function(n,r){var i=gt(r);Vt(e.onDisconnect_,Ne(t,n),i)})),xi(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),Wi=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return Pe(this._path)?null:Te(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Yi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=jt(this._queryParams),t=V(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return jt(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=(0,o.getModularInstance)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Re(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function zi(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Hi(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===He){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==L)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==j)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===ut){if(null!=t&&!Qr(t)||null!=n&&!Qr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.assert)(e.getIndex()instanceof yt||e.getIndex()===bt,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Gi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Yi=function(e){function t(t,n){return e.call(this,t,n,new Ot,!1)||this}return s(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=xe(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(Wi),Xi=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new _e(t),r=Zi(this.ref,t);return new e(this._node.getChild(n),r,ut)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Zi(n.ref,r),ut))}))},e.prototype.hasChild=function(e){var t=new _e(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Qi(e,t){return(e=(0,o.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?Zi(e._root,t):e._root}function Ji(e,t){(e=(0,o.getModularInstance)(e))._checkNotDeleted("refFromURL");var n=Fi(t,e._repo.repoInfo_.nodeAdmin);oi("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||A("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Qi(e,n.path.toString())}function Zi(e,t){var n,r,i,a;return null===ke((e=(0,o.getModularInstance)(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ri(n,r,i,a)):ri("child","path",t,!1),new Yi(e._repo,Ne(e._path,t))}function $i(e,t){e=(0,o.getModularInstance)(e),ii("push",e._path),Jr("push",t,e._path,!0);var n,r=gi(e._repo),i=_t(r),a=Zi(e,i),s=Zi(e,i);return n=null!=t?to(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function eo(e){return ii("remove",e._path),to(e,null)}function to(e,t){e=(0,o.getModularInstance)(e),ii("set",e._path),Jr("set",t,e._path,!1);var n=new o.Deferred;return Ei(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function no(e,t){e=(0,o.getModularInstance)(e),ii("setPriority",e._path),ei("setPriority",t,!1);var n=new o.Deferred;return Ei(e._repo,Ne(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function ro(e,t,n){if(ii("setWithPriority",e._path),Jr("setWithPriority",t,e._path,!1),ei("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.Deferred;return Ei(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function io(e,t){$r("update",t,e._path,!1);var n=new o.Deferred;return function(e,t,n,r){Ci(e,"update",{path:t.toString(),value:n});var i=!0,o=yi(e),a={};if(q(n,(function(n,r){i=!1,a[n]=Rr(Ne(t,n),gt(r),e.serverSyncTree_,o)})),i)N("update() called with empty data.  Don't do anything."),xi(0,r,"ok",void 0);else{var s=_i(e),u=fr(e.serverSyncTree_,t,a,s);ui(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||R("update at "+t+" failed: "+n);var a=hr(e.serverSyncTree_,s,!o),u=a.length>0?Oi(e,t):t;li(e.eventQueue_,u,a),xi(0,r,n,i)})),q(n,(function(n){var r=ji(e,Ne(t,n));Oi(e,r)})),li(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function oo(e){return function(e,t){var n=yr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=gt(n).withIndex(t._queryParams.getIndex()),i=dr(e.serverSyncTree_,t._path,r);return ci(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return Ci(e,"get for query "+(0,o.stringify)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=(0,o.getModularInstance)(e))._repo,e).then((function(t){return new Xi(t,new Yi(e._repo,e._path),e._queryParams.getIndex())}))}var ao=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Vi("value",this,new Xi(e.snapshotNode,new Yi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Bi(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),so=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Bi(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.assert)(null!=e.childName,"Child events should have a childName.");var n=Zi(new Yi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Vi(e.type,this,new Xi(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function uo(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){Si(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new qi(n,o||void 0),c="value"===t?new ao(u):new so(t,u);return function(e,t,n){var r;r=".info"===ke(t._path)?vr(e.infoSyncTree_,t,n):vr(e.serverSyncTree_,t,n),ci(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return Si(e._repo,e,c)}}function co(e,t,n,r){return uo(e,"value",t,n,r)}function lo(e,t,n,r){return uo(e,"child_added",t,n,r)}function fo(e,t,n,r){return uo(e,"child_changed",t,n,r)}function ho(e,t,n,r){return uo(e,"child_moved",t,n,r)}function po(e,t,n,r){return uo(e,"child_removed",t,n,r)}function vo(e,t,n){var r=null,i=n?new qi(n):null;"value"===t?r=new ao(i):t&&(r=new so(t,i)),Si(e._repo,e,r)}var go=function(){},yo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return s(t,e),t.prototype._apply=function(e){Jr("endAt",this._value,e._path,!0);var t=Rt(e._queryParams,this._value,this._key);if(Gi(t),Hi(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Wi(e._repo,e._path,t,e._orderByCalled)},t}(go);function mo(e,t){return ni("endAt","key",t,!0),new yo(e,t)}var bo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return s(t,e),t.prototype._apply=function(e){Jr("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===He?("string"===typeof t&&(t=kt(t)),r=Rt(e,t,n)):r=Rt(e,t,null==n?L:kt(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Gi(t),Hi(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Wi(e._repo,e._path,t,e._orderByCalled)},t}(go);function wo(e,t){return ni("endBefore","key",t,!0),new bo(e,t)}var _o=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return s(t,e),t.prototype._apply=function(e){Jr("startAt",this._value,e._path,!0);var t=At(e._queryParams,this._value,this._key);if(Gi(t),Hi(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Wi(e._repo,e._path,t,e._orderByCalled)},t}(go);function Eo(e,t){return void 0===e&&(e=null),ni("startAt","key",t,!0),new _o(e,t)}var ko=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return s(t,e),t.prototype._apply=function(e){Jr("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===He?("string"===typeof t&&(t=Et(t)),r=At(e,t,n)):r=At(e,t,null==n?j:Et(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Gi(t),Hi(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Wi(e._repo,e._path,t,e._orderByCalled)},t}(go);function Io(e,t){return ni("startAfter","key",t,!0),new ko(e,t)}var So=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return s(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Wi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)},t}(go);function To(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new So(e)}var Co=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return s(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Wi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)},t}(go);function xo(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Co(e)}var No=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return s(t,e),t.prototype._apply=function(e){zi(e,"orderByChild");var t=new _e(this._path);if(Pe(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new yt(t),r=Dt(e._queryParams,n);return Hi(r),new Wi(e._repo,e._path,r,!0)},t}(go);function Po(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ri("orderByChild","path",e,!1),new No(e)}var Oo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype._apply=function(e){zi(e,"orderByKey");var t=Dt(e._queryParams,He);return Hi(t),new Wi(e._repo,e._path,t,!0)},t}(go);function Ao(){return new Oo}var Ro=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype._apply=function(e){zi(e,"orderByPriority");var t=Dt(e._queryParams,ut);return Hi(t),new Wi(e._repo,e._path,t,!0)},t}(go);function Do(){return new Ro}var Lo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype._apply=function(e){zi(e,"orderByValue");var t=Dt(e._queryParams,bt);return Hi(t),new Wi(e._repo,e._path,t,!0)},t}(go);function jo(){return new Lo}var Mo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return s(t,e),t.prototype._apply=function(e){if(Jr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new yo(this._value,this._key)._apply(new _o(this._value,this._key)._apply(e))},t}(go);function Fo(e,t){return ni("equalTo","key",t,!0),new Mo(e,t)}function Uo(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=(0,o.getModularInstance)(e);try{for(var s=f(r),u=s.next();!u.done;u=s.next()){var c=u.value;a=c._apply(a)}}catch(l){t={error:l}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a}!function(e){(0,o.assert)(!Kn,"__referenceConstructor has already been defined"),Kn=e}(Yi),function(e){(0,o.assert)(!Qn,"__referenceConstructor has already been defined"),Qn=e}(Yi);var Vo={},Bo=!1;function qo(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||A("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),N("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=Fi(o,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/cats",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,o="http://"+c+"?ns="+u.namespace,u=(s=Fi(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new Z(Z.OWNER):new J(e.name,e.options,t);oi("Invalid Firebase Database URL",s),Pe(s.path)||A("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=Vo[t.name];i||(i={},Vo[t.name]=i);var o=i[e.toURLString()];o&&A("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new pi(e,Bo,n,r),i[e.toURLString()]=o,o}(u,e,l,new Q(e.name,n));return new Ko(f,e)}var Ko=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(vi(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Yi(this._repo,Ee())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return null!==this._rootInternal&&(!function(e,t){var n=Vo[t];n&&n[e.key]===e||A("Database "+t+"("+e.repoInfo_+") has already been deleted."),Ti(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&A("Cannot call "+e+" on a deleted database.")},e}();function Wo(e,t,n,r){void 0===r&&(r={}),(e=(0,o.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&A("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&A('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Z(Z.OWNER);else if(r.mockUserToken){var s="string"===typeof r.mockUserToken?r.mockUserToken:(0,o.createMockUserToken)(r.mockUserToken,e.app.options.projectId);a=new Z(s)}!function(e,t,n,r){e.repoInfo_=new re(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function zo(e){(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOffline"),Ti(e._repo)}function Ho(e){var t;(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(di)}var Go={".sv":"timestamp"};var Yo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Xo(e,t,n){var r;if(e=(0,o.getModularInstance)(e),ii("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.Deferred,s=co(e,(function(){}));return function(e,t,n,r,i,a){Ci(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:k(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=Ni(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Zr("transaction failed: Data returned ",c,s.path),s.status=0;var l=Mr(e.transactionQueueTree_,t),f=Fr(l)||[];f.push(s),Ur(l,f);var h=void 0;"object"===typeof c&&null!==c&&(0,o.contains)(c,".priority")?(h=(0,o.safeGet)(c,".priority"),(0,o.assert)(Qr(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(gr(e.serverSyncTree_,t)||pt.EMPTY_NODE).getPriority().val();var d=yi(e),p=gt(c,h),v=Dr(p,u,d);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=v,s.currentWriteId=_i(e);var g=lr(e.serverSyncTree_,t,v,s.currentWriteId,s.applyLocally);li(e.eventQueue_,t,g),Pi(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new Xi(r,new Yi(e._repo,e._path),ut),a.resolve(new Yo(n,i)))}),s,i),a.promise}var Qo=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){(0,o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){(0,o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,o.validateCallback)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if((0,o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,R("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.validateCallback)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Jo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Zo=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),t=String(t),ri("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),ri("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,o.validateCallback)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return(0,o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new ea(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),$o=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;(0,o.validateArgCount)("Query.on",2,4,arguments.length),(0,o.validateCallback)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(u.context,new Zo(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return co(this._delegate,c,l),n;case"child_added":return lo(this._delegate,c,l),n;case"child_removed":return po(this._delegate,c,l),n;case"child_changed":return fo(this._delegate,c,l),n;case"child_moved":return ho(this._delegate,c,l),n;default:throw new Error((0,o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,o.validateArgCount)("Query.off",0,3,arguments.length),ti("Query.off",e,!0),(0,o.validateCallback)("Query.off","callback",t,!0),(0,o.validateContextObject)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,vo(this._delegate,e,r)}else vo(this._delegate,e)},e.prototype.get=function(){var e=this;return oo(this._delegate).then((function(t){return new Zo(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;(0,o.validateArgCount)("Query.once",1,4,arguments.length),(0,o.validateCallback)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(e,t){var r=new Zo(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":co(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":lo(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":po(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":fo(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":ho(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return(0,o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Uo(this._delegate,To(t)))},e.prototype.limitToLast=function(t){return(0,o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new e(this.database,Uo(this._delegate,xo(t)))},e.prototype.orderByChild=function(t){return(0,o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new e(this.database,Uo(this._delegate,Po(t)))},e.prototype.orderByKey=function(){return(0,o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new e(this.database,Uo(this._delegate,Ao()))},e.prototype.orderByPriority=function(){return(0,o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Uo(this._delegate,Do()))},e.prototype.orderByValue=function(){return(0,o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new e(this.database,Uo(this._delegate,jo()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAt",0,2,arguments.length),new e(this.database,Uo(this._delegate,Eo(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAfter",0,2,arguments.length),new e(this.database,Uo(this._delegate,Io(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endAt",0,2,arguments.length),new e(this.database,Uo(this._delegate,mo(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endBefore",0,2,arguments.length),new e(this.database,Uo(this._delegate,wo(t,n)))},e.prototype.equalTo=function(t,n){return(0,o.validateArgCount)("Query.equalTo",1,2,arguments.length),new e(this.database,Uo(this._delegate,Fo(t,n)))},e.prototype.toString=function(){return(0,o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.validateCallback)(e,"cancel",r.cancel,!0),r.context=n,(0,o.validateContextObject)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error((0,o.errorPrefix)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new ea(this.database,new Yi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),ea=function(e){function t(t,n){var r=e.call(this,t,new Wi(n._repo,n._path,new Ot,!1))||this;return r.database=t,r._delegate=n,r}return s(t,e),t.prototype.getKey=function(){return(0,o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,o.validateArgCount)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,Zi(this._delegate,e))},t.prototype.getParent=function(){(0,o.validateArgCount)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,o.validateArgCount)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,o.validateArgCount)("Reference.set",1,2,arguments.length),(0,o.validateCallback)("Reference.set","onComplete",t,!0);var n=to(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if((0,o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,R("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ii("Reference.update",this._delegate._path),(0,o.validateCallback)("Reference.update","onComplete",t,!0);var i=io(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=ro(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){(0,o.validateArgCount)("Reference.remove",0,1,arguments.length),(0,o.validateCallback)("Reference.remove","onComplete",e,!0);var t=eo(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;(0,o.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,o.validateCallback)("Reference.transaction","transactionUpdate",e,!1),(0,o.validateCallback)("Reference.transaction","onComplete",t,!0),ai("Reference.transaction","applyLocally",n,!0);var i=Xo(this._delegate,e,{applyLocally:n}).then((function(e){return new Jo(e.committed,new Zo(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){(0,o.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,o.validateCallback)("Reference.setPriority","onComplete",t,!0);var n=no(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;(0,o.validateArgCount)("Reference.push",0,2,arguments.length),(0,o.validateCallback)("Reference.push","onComplete",n,!0);var i=$i(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return ii("Reference.onDisconnect",this._delegate._path),new Qo(new Ki(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}($o),ta=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Wo(this._delegate,e,t,n)},e.prototype.ref=function(e){if((0,o.validateArgCount)("database.ref",0,1,arguments.length),e instanceof ea){var t=Ji(this._delegate,e.toString());return new ea(this,t)}t=Qi(this._delegate,e);return new ea(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";(0,o.validateArgCount)(t,1,1,arguments.length);var n=Ji(this._delegate,e);return new ea(this,n)},e.prototype.goOffline=function(){return(0,o.validateArgCount)("database.goOffline",0,0,arguments.length),zo(this._delegate)},e.prototype.goOnline=function(){return(0,o.validateArgCount)("database.goOnline",0,0,arguments.length),Ho(this._delegate)},e.ServerValue={TIMESTAMP:Go,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();var na=Object.freeze({__proto__:null,forceLongPolling:function(){ve.forceDisallow(),he.forceAllow()},forceWebSockets:function(){he.forceDisallow()},isWebSocketsAvailable:function(){return ve.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Wt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);q(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;g(r);var c=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return c.setComponent(new i.Component("auth-internal",(function(){return o}),"PRIVATE")),{instance:new ta(qo(t,c,void 0,n,u),t),namespace:a}}}),ra=qe;qe.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},qe.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var ia=ye,oa=re,aa=Object.freeze({__proto__:null,DataConnection:ra,RealTimeConnection:ia,hijackHash:function(e){var t=qe.prototype.put;return qe.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){qe.prototype.put=t}},ConnectionTarget:oa,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){Bo=e}(e)}}),sa=ta.ServerValue;!function(t){g(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.Component("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new ta(qo(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:ea,Query:$o,Database:ta,DataSnapshot:Zo,enableLogging:x,INTERNAL:na,ServerValue:sa,TEST_ACCESS:aa}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.11.0"),(0,o.isNodeSdk)()&&(e.exports=n)}(r.default)},494:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function g(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(h,"_tx",["objectStoreNames","mode"]),s(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=g,Object.defineProperty(e,"__esModule",{value:!0})}(t)},386:function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,{LogLevel:function(){return o},Logger:function(){return f},setLogLevel:function(){return h},setUserLogHandler:function(){return d}});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},f=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function h(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},365:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function g(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(h,"_tx",["objectStoreNames","mode"]),s(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=g,Object.defineProperty(e,"__esModule",{value:!0})}(t)},293:function(e,t,n){"use strict";n.r(t),n.d(t,{CONSTANTS:function(){return o},Deferred:function(){return v},ErrorFactory:function(){return R},FirebaseError:function(){return A},MAX_VALUE_MILLIS:function(){return le},RANDOM_FACTOR:function(){return fe},Sha1:function(){return Z},areCookiesEnabled:function(){return P},assert:function(){return a},assertionError:function(){return s},async:function(){return te},base64:function(){return c},base64Decode:function(){return h},base64Encode:function(){return l},base64urlEncodeWithoutPadding:function(){return f},calculateBackoffMillis:function(){return he},contains:function(){return K},createMockUserToken:function(){return g},createSubscribe:function(){return $},decode:function(){return F},deepCopy:function(){return d},deepEqual:function(){return G},deepExtend:function(){return p},errorPrefix:function(){return ie},extractQuerystring:function(){return J},getGlobal:function(){return O},getModularInstance:function(){return pe},getUA:function(){return y},isAdmin:function(){return q},isBrowser:function(){return w},isBrowserExtension:function(){return _},isElectron:function(){return k},isEmpty:function(){return z},isIE:function(){return I},isIndexedDBAvailable:function(){return x},isMobileCordova:function(){return m},isNode:function(){return b},isNodeSdk:function(){return T},isReactNative:function(){return E},isSafari:function(){return C},isUWP:function(){return S},isValidFormat:function(){return B},isValidTimestamp:function(){return U},issuedAtTime:function(){return V},jsonEval:function(){return j},map:function(){return H},ordinal:function(){return de},querystring:function(){return X},querystringDecode:function(){return Q},safeGet:function(){return W},stringLength:function(){return ce},stringToByteArray:function(){return ue},stringify:function(){return M},validateArgCount:function(){return re},validateCallback:function(){return ae},validateContextObject:function(){return se},validateIndexedDBOpenable:function(){return N},validateNamespace:function(){return oe}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.create;Object.create;var o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},a=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},u=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(u(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},l=function(e){var t=u(e);return c.encodeByteArray(t,!0)},f=function(e){return l(e).replace(/\./g,"")},h=function(e){try{return c.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function d(e){return p(void 0,e)}function p(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=p(e[n],t[n]));return e}var v=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function g(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=i({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[f(JSON.stringify({alg:"none",type:"JWT"})),f(JSON.stringify(a)),""].join(".")}function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())}function b(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function w(){return"object"===typeof self&&self.self===self}function _(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function E(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function k(){return y().indexOf("Electron/")>=0}function I(){var e=y();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function S(){return y().indexOf("MSAppHost/")>=0}function T(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN}function C(){return!b()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x(){return"indexedDB"in self&&null!=indexedDB}function N(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function P(){return!(!navigator||!navigator.cookieEnabled)}function O(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}var A=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,R.prototype.create),o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),R=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?D(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new A(i,s,r);return u},e}();function D(e,t){return e.replace(L,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var L=/\{\$([^}]+)}/g;function j(e){return JSON.parse(e)}function M(e){return JSON.stringify(e)}var F=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=j(h(o[0])||""),n=j(h(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},U=function(e){var t=F(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},V=function(e){var t=F(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},B=function(e){var t=F(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},q=function(e){var t=F(e).claims;return"object"===typeof t&&!0===t.admin};function K(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function W(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function z(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function H(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function G(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var s=e[a],u=t[a];if(Y(s)&&Y(u)){if(!G(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){a=l[c];if(!n.includes(a))return!1}return!0}function Y(e){return null!==e&&"object"===typeof e}function X(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}function Q(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function J(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Z=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function $(e,t){var n=new ee(e,t);return n.subscribe.bind(n)}var ee=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ne),void 0===r.error&&(r.error=ne),void 0===r.complete&&(r.complete=ne);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function te(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}}function ne(){}var re=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function ie(e,t){return e+" failed: "+t+" argument "}function oe(e,t,n){if((!n||t)&&"string"!==typeof t)throw new Error(ie(e,"namespace")+"must be a valid firebase namespace.")}function ae(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(ie(e,t)+"must be a valid function.")}function se(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(ie(e,t)+"must be a valid context object.")}var ue=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,a(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ce=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},le=144e5,fe=.5;function he(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(fe*r*(Math.random()-.5)*2);return Math.min(le,r+i)}function de(e){return Number.isFinite(e)?e+function(e){var t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";var n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e):""+e}function pe(e){return e&&e._delegate?e._delegate:e}},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var f=0;f<s.length;f++)r.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,o.default)(r)};var r,i=n(54),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,o,a){var s=i||"<<anonymous>>",u=a||r;if(null==n[r])return t?new Error("Required "+o+" `"+u+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,s,o,u].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),o=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,b);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,k=60106,I=60107,S=60108,T=60114,C=60109,x=60110,N=60112,P=60113,O=60120,A=60115,R=60116,D=60121,L=60128,j=60129,M=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),k=U("react.portal"),I=U("react.fragment"),S=U("react.strict_mode"),T=U("react.profiler"),C=U("react.provider"),x=U("react.context"),N=U("react.forward_ref"),P=U("react.suspense"),O=U("react.suspense_list"),A=U("react.memo"),R=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),j=U("react.debug_trace_mode"),M=U("react.offscreen"),F=U("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function K(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function z(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?K(e):""}function H(e){switch(e.tag){case 5:return K(e.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 22:return e=z(e.type._render,!1);case 1:return e=z(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case k:return"Portal";case T:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case A:return G(e.type);case D:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ce(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ge,ye=(ge=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function _e(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=_e(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var ke=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,xe=null,Ne=null;function Pe(e){if(e=ri(e)){if("function"!==typeof Ce)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),Ce(e.stateNode,e.type,t))}}function Oe(e){xe?Ne?Ne.push(e):Ne=[e]:xe=e}function Ae(){if(xe){var e=xe,t=Ne;if(Ne=xe=null,Pe(e),t)for(e=0;e<t.length;e++)Pe(t[e])}}function Re(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var je=Re,Me=!1,Fe=!1;function Ue(){null===xe&&null===Ne||(Le(),Ae())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Be=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Be=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(ge){Be=!1}function Ke(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,ze=null,He=!1,Ge=null,Ye={onError:function(e){We=!0,ze=e}};function Xe(e,t,n,r,i,o,a,s,u){We=!1,ze=null,Ke.apply(Ye,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ze(e){if(Qe(e)!==e)throw Error(a(188))}function $e(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ze(i),e;if(o===r)return Ze(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function gt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){mt(e)&&n.delete(t)}function wt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&mt(st)&&(st=null),null!==ut&&mt(ut)&&(ut=null),null!==ct&&mt(ct)&&(ct=null),lt.forEach(bt),ft.forEach(bt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,wt)))}function Et(e){function t(t){return _t(t,e)}if(0<at.length){_t(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&_t(st,e),null!==ut&&_t(ut,e),null!==ct&&_t(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function kt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},St={},Tt={};function Ct(e){if(St[e])return St[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return St[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var xt=Ct("animationend"),Nt=Ct("animationiteration"),Pt=Ct("animationstart"),Ot=Ct("transitionend"),At=new Map,Rt=new Map,Dt=["abort","abort",xt,"animationEnd",Nt,"animationIteration",Pt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),At.set(r,i),c(i,[r])}}(0,o.unstable_now)();var jt=8;function Mt(e){if(0!==(1&e))return jt=15,1;if(0!==(2&e))return jt=14,2;if(0!==(4&e))return jt=13,4;var t=24&e;return 0!==t?(jt=12,t):0!==(32&e)?(jt=11,32):0!==(t=192&e)?(jt=10,t):0!==(256&e)?(jt=9,256):0!==(t=3584&e)?(jt=8,t):0!==(4096&e)?(jt=7,4096):0!==(t=4186112&e)?(jt=6,t):0!==(t=62914560&e)?(jt=5,t):67108864&e?(jt=4,67108864):0!==(134217728&e)?(jt=3,134217728):0!==(t=805306368&e)?(jt=2,t):0!==(1073741824&e)?(jt=1,1073741824):(jt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return jt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=jt=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Mt(u),i=jt):0!==(s&=o)&&(r=Mt(s),i=jt)}else 0!==(o=n&~a)?(r=Mt(o),i=jt):0!==s&&(r=Mt(s),i=jt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Mt(t),i<=jt)return t;jt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Bt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Kt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(zt(e)/Ht|0)|0},zt=Math.log,Ht=Math.LN2;var Gt=o.unstable_UserBlockingPriority,Yt=o.unstable_runWithPriority,Xt=!0;function Qt(e,t,n,r){Me||Le();var i=Zt,o=Me;Me=!0;try{De(i,e,t,n,r)}finally{(Me=o)||Ue()}}function Jt(e,t,n,r){Yt(Gt,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){var i;if(Xt)if((i=0===(4&t))&&0<at.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=$t(e,t,n,r);if(null===o)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=gt(st,e,t,n,r,i),!0;case"dragenter":return ut=gt(ut,e,t,n,r,i),!0;case"mouseover":return ct=gt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,gt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ft.set(o,gt(ft.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function $t(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var o=Qe(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Je(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),gn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(gn),mn=un(i({},gn,{dataTransfer:0})),bn=un(i({},pn,{relatedTarget:0})),wn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=un(_n),kn=un(i({},hn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function xn(){return Cn}var Nn=i({},pn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=un(Nn),On=un(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Rn=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Dn),jn=[9,13,27,32],Mn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Un=f&&"TextEvent"in window&&!Fn,Vn=f&&(!Mn||Fn&&8<Fn&&11>=Fn),Bn=String.fromCharCode(32),qn=!1;function Kn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Yn(e,t,n,r){Oe(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,Qn=null;function Jn(e){Nr(e,0)}function Zn(e){if(J(ii(e)))return e}function $n(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Xn&&(Xn.detachEvent("onpropertychange",or),Qn=Xn=null)}function or(e){if("value"===e.propertyName&&Zn(Qn)){var t=[];if(Yn(t,Qn,e,Te(e)),e=Jn,Me)e(t);else{Me=!0;try{Re(e,t)}finally{Me=!1,Ue()}}}}function ar(e,t,n){"focusin"===e?(ir(),Qn=n,(Xn=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Qn)}function ur(e,t){if("click"===e)return Zn(t)}function cr(e,t){if("input"===e||"change"===e)return Zn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mr=f&&"documentMode"in document&&11>=document.documentMode,br=null,wr=null,_r=null,Er=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==br||br!==Z(r)||("selectionStart"in(r=br)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_r&&hr(_r,r)||(_r=r,0<(r=Mr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Ir.length;Sr++)Rt.set(Ir[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function xr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Xe.apply(this,arguments),We){if(!We)throw Error(a(198));var l=ze;We=!1,ze=null,He||(He=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;xr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;xr(i,s,c),o=u}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Pr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Ar(e){e[Or]||(e[Or]=!0,s.forEach((function(t){Cr.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Dr(o,e,i,t),a.add(s))}function Dr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Qt;break;case 1:i=Jt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{je(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=o,i=Te(n),a=[];e:{var s=At.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=Pn;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case xt:case Nt:case Pt:u=wn;break;case Ot:u=Rn;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(jr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==u&&Ur(a,s,u,l,!1),null!==c&&null!==f&&Ur(a,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=$n;else if(Gn(s))if(er)g=cr;else{g=sr;var y=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ur);switch(g&&(g=g(e,r))?Yn(a,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(br=y,wr=r,_r=null);break;case"focusout":_r=wr=br=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,kr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":kr(a,n,i)}var m;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Kn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Vn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(m=rn()):(tn="value"in(en=i)?en.value:en.textContent,zn=!0)),0<(y=Mr(r,b)).length&&(b=new kn(b,e,null,n,i),a.push({event:b,listeners:y}),m?b.data=m:null!==(m=Wn(n))&&(b.data=m))),(m=Un?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(qn=!0,Bn);case"textInput":return(e=t.data)===Bn&&qn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Mn&&Kn(e,t)?(e=rn(),nn=tn=en=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}Nr(a,t)}))}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ve(e,n))&&r.unshift(jr(e,o,i)),null!=(o=Ve(e,t))&&r.push(jr(e,o,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,o))&&a.unshift(jr(n,u,s)):i||null!=(u=Ve(n,o))&&a.push(jr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Vr(){}var Br=null,qr=null;function Kr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var zr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Yr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Xr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Qr=0;var Jr=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Jr,$r="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Zr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Xr(e);null!==e;){if(n=e[Zr])return n;e=Xr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Zr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[$r]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function gi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){li(pi),li(di)}function bi(e,t,n){if(di.current!==hi)throw Error(a(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,G(t)||"Unknown",o));return i({},n,r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var ki=null,Ii=null,Si=o.unstable_runWithPriority,Ti=o.unstable_scheduleCallback,Ci=o.unstable_cancelCallback,xi=o.unstable_shouldYield,Ni=o.unstable_requestPaint,Pi=o.unstable_now,Oi=o.unstable_getCurrentPriorityLevel,Ai=o.unstable_ImmediatePriority,Ri=o.unstable_UserBlockingPriority,Di=o.unstable_NormalPriority,Li=o.unstable_LowPriority,ji=o.unstable_IdlePriority,Mi={},Fi=void 0!==Ni?Ni:function(){},Ui=null,Vi=null,Bi=!1,qi=Pi(),Ki=1e4>qi?Pi:function(){return Pi()-qi};function Wi(){switch(Oi()){case Ai:return 99;case Ri:return 98;case Di:return 97;case Li:return 96;case ji:return 95;default:throw Error(a(332))}}function zi(e){switch(e){case 99:return Ai;case 98:return Ri;case 97:return Di;case 96:return Li;case 95:return ji;default:throw Error(a(332))}}function Hi(e,t){return e=zi(e),Si(e,t)}function Gi(e,t,n){return e=zi(e),Ti(e,t,n)}function Yi(){if(null!==Vi){var e=Vi;Vi=null,Ci(e)}Xi()}function Xi(){if(!Bi&&null!==Ui){Bi=!0;var e=0;try{var t=Ui;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ti(Ai,Yi),n}finally{Bi=!1}}}var Qi=_.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Zi=ci(null),$i=null,eo=null,to=null;function no(){to=eo=$i=null}function ro(e){var t=Zi.current;li(Zi),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){$i=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ma=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===$i)throw Error(a(308));eo=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(h=o.baseState,s=0,f=l=c=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===f&&(c=h),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=f,Bs|=s,e.lanes=s,e.memoizedState=h}}function vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var go=(new r.Component).refs;function yo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),o=lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),o=lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fo(e,i),pu(e,r,n)}};function bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,o))}function wo(e,t,n){var r=!1,i=hi,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=yi(t)?vi:di.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?gi(e,i):hi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function _o(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function Eo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=go,uo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=yi(t)?vi:di.current,i.context=gi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(yo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&mo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var ko=Array.isArray;function Io(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===go&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function So(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function To(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Qu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Io(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=Io(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Yu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Qu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=Io(e,null,t),n.return=e,n;case k:return(t=Ju(t,e.mode,n)).return=e,t}if(ko(t)||q(t))return(t=Yu(t,e.mode,n,null)).return=e,t;So(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===I?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case k:return n.key===i?l(e,t,n,r):null}if(ko(n)||q(n))return null!==i?null:f(e,t,n,r,null);So(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===I?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ko(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);So(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,g=null;null!==f&&v<s.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=g}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(g=p(f,i,v,s[v],u))&&(e&&null!==g.alternate&&f.delete(null===g.key?v:g.key),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g);return e&&f.forEach((function(e){return t(i,e)})),c}function g(i,s,u,c){var l=q(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,g=s=0,y=null,m=u.next();null!==v&&!m.done;g++,m=u.next()){v.index>g?(y=v,v=null):y=v.sibling;var b=d(i,v,m.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,g),null===f?l=b:f.sibling=b,f=b,v=y}if(m.done)return n(i,v),l;if(null===v){for(;!m.done;g++,m=u.next())null!==(m=h(i,m.value,c))&&(s=o(m,s,g),null===f?l=m:f.sibling=m,f=m);return l}for(v=r(i,v);!m.done;g++,m=u.next())null!==(m=p(v,i,g,m.value,c))&&(e&&null!==m.alternate&&v.delete(null===m.key?g:m.key),s=o(m,s,g),null===f?l=m:f.sibling=m,f=m);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===I&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case E:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===I){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=Io(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===I?((r=Yu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Gu(o.type,o.key,o.props,null,e.mode,u)).ref=Io(e,r,o),u.return=e,e=u)}return s(e);case k:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ju(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Qu(o,e.mode,u)).return=e,e=r),s(e);if(ko(o))return v(e,r,o,u);if(q(o))return g(e,r,o,u);if(l&&So(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,G(e.type)||"Component"))}return n(e,r)}}var Co=To(!0),xo=To(!1),No={},Po=ci(No),Oo=ci(No),Ao=ci(No);function Ro(e){if(e===No)throw Error(a(174));return e}function Do(e,t){switch(fi(Ao,t),fi(Oo,e),fi(Po,No),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Po),fi(Po,t)}function Lo(){li(Po),li(Oo),li(Ao)}function jo(e){Ro(Ao.current);var t=Ro(Po.current),n=pe(t,e.type);t!==n&&(fi(Oo,e),fi(Po,n))}function Mo(e){Oo.current===e&&(li(Po),li(Oo))}var Fo=ci(0);function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vo=null,Bo=null,qo=!1;function Ko(e,t){var n=Wu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Wo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function zo(e){if(qo){var t=Bo;if(t){var n=t;if(!Wo(e,t)){if(!(t=Yr(n.nextSibling))||!Wo(e,t))return e.flags=-1025&e.flags|2,qo=!1,void(Vo=e);Ko(Vo,n)}Vo=e,Bo=Yr(t.firstChild)}else e.flags=-1025&e.flags|2,qo=!1,Vo=e}}function Ho(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Vo=e}function Go(e){if(e!==Vo)return!1;if(!qo)return Ho(e),qo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Bo;t;)Ko(e,t),t=Yr(t.nextSibling);if(Ho(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Bo=Yr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Bo=null}}else Bo=Vo?Yr(e.stateNode.nextSibling):null;return!0}function Yo(){Bo=Vo=null,qo=!1}var Xo=[];function Qo(){for(var e=0;e<Xo.length;e++)Xo[e]._workInProgressVersionPrimary=null;Xo.length=0}var Jo=_.ReactCurrentDispatcher,Zo=_.ReactCurrentBatchConfig,$o=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,i,o){if($o=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jo.current=null===e||null===e.memoizedState?Ra:Da,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,Jo.current=La,e=n(r,i)}while(ia)}if(Jo.current=Aa,t=null!==ta&&null!==ta.next,$o=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ca(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function la(e,t){return"function"===typeof t?t(e):t}function fa(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if(($o&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,ea.lanes|=l,Bs|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,lr(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ha(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);lr(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function da(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($o&e)===e)&&(t._workInProgressVersionPrimary=r,Xo.push(t))),e)return n(t._source);throw Xo.push(t),Error(a(350))}function pa(e,t,n,r){var i=Rs;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Jo.current,c=u.useState((function(){return da(i,t,n)})),l=c[1],f=c[0];c=na;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var g=ea;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-Wt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(g);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:f}).dispatch=l=Oa.bind(null,ea,e),c.queue=e,c.baseQueue=null,f=da(i,t,n),c.memoizedState=c.baseState=f),f}function va(e,t,n){return pa(ca(),e,t,n)}function ga(e){var t=ua();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Oa.bind(null,ea,e),[t.memoizedState,e]}function ya(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ma(e){return e={current:e},ua().memoizedState=e}function ba(){return ca().memoizedState}function wa(e,t,n,r){var i=ua();ea.flags|=e,i.memoizedState=ya(1|t,n,void 0,void 0===r?null:r)}function _a(e,t,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ya(t,n,o,r)}ea.flags|=e,i.memoizedState=ya(1|t,n,o,r)}function Ea(e,t){return wa(516,4,e,t)}function ka(e,t){return _a(516,4,e,t)}function Ia(e,t){return _a(4,2,e,t)}function Sa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ta(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_a(4,2,Sa.bind(null,t,e),n)}function Ca(){}function xa(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Na(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Pa(e,t){var n=Wi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Zo.transition;Zo.transition=1;try{e(!1),t()}finally{Zo.transition=n}}))}function Oa(e,t,n){var r=hu(),i=du(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Aa={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Ra={readContext:ao,useCallback:function(e,t){return ua().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:Ea,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,Sa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wa(4,2,e,t)},useMemo:function(e,t){var n=ua();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ua();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oa.bind(null,ea,e),[r.memoizedState,e]},useRef:ma,useState:ga,useDebugValue:Ca,useDeferredValue:function(e){var t=ga(e),n=t[0],r=t[1];return Ea((function(){var t=Zo.transition;Zo.transition=1;try{r(e)}finally{Zo.transition=t}}),[e]),n},useTransition:function(){var e=ga(!1),t=e[0];return ma(e=Pa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ua();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(qo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Qr++).toString(36))),Error(a(355))})),n=ga(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ya(5,(function(){n("r:"+(Qr++).toString(36))}),void 0,null)),t}return ga(t="r:"+(Qr++).toString(36)),t},unstable_isNewReconciler:!1},Da={readContext:ao,useCallback:xa,useContext:ao,useEffect:ka,useImperativeHandle:Ta,useLayoutEffect:Ia,useMemo:Na,useReducer:fa,useRef:ba,useState:function(){return fa(la)},useDebugValue:Ca,useDeferredValue:function(e){var t=fa(la),n=t[0],r=t[1];return ka((function(){var t=Zo.transition;Zo.transition=1;try{r(e)}finally{Zo.transition=t}}),[e]),n},useTransition:function(){var e=fa(la)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return fa(la)[0]},unstable_isNewReconciler:!1},La={readContext:ao,useCallback:xa,useContext:ao,useEffect:ka,useImperativeHandle:Ta,useLayoutEffect:Ia,useMemo:Na,useReducer:ha,useRef:ba,useState:function(){return ha(la)},useDebugValue:Ca,useDeferredValue:function(e){var t=ha(la),n=t[0],r=t[1];return ka((function(){var t=Zo.transition;Zo.transition=1;try{r(e)}finally{Zo.transition=t}}),[e]),n},useTransition:function(){var e=ha(la)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return ha(la)[0]},unstable_isNewReconciler:!1},ja=_.ReactCurrentOwner,Ma=!1;function Fa(e,t,n,r){t.child=null===e?xo(t,null,n,r):Co(t,e.child,n,r)}function Ua(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=sa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Fa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Va(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||zu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ba(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=Hu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ba(e,t,n,r,i,o){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Ma=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(Ma=!0)}return Wa(e,t,n,r,o)}function qa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Eu(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Eu(t,e),null;t.memoizedState={baseLanes:0},Eu(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Eu(t,r);return Fa(e,t,i,n),t.child}function Ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wa(e,t,n,r,i){var o=yi(n)?vi:di.current;return o=gi(t,o),oo(t,i),n=sa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Fa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function za(e,t,n,r,i){if(yi(n)){var o=!0;_i(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),wo(t,n,r),Eo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ao(c):c=gi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&_o(t,a,r,c),so=!1;var h=t.memoizedState;a.state=h,po(t,r,a,i),u=t.memoizedState,s!==r||h!==u||pi.current||so?("function"===typeof l&&(yo(t,n,l,r),u=t.memoizedState),(s=so||bo(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,co(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ji(t.type,s),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ao(u):u=gi(t,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||h!==u)&&_o(t,a,r,u),so=!1,h=t.memoizedState,a.state=h,po(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||pi.current||so?("function"===typeof d&&(yo(t,n,d,r),p=t.memoizedState),(c=so||bo(t,n,c,r,h,p,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ha(e,t,n,r,o,i)}function Ha(e,t,n,r,i,o){Ka(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&Ei(t,n,!1),os(e,t,o);r=t.stateNode,ja.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Co(t,e.child,null,o),t.child=Co(t,null,s,o)):Fa(e,t,s,o),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Ga(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Do(e,t.containerInfo)}var Ya,Xa,Qa,Ja={dehydrated:null,retryLane:0};function Za(e,t,n){var r,i=t.pendingProps,o=Fo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),fi(Fo,1&o),null===e?(void 0!==i.fallback&&zo(t),e=i.children,o=i.fallback,a?(e=$a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ja,e):"number"===typeof i.unstable_expectedLoadTime?(e=$a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ja,t.lanes=33554432,e):((n=Xu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ja,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function $a(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Xu(t,i,0,null),n=Yu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Hu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hu(a,s),null!==e?r=Hu(e,r):(r=Yu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Fa(e,t,r.children,n),0!==(2&(r=Fo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Hu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!qo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&mi(),null;case 3:return Lo(),li(pi),li(di),Qo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Go(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Mo(t);var o=Ro(Ao.current);if(n=t.type,null!==e&&null!=t.stateNode)Xa(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Ro(Po.current),Go(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Zr]=t,r[$r]=s,n){case"dialog":Pr("cancel",r),Pr("close",r);break;case"iframe":case"object":case"embed":Pr("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Pr(Tr[e],r);break;case"source":Pr("error",r);break;case"img":case"image":case"link":Pr("error",r),Pr("load",r);break;case"details":Pr("toggle",r);break;case"input":ee(r,s),Pr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pr("invalid",r);break;case"textarea":ue(r,s),Pr("invalid",r)}for(var c in Ie(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Pr("scroll",r));switch(n){case"input":Q(r),re(r,s,!0);break;case"textarea":Q(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Zr]=t,e[$r]=r,Ya(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Pr("cancel",e),Pr("close",e),o=r;break;case"iframe":case"object":case"embed":Pr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Tr.length;o++)Pr(Tr[o],e);o=r;break;case"source":Pr("error",e),o=r;break;case"img":case"image":case"link":Pr("error",e),Pr("load",e),o=r;break;case"details":Pr("toggle",e),o=r;break;case"input":ee(e,r),o=$(e,r),Pr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Pr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Pr("invalid",e);break;default:o=r}Ie(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?Ee(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&me(e,f):"number"===typeof f&&me(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Pr("scroll",e):null!=f&&w(e,s,f,c))}switch(n){case"input":Q(e),re(e,r,!1);break;case"textarea":Q(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Vr)}Kr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Qa(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Ro(Ao.current),Ro(Po.current),Go(t)?(r=t.stateNode,n=t.memoizedProps,r[Zr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Zr]=t,t.stateNode=r)}return null;case 13:return li(Fo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Go(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fo.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Rs||0===(134217727&Bs)&&0===(134217727&qs)||mu(Rs,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Lo(),null===e&&Ar(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(li(Fo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)as(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Uo(e))){for(t.flags|=64,as(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fo,1&Fo.current|2),t.child}e=e.sibling}null!==r.tail&&Ki()>Hs&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Uo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!qo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ki()-r.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ki(),n.sibling=null,t=Fo.current,fi(Fo,s?1&t|2:1&t),n):null;case 23:case 24:return ku(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&mi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Lo(),li(pi),li(di),Qo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Mo(e),null;case 13:return li(Fo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fo),null;case 4:return Lo(),null;case 10:return ro(e),null;case 23:case 24:return ku(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ya=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xa=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ro(Po.current);var a,s=null;switch(n){case"input":o=$(e,o),r=$(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ie(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Pr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Qa=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qs||(Qs=!0,Js=r),ls(0,t)},n}function ds(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Zs?Zs=new Set([this]):Zs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function gs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(a(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Mu(n,e),ju(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&vo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}vo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Kr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(a(163))}function ms(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=_e("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(Ii&&"function"===typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(ki,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Mu(t,n);else{r=t;try{i()}catch(o){Vu(r,o)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Vu(t,o)}break;case 5:vs(t);break;case 4:Ss(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function _s(e){return 5===e.tag||3===e.tag||4===e.tag}function Es(e){e:{for(var t=e.return;null!==t;){if(_s(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(me(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||_s(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ks(e,n,t):Is(e,n,t)}function ks(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(ks(e,t,n),e=e.sibling;null!==e;)ks(e,t,n),e=e.sibling}function Is(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Is(e,t,n),e=e.sibling;null!==e;)Is(e,t,n),e=e.sibling}function Ss(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Ee(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?me(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(zs=Ki(),ms(t.child,!0)),void Cs(t);case 19:return void Cs(t);case 23:case 24:return void ms(t,null!==t.memoizedState)}throw Error(a(163))}function Cs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=qu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function xs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,Ps=_.ReactCurrentDispatcher,Os=_.ReactCurrentOwner,As=0,Rs=null,Ds=null,Ls=0,js=0,Ms=ci(0),Fs=0,Us=null,Vs=0,Bs=0,qs=0,Ks=0,Ws=null,zs=0,Hs=1/0;function Gs(){Hs=Ki()+500}var Ys,Xs=null,Qs=!1,Js=null,Zs=null,$s=!1,eu=null,tu=90,nu=[],ru=[],iu=null,ou=0,au=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&As)?Ki():-1!==su?su:su=Ki()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===uu&&(uu=Vs),0!==Qi.transition){0!==cu&&(cu=null!==Ws?Ws.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&As)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(e=vu(e,t)))return null;Kt(e,t,n),e===Rs&&(qs|=t,4===Fs&&mu(e,Ls));var r=Wi();1===t?0!==(8&As)&&0===(48&As)?bu(e):(gu(e,n),0===As&&(Gs(),Yi())):(0===(4&As)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),gu(e,n)),Ws=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function gu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Wt(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=jt;o[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Rs?Ls:0),t=jt,0===r)null!==n&&(n!==Mi&&Ci(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ci(n)}15===t?(n=bu.bind(null,e),null===Ui?(Ui=[n],Vi=Ti(Ai,Xi)):Ui.push(n),n=Mi):14===t?n=Gi(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Gi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&As))throw Error(a(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Rs?Ls:0);if(0===n)return null;var r=n,i=As;As|=16;var o=Tu();for(Rs===e&&Ls===r||(Gs(),Iu(e,r));;)try{Nu();break}catch(u){Su(e,u)}if(no(),Ps.current=o,As=i,null!==Ds?r=0:(Rs=null,Ls=0,r=Fs),0!==(Vs&qs))Iu(e,0);else if(0!==r){if(2===r&&(As|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Cu(e,n))),1===r)throw t=Us,Iu(e,0),mu(e,n),gu(e,Ki()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Au(e);break;case 3:if(mu(e,n),(62914560&n)===n&&10<(r=zs+500-Ki())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zr(Au.bind(null,e),r);break}Au(e);break;case 4:if(mu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Wt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Ki()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=zr(Au.bind(null,e),n);break}Au(e);break;default:throw Error(a(329))}}return gu(e,Ki()),e.callbackNode===t?yu.bind(null,e):null}function mu(e,t){for(t&=~Ks,t&=~qs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&As))throw Error(a(327));if(Lu(),e===Rs&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Cu(e,t);0!==(Vs&qs)&&(n=Cu(e,t=Ft(e,t)))}else n=Cu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(As|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Cu(e,t))),1===n)throw n=Us,Iu(e,0),mu(e,t),gu(e,Ki()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Au(e),gu(e,Ki()),null}function wu(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(Gs(),Yi())}}function _u(e,t){var n=As;As&=-2,As|=8;try{return e(t)}finally{0===(As=n)&&(Gs(),Yi())}}function Eu(e,t){fi(Ms,js),js|=t,Vs|=t}function ku(){js=Ms.current,li(Ms)}function Iu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mi();break;case 3:Lo(),li(pi),li(di),Qo();break;case 5:Mo(r);break;case 4:Lo();break;case 13:case 19:li(Fo);break;case 10:ro(r);break;case 23:case 24:ku()}n=n.return}Rs=e,Ds=Hu(e.current,null),Ls=js=Vs=t,Fs=0,Us=null,Ks=qs=Bs=0}function Su(e,t){for(;;){var n=Ds;try{if(no(),Jo.current=Aa,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if($o=0,na=ta=ea=null,ia=!1,Os.current=null,null===n||null===n.return){Fs=1,Us=t,Ds=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Fo.current),h=a;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var g=h.updateQueue;if(null===g){var y=new Set;y.add(c),h.updateQueue=y}else g.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=lo(-1,1);m.tag=2,fo(s,m)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new fs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=Bu.bind(null,o,c,s);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),h=a;do{switch(h.tag){case 3:o=u,h.flags|=4096,t&=-t,h.lanes|=t,ho(h,hs(0,o,t));break e;case 1:o=u;var _=h.type,E=h.stateNode;if(0===(64&h.flags)&&("function"===typeof _.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Zs||!Zs.has(E)))){h.flags|=4096,t&=-t,h.lanes|=t,ho(h,ds(h,o,t));break e}}h=h.return}while(null!==h)}Ou(n)}catch(k){t=k,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Tu(){var e=Ps.current;return Ps.current=Aa,null===e?Aa:e}function Cu(e,t){var n=As;As|=16;var r=Tu();for(Rs===e&&Ls===t||Iu(e,t);;)try{xu();break}catch(i){Su(e,i)}if(no(),As=n,Ps.current=r,null!==Ds)throw Error(a(261));return Rs=null,Ls=0,Fs}function xu(){for(;null!==Ds;)Pu(Ds)}function Nu(){for(;null!==Ds&&!xi();)Pu(Ds)}function Pu(e){var t=Ys(e.alternate,e,js);e.memoizedProps=e.pendingProps,null===t?Ou(e):Ds=t,Os.current=null}function Ou(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,js)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&js)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Fs&&(Fs=5)}function Au(e){var t=Wi();return Hi(99,Ru.bind(null,e,t)),null}function Ru(e,t){do{Lu()}while(null!==eu);if(0!==(48&As))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-Wt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Rs&&(Ds=Rs=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=As,As|=32,Os.current=null,Br=Xt,yr(s=gr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(T){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,g=s,y=null;t:for(;;){for(var m;g!==u||0!==o&&3!==g.nodeType||(h=f+o),g!==c||0!==l&&3!==g.nodeType||(d=f+l),3===g.nodeType&&(f+=g.nodeValue.length),null!==(m=g.firstChild);)y=g,g=m;for(;;){if(g===s)break t;if(y===u&&++p===o&&(h=f),y===c&&++v===l&&(d=f),null!==(m=g.nextSibling))break;y=(g=y).parentNode}g=m}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;qr={focusedElem:s,selectionRange:u},Xt=!1,lu=null,fu=!1,Xs=r;do{try{Du()}catch(T){if(null===Xs)throw Error(a(330));Vu(Xs,T),Xs=Xs.nextEffect}}while(null!==Xs);lu=null,Xs=r;do{try{for(s=e;null!==Xs;){var b=Xs.flags;if(16&b&&me(Xs.stateNode,""),128&b){var w=Xs.alternate;if(null!==w){var _=w.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:Es(Xs),Xs.flags&=-3;break;case 6:Es(Xs),Xs.flags&=-3,Ts(Xs.alternate,Xs);break;case 1024:Xs.flags&=-1025;break;case 1028:Xs.flags&=-1025,Ts(Xs.alternate,Xs);break;case 4:Ts(Xs.alternate,Xs);break;case 8:Ss(s,u=Xs);var E=u.alternate;ws(u),null!==E&&ws(E)}Xs=Xs.nextEffect}}catch(T){if(null===Xs)throw Error(a(330));Vu(Xs,T),Xs=Xs.nextEffect}}while(null!==Xs);if(_=qr,w=gr(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&vr(b.ownerDocument.documentElement,b)){null!==s&&yr(b)&&(w=s.start,void 0===(_=s.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!_.extend&&E>s&&(u=s,s=E,E=u),u=pr(b,E),o=pr(b,s),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),E>s?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Xt=!!Br,qr=Br=null,e.current=n,Xs=r;do{try{for(b=e;null!==Xs;){var k=Xs.flags;if(36&k&&ys(b,Xs.alternate,Xs),128&k){w=void 0;var I=Xs.ref;if(null!==I){var S=Xs.stateNode;Xs.tag,w=S,"function"===typeof I?I(w):I.current=w}}Xs=Xs.nextEffect}}catch(T){if(null===Xs)throw Error(a(330));Vu(Xs,T),Xs=Xs.nextEffect}}while(null!==Xs);Xs=null,Fi(),As=i}else e.current=n;if($s)$s=!1,eu=e,tu=t;else for(Xs=r;null!==Xs;)t=Xs.nextEffect,Xs.nextEffect=null,8&Xs.flags&&((k=Xs).sibling=null,k.stateNode=null),Xs=t;if(0===(r=e.pendingLanes)&&(Zs=null),1===r?e===au?ou++:(ou=0,au=e):ou=0,n=n.stateNode,Ii&&"function"===typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(ki,n,void 0,64===(64&n.current.flags))}catch(T){}if(gu(e,Ki()),Qs)throw Qs=!1,e=Js,Js=null,e;return 0!==(8&As)||Yi(),null}function Du(){for(;null!==Xs;){var e=Xs.alternate;fu||null===lu||(0!==(8&Xs.flags)?et(Xs,lu)&&(fu=!0):13===Xs.tag&&xs(e,Xs)&&et(Xs,lu)&&(fu=!0));var t=Xs.flags;0!==(256&t)&&gs(e,Xs),0===(512&t)||$s||($s=!0,Gi(97,(function(){return Lu(),null}))),Xs=Xs.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Hi(e,Fu)}return!1}function ju(e,t){nu.push(t,e),$s||($s=!0,Gi(97,(function(){return Lu(),null})))}function Mu(e,t){ru.push(t,e),$s||($s=!0,Gi(97,(function(){return Lu(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&As))throw Error(a(331));var t=As;As|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));Vu(o,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));Vu(o,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return As=t,Yi(),!0}function Uu(e,t,n){fo(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(Kt(e,1,t),gu(e,t))}function Vu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Zs||!Zs.has(r))){var i=ds(n,e=cs(t,e),1);if(fo(n,i),i=hu(),null!==(n=vu(n,1)))Kt(n,1,i),gu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Zs||!Zs.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Rs===e&&(Ls&n)===n&&(4===Fs||3===Fs&&(62914560&Ls)===Ls&&500>Ki()-zs?Iu(e,0):Ks|=n),gu(e,t)}function qu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===uu&&(uu=Vs),0===(t=Bt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(Kt(e,t,n),gu(e,n))}function Ku(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wu(e,t,n,r){return new Ku(e,t,n,r)}function zu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hu(e,t){var n=e.alternate;return null===n?((n=Wu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)zu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case I:return Yu(n.children,i,o,t);case j:s=8,i|=16;break;case S:s=8,i|=1;break;case T:return(e=Wu(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=o,e;case P:return(e=Wu(13,n,t,i)).type=P,e.elementType=P,e.lanes=o,e;case O:return(e=Wu(19,n,t,i)).elementType=O,e.lanes=o,e;case M:return Xu(n,i,o,t);case F:return(e=Wu(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case x:s=9;break e;case N:s=11;break e;case A:s=14;break e;case R:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Wu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Yu(e,t,n,r){return(e=Wu(7,e,r,t)).lanes=n,e}function Xu(e,t,n,r){return(e=Wu(23,e,r,t)).elementType=M,e.lanes=n,e}function Qu(e,t,n){return(e=Wu(6,e,null,t)).lanes=n,e}function Ju(e,t,n){return(t=Wu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function $u(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,o=hu(),s=du(i);e:if(n){t:{if(Qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=wi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fo(i,t),pu(i,s,o),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Zu(e,t,null!=n&&!0===n.hydrate),t=Wu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,uo(t),e[ei]=n.current,Ar(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(a);s.call(e)}}ec(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(a);u.call(e)}}_u((function(){ec(t,a,e,i)}))}return tc(a)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(a(200));return $u(e,t,null,n)}Ys=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Ma=!0;else{if(0===(n&r)){switch(Ma=!1,t.tag){case 3:Ga(t),Yo();break;case 5:jo(t);break;case 1:yi(t.type)&&_i(t);break;case 4:Do(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Za(e,t,n):(fi(Fo,1&Fo.current),null!==(t=os(e,t,n))?t.sibling:null);fi(Fo,1&Fo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fo,Fo.current),r)break;return null;case 23:case 24:return t.lanes=0,qa(e,t,n)}return os(e,t,n)}Ma=0!==(16384&e.flags)}else Ma=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=gi(t,di.current),oo(t,n),i=sa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var o=!0;_i(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&yo(t,r,s,e),i.updater=mo,t.stateNode=i,i._reactInternals=t,Eo(t,r,e,n),t=Ha(null,t,r,!0,o,n)}else t.tag=0,Fa(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return zu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===A)return 14}return 2}(i),e=Ji(i,e),o){case 0:t=Wa(null,t,i,e,n);break e;case 1:t=za(null,t,i,e,n);break e;case 11:t=Ua(null,t,i,e,n);break e;case 14:t=Va(null,t,i,Ji(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wa(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Ga(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Yo(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Bo=Yr(t.stateNode.containerInfo.firstChild),Vo=t,o=qo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Xo.push(o);for(n=xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fa(e,t,r,n),Yo();t=t.child}return t;case 5:return jo(t),null===e&&zo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Wr(r,i)?s=null:null!==o&&Wr(r,o)&&(t.flags|=16),Ka(e,t),Fa(e,t,s,n),t.child;case 6:return null===e&&zo(t),null;case 13:return Za(e,t,n);case 4:return Do(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Co(t,null,r,n):Fa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Fa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(fi(Zi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=lr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!pi.current){t=os(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=lo(-1,n&-n)).tag=2,fo(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),io(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,Fa(e,t,r,n),t.child;case 14:return o=Ji(i=t.type,t.pendingProps),Va(e,t,i,o=Ji(i.type,o),r,n);case 15:return Ba(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,_i(t)):e=!1,oo(t,n),wo(t,r,i),Eo(t,r,i,n),Ha(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return qa(e,t,n)}throw Error(a(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Re=wu,De=function(e,t,n,r,i){var o=As;As|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(As=o)&&(Gs(),Yi())}},Le=function(){0===(49&As)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,gu(e,Ki())}))}Yi()}(),Lu())},je=function(e,t){var n=As;As|=2;try{return e(t)}finally{0===(As=n)&&(Gs(),Yi())}};var uc={Events:[ri,ii,oi,Oe,Ae,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{ki=fc.inject(lc),Ii=fc}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=As;if(0!==(48&n))return e(t);As|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{As=n,Yi()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(a(40));return!!e._reactRootContainer&&(_u((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=m.prototype=new y;b.constructor=m,r(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:w.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+T(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),C(a,t,n,"",(function(e){return e}))):null!=a&&(I(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(s=e[c],c);u+=C(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,n,l=r+T(s,c++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function x(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var P={current:null};function O(){var e=P.current;if(null===e)throw Error(d(321));return e}var A={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:x,forEach:function(e,t,n){x(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return x(e,(function(){t++})),t},toArray:function(e){return x(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(d(143));return e}},t.Component=g,t.PureComponent=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,g=null,y=-1,m=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+m;try{g(!0,e)?_.postMessage(null):(v=!1,g=null)}catch(n){throw _.postMessage(null),n}}else v=!1},n=function(e){g=e,v||(v=!0,_.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>S(a,n))void 0!==u&&0>S(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>S(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],C=[],x=1,N=null,P=3,O=!1,A=!1,R=!1;function D(e){for(var t=k(C);null!==t;){if(null===t.callback)I(C);else{if(!(t.startTime<=e))break;I(C),t.sortIndex=t.expirationTime,E(T,t)}t=k(C)}}function L(e){if(R=!1,D(e),!A)if(null!==k(T))A=!0,n(j);else{var t=k(C);null!==t&&r(L,t.startTime-e)}}function j(e,n){A=!1,R&&(R=!1,i()),O=!0;var o=P;try{for(D(n),N=k(T);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=N.callback;if("function"===typeof a){N.callback=null,P=N.priorityLevel;var s=a(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===k(T)&&I(T),D(n)}else I(T);N=k(T)}if(null!==N)var u=!0;else{var c=k(C);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{N=null,P=o,O=!1}}var M=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||O||(A=!0,n(j))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return k(T)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:x++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,E(C,e),null===k(T)&&e===k(C)&&(R?i():R=!0,r(L,a-s))):(e.sortIndex=u,E(T,e),A||O||(A=!0,n(j))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t},574:function(e,t,n){"use strict";e.exports=n.p+"static/media/catHome.85cf95fbae5b0c1f392f.png"},706:function(e,t,n){"use strict";e.exports=n.p+"static/media/heart.36b9252e17d35420a148.png"},724:function(e,t,n){"use strict";e.exports=n.p+"static/media/1.baa0b0fb457f213ca0cf.jpg"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".60eaf538.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="cats:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+o){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/cats/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkcats=self.webpackChunkcats||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(791),t=n(164);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var s,u=s||(s={});u.Pop="POP",u.Push="PUSH",u.Replace="REPLACE";var c=function(e){return e};function l(e){e.preventDefault(),e.returnValue=""}function f(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function h(){return Math.random().toString(36).substr(2,8)}function d(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function p(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function v(e,t){if(!e)throw new Error(t)}var g=(0,e.createContext)(null);var y=(0,e.createContext)(null);var m=(0,e.createContext)({outlet:null,matches:[]});function b(t){return function(t){var n=(0,e.useContext)(m).outlet;if(n)return(0,e.createElement)(C.Provider,{value:t},n);return n}(t.context)}function w(e){v(!1)}function _(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,o=void 0===i?null:i,a=t.location,u=t.navigationType,c=void 0===u?s.Pop:u,l=t.navigator,f=t.static,h=void 0!==f&&f;I()&&v(!1);var d=B(r),m=(0,e.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof a&&(a=p(a));var b=a,w=b.pathname,_=void 0===w?"/":w,E=b.search,k=void 0===E?"":E,S=b.hash,T=void 0===S?"":S,C=b.state,x=void 0===C?null:C,N=b.key,P=void 0===N?"default":N,O=(0,e.useMemo)((function(){var e=U(_,d);return null==e?null:{pathname:e,search:k,hash:T,state:x,key:P}}),[d,_,k,T,x,P]);return null==O?null:(0,e.createElement)(g.Provider,{value:m},(0,e.createElement)(y.Provider,{children:o,value:{location:O,navigationType:c}}))}function E(t){var n=t.children,r=t.location;return function(t,n){I()||v(!1);var r=(0,e.useContext)(m).matches,i=r[r.length-1],o=i?i.params:{},a=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var s,u=S();if(n){var c,l="string"===typeof n?p(n):n;"/"===a||(null==(c=l.pathname)?void 0:c.startsWith(a))||v(!1),s=l}else s=u;var f=s.pathname||"/",h="/"===a?f:f.slice(a.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=U(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;var i=O(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=L(i[a],r);return o}(t,{pathname:h});0;return j(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:V([a,e.pathname]),pathnameBase:"/"===e.pathnameBase?a:V([a,e.pathnameBase])})})),r)}(P(n),r)}function k(t){I()||v(!1);var n=(0,e.useContext)(g),r=n.basename,i=n.navigator,o=N(t),a=o.hash,s=o.pathname,u=o.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?p(e).pathname:e.pathname}(t),f=null!=l&&l.endsWith("/");c="/"===s?r+(f?"/":""):V([r,s])}return i.createHref({pathname:c,search:u,hash:a})}function I(){return null!=(0,e.useContext)(y)}function S(){return I()||v(!1),(0,e.useContext)(y).location}function T(){I()||v(!1);var t=(0,e.useContext)(g),n=t.basename,r=t.navigator,i=(0,e.useContext)(m).matches,o=S().pathname,a=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,e.useRef)(!1);(0,e.useEffect)((function(){s.current=!0}));var u=(0,e.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=F(e,JSON.parse(a),o);"/"!==n&&(i.pathname=V([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,a,o]);return u}var C=(0,e.createContext)(null);function x(){var t=(0,e.useContext)(m).matches,n=t[t.length-1];return n?n.params:{}}function N(t){var n=(0,e.useContext)(m).matches,r=S().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,e.useMemo)((function(){return F(t,JSON.parse(i),r)}),[t,i,r])}function P(t){var n=[];return e.Children.forEach(t,(function(t){if((0,e.isValidElement)(t))if(t.type!==e.Fragment){t.type!==w&&v(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=P(t.props.children)),n.push(r)}else n.push.apply(n,P(t.props.children))})),n}function O(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||v(!1),o.relativePath=o.relativePath.slice(r.length));var a=V([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&v(!1),O(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:D(a,e.index),routesMeta:s})})),t}var A=/^:\w+$/,R=function(e){return"*"===e};function D(e,t){var n=e.split("/"),r=n.length;return n.some(R)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!R(e)})).reduce((function(e,t){return e+(A.test(t)?3:""===t?1:10)}),r)}function L(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=M({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;o.push({params:r,pathname:V([i,l.pathname]),pathnameBase:V([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=V([i,l.pathnameBase]))}return o}function j(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight((function(r,i,o){return(0,e.createElement)(m.Provider,{children:void 0!==i.route.element?i.route.element:(0,e.createElement)(b,null),value:{outlet:r,matches:n.concat(t.slice(0,o+1))}})}),null)}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=o(n,2),i=r[0],a=r[1],s=t.match(i);if(!s)return null;var u=s[0],c=u.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function F(e,t,n){var r,i="string"===typeof e?p(e):e,o=""===e||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{var a=t.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),a-=1;i.pathname=s.join("/")}r=a>=0?t[a]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?p(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:q(o),hash:K(s)}}(i,r);return o&&"/"!==o&&o.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function U(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var V=function(e){return e.join("/").replace(/\/\/+/g,"/")},B=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},q=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},K=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function W(){return W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}function z(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var H=["onClick","reloadDocument","replace","state","target","to"];function G(t){var n=t.basename,r=t.children,i=t.window,u=(0,e.useRef)();null==u.current&&(u.current=function(e){function t(){var e=p(v.location.hash.substr(1)),t=e.pathname,n=e.search;e=e.hash;var r=g.state||{};return[r.idx,c({pathname:void 0===t?"/":t,search:void 0===n?"":n,hash:void 0===e?"":e,state:r.usr||null,key:r.key||"default"})]}function n(){if(y)E.call(y),y=null;else{var e=s.Pop,n=t(),r=n[0];if(n=n[1],E.length){if(null!=r){var i=b-r;i&&(y={action:e,location:n,retry:function(){u(-1*i)}},u(i))}}else o(e)}}function r(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=-1===(n=(t=v.location.href).indexOf("#"))?t:t.slice(0,n)),n+"#"+("string"===typeof e?e:d(e))}function i(e,t){return void 0===t&&(t=null),c(a({pathname:w.pathname,hash:"",search:""},"string"===typeof e?p(e):e,{state:t,key:h()}))}function o(e){m=e,e=t(),b=e[0],w=e[1],_.call({action:m,location:w})}function u(e){g.go(e)}void 0===e&&(e={});var v=void 0===(e=e.window)?document.defaultView:e,g=v.history,y=null;v.addEventListener("popstate",n),v.addEventListener("hashchange",(function(){d(t()[1])!==d(w)&&n()}));var m=s.Pop,b=(e=t())[0],w=e[1],_=f(),E=f();return null==b&&(b=0,g.replaceState(a({},g.state,{idx:b}),"")),{get action(){return m},get location(){return w},createHref:r,push:function e(t,n){var a=s.Push,u=i(t,n);if(!E.length||(E.call({action:a,location:u,retry:function(){e(t,n)}}),0)){var c=[{usr:u.state,key:u.key,idx:b+1},r(u)];u=c[0],c=c[1];try{g.pushState(u,"",c)}catch(oi){v.location.assign(c)}o(a)}},replace:function e(t,n){var a=s.Replace,u=i(t,n);E.length&&(E.call({action:a,location:u,retry:function(){e(t,n)}}),1)||(u=[{usr:u.state,key:u.key,idx:b},r(u)],g.replaceState(u[0],"",u[1]),o(a))},go:u,back:function(){u(-1)},forward:function(){u(1)},listen:function(e){return _.push(e)},block:function(e){var t=E.push(e);return 1===E.length&&v.addEventListener("beforeunload",l),function(){t(),E.length||v.removeEventListener("beforeunload",l)}}}}({window:i}));var v=u.current,g=o((0,e.useState)({action:v.action,location:v.location}),2),y=g[0],m=g[1];return(0,e.useLayoutEffect)((function(){return v.listen(m)}),[v]),(0,e.createElement)(_,{basename:n,children:r,location:y.location,navigationType:y.action,navigator:v})}var Y=(0,e.forwardRef)((function(t,n){var r=t.onClick,i=t.reloadDocument,o=t.replace,a=void 0!==o&&o,s=t.state,u=t.target,c=t.to,l=z(t,H),f=k(c),h=function(t,n){var r=void 0===n?{}:n,i=r.target,o=r.replace,a=r.state,s=T(),u=S(),c=N(t);return(0,e.useCallback)((function(e){if(0===e.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)){e.preventDefault();var n=!!o||d(u)===d(c);s(t,{replace:n,state:a})}}),[u,s,c,o,a,i,t])}(c,{replace:a,state:s,target:u});return(0,e.createElement)("a",W({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:u}))}));function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function $(e,t){if(null==e)return{};var n,r,i=Z(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ee=n(694),te=n.n(ee),ne=n(184),re=e.createContext({prefixes:{}});re.Consumer,re.Provider;function ie(t,n){var r=(0,e.useContext)(re).prefixes;return t||r[n]||n}var oe=["bsPrefix","fluid","as","className"],ae=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,o=void 0===i?"div":i,a=e.className,s=$(e,oe),u=ie(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,ne.jsx)(o,J(J({ref:t},s),{},{className:te()(a,r?"".concat(u).concat(c):u)}))}));ae.displayName="Container",ae.defaultProps={fluid:!1};var se=ae,ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},ce=e.createContext(null);n(176);function le(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function fe(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function he(t,n){return Object.keys(n).reduce((function(r,i){var o,s=r,u=s[le(i)],c=s[i],l=Z(s,[le(i),i].map(fe)),f=n[i],h=function(t,n,r){var i=(0,e.useRef)(void 0!==t),o=(0,e.useState)(n),a=o[0],s=o[1],u=void 0!==t,c=i.current;return i.current=u,!u&&c&&a!==n&&s(n),[u?t:a,(0,e.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}(c,u,t[f]),d=h[0],p=h[1];return a({},l,((o={})[i]=d,o[f]=p,o))}),t)}function de(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function pe(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function ve(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}de.__suppressDeprecationWarning=!0,pe.__suppressDeprecationWarning=!0,ve.__suppressDeprecationWarning=!0;var ge=/-(.)/g;var ye=["className","bsPrefix","as"],me=function(e){return e[0].toUpperCase()+(t=e,t.replace(ge,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function be(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?me(t):r,o=n.Component,a=n.defaultProps,s=e.forwardRef((function(e,n){var r=e.className,i=e.bsPrefix,a=e.as,s=void 0===a?o||"div":a,u=$(e,ye),c=ie(i,t);return(0,ne.jsx)(s,J({ref:n,className:te()(r,c)},u))}));return s.defaultProps=a,s.displayName=i,s}var we=["bsPrefix","className","as"],_e=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,o=$(e,we);n=ie(n,"navbar-brand");var a=i||(o.href?"a":"span");return(0,ne.jsx)(a,J(J({},o),{},{ref:t,className:te()(r,n)}))}));_e.displayName="NavbarBrand";var Ee=_e;function ke(e){return e&&e.ownerDocument||document}function Ie(e,t){return function(e){var t=ke(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Se=/([A-Z])/g;var Te=/^ms-/;function Ce(e){return function(e){return e.replace(Se,"-$1").toLowerCase()}(e).replace(Te,"-ms-")}var xe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Ne=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Ce(t))||Ie(e).getPropertyValue(Ce(t));Object.keys(t).forEach((function(i){var o=t[i];o||0===o?!function(e){return!(!e||!xe.test(e))}(i)?n+=Ce(i)+": "+o+";":r+=i+"("+o+") ":e.style.removeProperty(Ce(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function Pe(e,t){return Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pe(e,t)}var Oe=!1,Ae=e.createContext(null),Re="unmounted",De="exited",Le="entering",je="entered",Me="exiting",Fe=function(n){var r,i;function o(e,t){var r;r=n.call(this,e,t)||this;var i,o=t&&!t.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=De,r.appearStatus=Le):i=je:i=e.unmountOnExit||e.mountOnEnter?Re:De,r.state={status:i},r.nextCallback=null,r}i=n,(r=o).prototype=Object.create(i.prototype),r.prototype.constructor=r,Pe(r,i),o.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Re?{status:De}:null};var a=o.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Le&&n!==je&&(t=Le):n!==Le&&n!==je||(t=Me)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===Le?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===De&&this.setState({status:Re})},a.performEnter=function(e){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:e,o=this.props.nodeRef?[i]:[t.findDOMNode(this),i],a=o[0],s=o[1],u=this.getTimeouts(),c=i?u.appear:u.enter;!e&&!r||Oe?this.safeSetState({status:je},(function(){n.props.onEntered(a)})):(this.props.onEnter(a,s),this.safeSetState({status:Le},(function(){n.props.onEntering(a,s),n.onTransitionEnd(c,(function(){n.safeSetState({status:je},(function(){n.props.onEntered(a,s)}))}))})))},a.performExit=function(){var e=this,n=this.props.exit,r=this.getTimeouts(),i=this.props.nodeRef?void 0:t.findDOMNode(this);n&&!Oe?(this.props.onExit(i),this.safeSetState({status:Me},(function(){e.props.onExiting(i),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:De},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:De},(function(){e.props.onExited(i)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,n){this.setNextCallback(n);var r=this.props.nodeRef?this.props.nodeRef.current:t.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(r&&!i){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],a=o[0],s=o[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var t=this.state.status;if(t===Re)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Z(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(Ae.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},o}(e.Component);function Ue(){}Fe.contextType=Ae,Fe.propTypes={},Fe.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ue,onEntering:Ue,onEntered:Ue,onExit:Ue,onExiting:Ue,onExited:Ue},Fe.UNMOUNTED=Re,Fe.EXITED=De,Fe.ENTERING=Le,Fe.ENTERED=je,Fe.EXITING=Me;var Ve=Fe,Be=!("undefined"===typeof window||!window.document||!window.document.createElement),qe=!1,Ke=!1;try{var We={get passive(){return qe=!0},get once(){return Ke=qe=!0}};Be&&(window.addEventListener("test",We,We),window.removeEventListener("test",We,!0))}catch(mT){}var ze=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Ke){var i=r.once,o=r.capture,a=n;!Ke&&i&&(a=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=a),e.addEventListener(t,a,qe?r:o)}e.addEventListener(t,n,r)};var He=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var Ge=function(e,t,n,r){return ze(e,t,n,r),function(){He(e,t,n,r)}};function Ye(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),o=Ge(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}function Xe(e,t,n,r){null==n&&(n=function(e){var t=Ne(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Ye(e,n,r),o=Ge(e,"transitionend",t);return function(){i(),o()}}function Qe(e,t){var n=Ne(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Je(e,t){var n=Qe(e,"transitionDuration"),r=Qe(e,"transitionDelay"),i=Xe(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var Ze=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function $e(e){e.offsetHeight}var et=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var tt=function(t,n){return(0,e.useMemo)((function(){return function(e,t){var n=et(e),r=et(t);return function(e){n&&n(e),r&&r(e)}}(t,n)}),[t,n])};var nt,rt=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],it=e.forwardRef((function(n,r){var i=n.onEnter,o=n.onEntering,a=n.onEntered,s=n.onExit,u=n.onExiting,c=n.onExited,l=n.addEndListener,f=n.children,h=n.childRef,d=$(n,rt),p=(0,e.useRef)(null),v=tt(p,h),g=function(e){var n;v((n=e)&&"setState"in n?t.findDOMNode(n):null!=n?n:null)},y=function(e){return function(t){e&&p.current&&e(p.current,t)}},m=(0,e.useCallback)(y(i),[i]),b=(0,e.useCallback)(y(o),[o]),w=(0,e.useCallback)(y(a),[a]),_=(0,e.useCallback)(y(s),[s]),E=(0,e.useCallback)(y(u),[u]),k=(0,e.useCallback)(y(c),[c]),I=(0,e.useCallback)(y(l),[l]);return(0,ne.jsx)(Ve,J(J({ref:r},d),{},{onEnter:m,onEntered:w,onEntering:b,onExit:_,onExited:k,onExiting:E,addEndListener:I,nodeRef:p,children:"function"===typeof f?function(e,t){return f(e,J(J({},t),{},{ref:g}))}:e.cloneElement(f,{ref:g})}))})),ot=it,at=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],st={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function ut(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=st[e];return n+parseInt(Ne(t,r[0]),10)+parseInt(Ne(t,r[1]),10)}var ct=(X(nt={},De,"collapse"),X(nt,Me,"collapsing"),X(nt,Le,"collapsing"),X(nt,je,"collapse show"),nt),lt={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:ut},ft=e.forwardRef((function(t,n){var r=t.onEnter,i=t.onEntering,o=t.onEntered,a=t.onExit,s=t.onExiting,u=t.className,c=t.children,l=t.dimension,f=void 0===l?"height":l,h=t.getDimensionValue,d=void 0===h?ut:h,p=$(t,at),v="function"===typeof f?f():f,g=(0,e.useMemo)((function(){return Ze((function(e){e.style[v]="0"}),r)}),[v,r]),y=(0,e.useMemo)((function(){return Ze((function(e){var t="scroll".concat(v[0].toUpperCase()).concat(v.slice(1));e.style[v]="".concat(e[t],"px")}),i)}),[v,i]),m=(0,e.useMemo)((function(){return Ze((function(e){e.style[v]=null}),o)}),[v,o]),b=(0,e.useMemo)((function(){return Ze((function(e){e.style[v]="".concat(d(v,e),"px"),$e(e)}),a)}),[a,d,v]),w=(0,e.useMemo)((function(){return Ze((function(e){e.style[v]=null}),s)}),[v,s]);return(0,ne.jsx)(ot,J(J({ref:n,addEndListener:Je},p),{},{"aria-expanded":p.role?p.in:null,onEnter:g,onEntering:y,onEntered:m,onExit:b,onExiting:w,childRef:c.ref,children:function(t,n){return e.cloneElement(c,J(J({},n),{},{className:te()(u,c.props.className,ct[t],"width"===v&&"collapse-horizontal")}))}}))}));ft.defaultProps=lt;var ht=ft,dt=e.createContext(null);dt.displayName="NavbarContext";var pt=dt,vt=["children","bsPrefix"],gt=e.forwardRef((function(t,n){var r=t.children,i=t.bsPrefix,o=$(t,vt);i=ie(i,"navbar-collapse");var a=(0,e.useContext)(pt);return(0,ne.jsx)(ht,J(J({in:!(!a||!a.expanded)},o),{},{children:(0,ne.jsx)("div",{ref:n,className:i,children:r})}))}));gt.displayName="NavbarCollapse";var yt=gt;var mt=function(t){var n=(0,e.useRef)(t);return(0,e.useEffect)((function(){n.current=t}),[t]),n};function bt(t){var n=mt(t);return(0,e.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var wt=["bsPrefix","className","children","label","as","onClick"],_t=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.children,a=t.label,s=t.as,u=void 0===s?"button":s,c=t.onClick,l=$(t,wt);r=ie(r,"navbar-toggler");var f=(0,e.useContext)(pt)||{},h=f.onToggle,d=f.expanded,p=bt((function(e){c&&c(e),h&&h()}));return"button"===u&&(l.type="button"),(0,ne.jsx)(u,J(J({},l),{},{ref:n,onClick:p,"aria-label":a,className:te()(i,r,!d&&"collapsed"),children:o||(0,ne.jsx)("span",{className:"".concat(r,"-icon")})}))}));_t.displayName="NavbarToggle",_t.defaultProps={label:"Toggle navigation"};var Et=_t;function kt(e){void 0===e&&(e=ke());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(mT){return e.body}}function It(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function St(t){var n=function(t){var n=(0,e.useRef)(t);return n.current=t,n}(t);(0,e.useEffect)((function(){return function(){return n.current()}}),[])}function Tt(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t,n){return t&&xt(e.prototype,t),n&&xt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pt(e){return"".concat("data-rr-ui-").concat(e)}var Ot=Pt("modal-open"),At=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,o=t.isRTL,a=void 0!==o&&o;Ct(this,e),this.handleContainerOverflow=i,this.isRTL=a,this.modals=[],this.ownerDocument=n}return Nt(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=X({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(Ne(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(Ot,""),Ne(r,t)}},{key:"reset",value:function(){var e=this;Tt(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(Ot),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),Rt=At,Dt=(0,e.createContext)(Be?window:void 0);Dt.Provider;function Lt(){return(0,e.useContext)(Dt)}var jt=function(e,t){var n;return Be?null==e?(t||ke()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(n=e)&&n.nodeType&&e||null):null};var Mt,Ft=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Ut(t){var n=Lt(),r=t||function(e){return Mt||(Mt=new Rt({ownerDocument:null==e?void 0:e.document})),Mt}(n),i=(0,e.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,e.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,e.useCallback)((function(e){i.current.backdrop=e}),[])})}var Vt=(0,e.forwardRef)((function(n,r){var i=n.show,a=void 0!==i&&i,s=n.role,u=void 0===s?"dialog":s,c=n.className,l=n.style,f=n.children,h=n.backdrop,d=void 0===h||h,p=n.keyboard,v=void 0===p||p,g=n.onBackdropClick,y=n.onEscapeKeyDown,m=n.transition,b=n.backdropTransition,w=n.autoFocus,_=void 0===w||w,E=n.enforceFocus,k=void 0===E||E,I=n.restoreFocus,S=void 0===I||I,T=n.restoreFocusOptions,C=n.renderDialog,x=n.renderBackdrop,N=void 0===x?function(e){return(0,ne.jsx)("div",Object.assign({},e))}:x,P=n.manager,O=n.container,A=n.onShow,R=n.onHide,D=void 0===R?function(){}:R,L=n.onExit,j=n.onExited,M=n.onExiting,F=n.onEnter,U=n.onEntering,V=n.onEntered,B=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,Ft),q=function(t,n){var r=Lt(),i=o((0,e.useState)((function(){return jt(t,null==r?void 0:r.document)})),2),a=i[0],s=i[1];if(!a){var u=jt(t);u&&s(u)}return(0,e.useEffect)((function(){n&&a&&n(a)}),[n,a]),(0,e.useEffect)((function(){var e=jt(t);e!==a&&s(e)}),[t,a]),a}(O),K=Ut(P),W=function(){var t=(0,e.useRef)(!0),n=(0,e.useRef)((function(){return t.current}));return(0,e.useEffect)((function(){return function(){t.current=!1}}),[]),n.current}(),z=function(t){var n=(0,e.useRef)(null);return(0,e.useEffect)((function(){n.current=t})),n.current}(a),H=o((0,e.useState)(!a),2),G=H[0],Y=H[1],X=(0,e.useRef)(null);(0,e.useImperativeHandle)(r,(function(){return K}),[K]),Be&&!z&&a&&(X.current=kt()),m||a||G?a&&G&&Y(!1):Y(!0);var Q=bt((function(){if(K.add(),re.current=Ge(document,"keydown",ee),te.current=Ge(document,"focus",(function(){return setTimeout(Z)}),!0),A&&A(),_){var e=kt(document);K.dialog&&e&&!It(K.dialog,e)&&(X.current=e,K.dialog.focus())}})),J=bt((function(){var e;(K.remove(),null==re.current||re.current(),null==te.current||te.current(),S)&&(null==(e=X.current)||null==e.focus||e.focus(T),X.current=null)}));(0,e.useEffect)((function(){a&&q&&Q()}),[a,q,Q]),(0,e.useEffect)((function(){G&&J()}),[G,J]),St((function(){J()}));var Z=bt((function(){if(k&&W()&&K.isTopModal()){var e=kt();K.dialog&&e&&!It(K.dialog,e)&&K.dialog.focus()}})),$=bt((function(e){e.target===e.currentTarget&&(null==g||g(e),!0===d&&D())})),ee=bt((function(e){v&&27===e.keyCode&&K.isTopModal()&&(null==y||y(e),e.defaultPrevented||D())})),te=(0,e.useRef)(),re=(0,e.useRef)(),ie=m;if(!q||!(a||ie&&!G))return null;var oe=Object.assign({role:u,ref:K.setDialogRef,"aria-modal":"dialog"===u||void 0},B,{style:l,className:c,tabIndex:-1}),ae=C?C(oe):(0,ne.jsx)("div",Object.assign({},oe,{children:e.cloneElement(f,{role:"document"})}));ie&&(ae=(0,ne.jsx)(ie,{appear:!0,unmountOnExit:!0,in:!!a,onExit:L,onExiting:M,onExited:function(){Y(!0),null==j||j.apply(void 0,arguments)},onEnter:F,onEntering:U,onEntered:V,children:ae}));var se=null;if(d){var ue=b;se=N({ref:K.setBackdropRef,onClick:$}),ue&&(se=(0,ne.jsx)(ue,{appear:!0,in:!!a,children:se}))}return(0,ne.jsx)(ne.Fragment,{children:t.createPortal((0,ne.jsxs)(ne.Fragment,{children:[se,ae]}),q)})}));Vt.displayName="Modal";var Bt,qt=Object.assign(Vt,{Manager:Rt}),Kt=["className","children","transitionClasses"],Wt=(X(Bt={},Le,"show"),X(Bt,je,"show"),Bt),zt=e.forwardRef((function(t,n){var r=t.className,i=t.children,o=t.transitionClasses,a=void 0===o?{}:o,s=$(t,Kt),u=(0,e.useCallback)((function(e,t){$e(e),null==s.onEnter||s.onEnter(e,t)}),[s]);return(0,ne.jsx)(ot,J(J({ref:n,addEndListener:Je},s),{},{onEnter:u,childRef:i.ref,children:function(t,n){return e.cloneElement(i,J(J({},n),{},{className:te()("fade",r,i.props.className,Wt[t],a[t])}))}}))}));zt.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},zt.displayName="Fade";var Ht,Gt=zt,Yt=be("offcanvas-body"),Xt=["bsPrefix","className","children"],Qt=(X(Ht={},Le,"show"),X(Ht,je,"show"),Ht),Jt=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.children,a=$(t,Xt);return r=ie(r,"offcanvas"),(0,ne.jsx)(ot,J(J({ref:n,addEndListener:Je},a),{},{childRef:o.ref,children:function(t,n){return e.cloneElement(o,J(J({},n),{},{className:te()(i,o.props.className,(t===Le||t===Me)&&"".concat(r,"-toggling"),Qt[t])}))}}))}));Jt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Jt.displayName="OffcanvasToggling";var Zt=Jt,$t=e.createContext({onHide:function(){}}),en=n(7),tn=n.n(en),nn=["className","variant"],rn={"aria-label":tn().string,onClick:tn().func,variant:tn().oneOf(["white"])},on=e.forwardRef((function(e,t){var n=e.className,r=e.variant,i=$(e,nn);return(0,ne.jsx)("button",J({ref:t,type:"button",className:te()("btn-close",r&&"btn-close-".concat(r),n)},i))}));on.displayName="CloseButton",on.propTypes=rn,on.defaultProps={"aria-label":"Close"};var an=on,sn=["closeLabel","closeVariant","closeButton","onHide","children"],un=e.forwardRef((function(t,n){var r=t.closeLabel,i=t.closeVariant,o=t.closeButton,a=t.onHide,s=t.children,u=$(t,sn),c=(0,e.useContext)($t),l=bt((function(){null==c||c.onHide(),null==a||a()}));return(0,ne.jsxs)("div",J(J({ref:n},u),{},{children:[s,o&&(0,ne.jsx)(an,{"aria-label":r,variant:i,onClick:l})]}))}));un.defaultProps={closeLabel:"Close",closeButton:!1};var cn=un,ln=["bsPrefix","className"],fn=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=$(e,ln);return n=ie(n,"offcanvas-header"),(0,ne.jsx)(cn,J(J({ref:t},i),{},{className:te()(r,n)}))}));fn.displayName="OffcanvasHeader",fn.defaultProps={closeLabel:"Close",closeButton:!1};var hn=fn,dn=function(t){return e.forwardRef((function(e,n){return(0,ne.jsx)("div",J(J({},e),{},{ref:n,className:te()(e.className,t)}))}))},pn=be("offcanvas-title",{Component:dn("h5")});function vn(e){return vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vn(e)}function gn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vn(e)););return e}function yn(){return yn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=gn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},yn.apply(this,arguments)}function mn(e){return mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mn(e)}function bn(e,t){if(t&&("object"===mn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function wn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(mT){return!1}}();return function(){var n,r=vn(e);if(t){var i=vn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bn(this,n)}}var _n=Function.prototype.bind.call(Function.prototype.call,[].slice);function En(e,t){return _n(e.querySelectorAll(t))}function kn(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var In,Sn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Tn=".sticky-top",Cn=".navbar-toggler",xn=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pe(e,t)}(n,e);var t=wn(n);function n(){return Ct(this,n),t.apply(this,arguments)}return Nt(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,Ne(t,X({},e,"".concat(parseFloat(Ne(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Ne(t,X({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;yn(vn(n.prototype),"setContainerStyle",this).call(this,e);var r,i,o=this.getElement();if(i="modal-open",(r=o).classList?r.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,i)||("string"===typeof r.className?r.className=r.className+" "+i:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+i)),e.scrollBarWidth){var a=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";En(o,Sn).forEach((function(n){return t.adjustAndStore(a,n,e.scrollBarWidth)})),En(o,Tn).forEach((function(n){return t.adjustAndStore(s,n,-e.scrollBarWidth)})),En(o,Cn).forEach((function(n){return t.adjustAndStore(s,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;yn(vn(n.prototype),"removeContainerStyle",this).call(this,e);var r,i,o=this.getElement();i="modal-open",(r=o).classList?r.classList.remove(i):"string"===typeof r.className?r.className=kn(r.className,i):r.setAttribute("class",kn(r.className&&r.className.baseVal||"",i));var a=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";En(o,Sn).forEach((function(e){return t.restore(a,e)})),En(o,Tn).forEach((function(e){return t.restore(s,e)})),En(o,Cn).forEach((function(e){return t.restore(s,e)}))}}]),n}(Rt);var Nn=xn,Pn=["bsPrefix","className","children","aria-labelledby","placement","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function On(e){return(0,ne.jsx)(Zt,J({},e))}function An(e){return(0,ne.jsx)(Gt,J({},e))}var Rn=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.children,a=t["aria-labelledby"],s=t.placement,u=t.show,c=t.backdrop,l=t.keyboard,f=t.scroll,h=t.onEscapeKeyDown,d=t.onShow,p=t.onHide,v=t.container,g=t.autoFocus,y=t.enforceFocus,m=t.restoreFocus,b=t.restoreFocusOptions,w=t.onEntered,_=t.onExit,E=t.onExiting,k=t.onEnter,I=t.onEntering,S=t.onExited,T=t.backdropClassName,C=t.manager,x=$(t,Pn),N=(0,e.useRef)();r=ie(r,"offcanvas");var P=((0,e.useContext)(pt)||{}).onToggle,O=bt((function(){null==P||P(),null==p||p()})),A=(0,e.useMemo)((function(){return{onHide:O}}),[O]);var R=(0,e.useCallback)((function(e){return(0,ne.jsx)("div",J(J({},e),{},{className:te()("".concat(r,"-backdrop"),T)}))}),[T,r]);return(0,ne.jsx)($t.Provider,{value:A,children:(0,ne.jsx)(qt,{show:u,ref:n,backdrop:c,container:v,keyboard:l,autoFocus:g,enforceFocus:y&&!f,restoreFocus:m,restoreFocusOptions:b,onEscapeKeyDown:h,onShow:d,onHide:O,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==k||k.apply(void 0,[e].concat(n))},onEntering:I,onEntered:w,onExit:_,onExiting:E,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==S||S.apply(void 0,n)},manager:C||(f?(N.current||(N.current=new Nn({handleContainerOverflow:!1})),N.current):function(e){return In||(In=new xn(e)),In}()),transition:On,backdropTransition:An,renderBackdrop:R,renderDialog:function(e){return(0,ne.jsx)("div",J(J(J({role:"dialog"},e),x),{},{className:te()(i,r,"".concat(r,"-").concat(s)),"aria-labelledby":a,children:o}))}})})}));Rn.displayName="Offcanvas",Rn.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};var Dn=Object.assign(Rn,{Body:Yt,Header:hn,Title:pn}),Ln=e.forwardRef((function(t,n){var r=(0,e.useContext)(pt);return(0,ne.jsx)(Dn,J({ref:n,show:!(null==r||!r.expanded)},t))}));Ln.displayName="NavbarOffcanvas";var jn=Ln,Mn=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],Fn=be("navbar-text",{Component:"span"}),Un=e.forwardRef((function(t,n){var r=he(t,{expanded:"onToggle"}),i=r.bsPrefix,o=r.expand,a=r.variant,s=r.bg,u=r.fixed,c=r.sticky,l=r.className,f=r.as,h=void 0===f?"nav":f,d=r.expanded,p=r.onToggle,v=r.onSelect,g=r.collapseOnSelect,y=$(r,Mn),m=ie(i,"navbar"),b=(0,e.useCallback)((function(){null==v||v.apply(void 0,arguments),g&&d&&(null==p||p(!1))}),[v,g,d,p]);void 0===y.role&&"nav"!==h&&(y.role="navigation");var w="".concat(m,"-expand");"string"===typeof o&&(w="".concat(w,"-").concat(o));var _=(0,e.useMemo)((function(){return{onToggle:function(){return null==p?void 0:p(!d)},bsPrefix:m,expanded:!!d}}),[m,d,p]);return(0,ne.jsx)(pt.Provider,{value:_,children:(0,ne.jsx)(ce.Provider,{value:b,children:(0,ne.jsx)(h,J(J({ref:n},y),{},{className:te()(l,m,o&&w,a&&"".concat(m,"-").concat(a),s&&"bg-".concat(s),c&&"sticky-".concat(c),u&&"fixed-".concat(u))}))})})}));Un.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},Un.displayName="Navbar";var Vn=Object.assign(Un,{Brand:Ee,Collapse:yt,Offcanvas:jn,Text:Fn,Toggle:Et});n(573);var Bn=e.createContext(null);Bn.displayName="NavContext";var qn=Bn,Kn=e.createContext(null),Wn=["as","disabled"];function zn(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,o=e.rel,a=e.onClick,s=e.tabIndex,u=void 0===s?0:s,c=e.type;t||(t=null!=r||null!=i||null!=o?"a":"button");var l={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},l];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==a||a(e)};return[{role:"button",disabled:void 0,tabIndex:n?void 0:u,href:"a"===t&&n?void 0:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?o:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},l]}var Hn=e.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Wn),a=o(zn(Object.assign({tagName:n,disabled:r},i)),2),s=a[0],u=a[1].tagName;return(0,ne.jsx)(u,Object.assign({},i,s,{ref:t}))}));Hn.displayName="Button";var Gn=Hn,Yn=["as","active","eventKey"];function Xn(t){var n=t.key,r=t.onClick,i=t.active,o=t.id,a=t.role,s=t.disabled,u=(0,e.useContext)(ce),c=(0,e.useContext)(qn),l=i,f={role:a};if(c){a||"tablist"!==c.role||(f.role="tab");var h=c.getControllerId(null!=n?n:null),d=c.getControlledId(null!=n?n:null);f[Pt("event-key")]=n,f.id=h||o,f["aria-controls"]=d,l=null==i&&null!=n?c.activeKey===n:i}return"tab"===f.role&&(s&&(f.tabIndex=-1,f["aria-disabled"]=!0),l?f["aria-selected"]=l:f.tabIndex=-1),f.onClick=bt((function(e){s||(null==r||r(e),null!=n&&u&&!e.isPropagationStopped()&&u(n,e))})),[f,{isActive:l}]}var Qn=e.forwardRef((function(e,t){var n=e.as,r=void 0===n?Gn:n,i=e.active,a=e.eventKey,s=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Yn),u=o(Xn(Object.assign({key:ue(a,s.href),active:i},s)),2),c=u[0],l=u[1];return c[Pt("active")]=l.isActive,(0,ne.jsx)(r,Object.assign({},s,c,{ref:t}))}));Qn.displayName="NavItem";var Jn=Qn,Zn=["as","onSelect","activeKey","role","onKeyDown"];var $n=function(){},er=Pt("event-key"),tr=e.forwardRef((function(t,n){var r,i,o=t.as,a=void 0===o?"div":o,s=t.onSelect,u=t.activeKey,c=t.role,l=t.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,Zn),h=(0,e.useReducer)((function(e){return!e}),!1)[1],d=(0,e.useRef)(!1),p=(0,e.useContext)(ce),v=(0,e.useContext)(Kn);v&&(c=c||"tablist",u=v.activeKey,r=v.getControlledId,i=v.getControllerId);var g=(0,e.useRef)(null),y=function(e){var t=g.current;if(!t)return null;var n=En(t,"[".concat(er,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r)return null;var i=n.indexOf(r);if(-1===i)return null;var o=i+e;return o>=n.length&&(o=0),o<0&&(o=n.length-1),n[o]},m=function(e,t){null!=e&&(null==s||s(e,t),null==p||p(e,t))};(0,e.useEffect)((function(){if(g.current&&d.current){var e=g.current.querySelector("[".concat(er,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));var b=tt(n,g);return(0,ne.jsx)(ce.Provider,{value:m,children:(0,ne.jsx)(qn.Provider,{value:{role:c,activeKey:ue(u),getControlledId:r||$n,getControllerId:i||$n},children:(0,ne.jsx)(a,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=y(-1);break;case"ArrowRight":case"ArrowDown":t=y(1);break;default:return}if(t)e.preventDefault(),m(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),d.current=!0,h()}},ref:b,role:c}))})})}));tr.displayName="Nav";var nr=Object.assign(tr,{Item:Jn}),rr=e.createContext(null);rr.displayName="CardHeaderContext";var ir=rr,or=be("nav-item");var ar="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product;"undefined"!==typeof document||ar?e.useLayoutEffect:e.useEffect,new WeakMap;var sr=["onKeyDown"];var ur=e.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,sr),a=o(zn(Object.assign({tagName:"a"},i)),1)[0],s=bt((function(e){a.onKeyDown(e),null==r||r(e)}));return((n=i.href)&&"#"!==n.trim()||i.role)&&"button"!==i.role?(0,ne.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,ne.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:s}))}));ur.displayName="Anchor";var cr=ur,lr=["bsPrefix","className","as","active","eventKey"],fr=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?cr:i,s=e.active,u=e.eventKey,c=$(e,lr);n=ie(n,"nav-link");var l=o(Xn(J({key:ue(u,c.href),active:s},c)),2),f=l[0],h=l[1];return(0,ne.jsx)(a,J(J(J({},c),f),{},{ref:t,className:te()(r,n,c.disabled&&"disabled",h.isActive&&"active")}))}));fr.displayName="NavLink",fr.defaultProps={disabled:!1};var hr=fr,dr=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],pr=e.forwardRef((function(t,n){var r,i,o,a=he(t,{activeKey:"onSelect"}),s=a.as,u=void 0===s?"div":s,c=a.bsPrefix,l=a.variant,f=a.fill,h=a.justify,d=a.navbar,p=a.navbarScroll,v=a.className,g=a.activeKey,y=$(a,dr),m=ie(c,"nav"),b=!1,w=(0,e.useContext)(pt),_=(0,e.useContext)(ir);return w?(i=w.bsPrefix,b=null==d||d):_&&(o=_.cardHeaderBsPrefix),(0,ne.jsx)(nr,J({as:u,ref:n,activeKey:g,className:te()(v,(r={},X(r,m,!b),X(r,"".concat(i,"-nav"),b),X(r,"".concat(i,"-nav-scroll"),b&&p),X(r,"".concat(o,"-").concat(l),!!o),X(r,"".concat(m,"-").concat(l),!!l),X(r,"".concat(m,"-fill"),f),X(r,"".concat(m,"-justified"),h),r))},y))}));pr.displayName="Nav",pr.defaultProps={justify:!1,fill:!1};var vr=Object.assign(pr,{Item:or,Link:hr}),gr=["as","bsPrefix","variant","size","active","className"],yr=e.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,s=e.active,u=e.className,c=$(e,gr),l=ie(r,"btn"),f=o(zn(J({tagName:n},c)),2),h=f[0],d=f[1].tagName;return(0,ne.jsx)(d,J(J(J({},c),h),{},{ref:t,className:te()(u,l,s&&"active",i&&"".concat(l,"-").concat(i),a&&"".concat(l,"-").concat(a),c.href&&c.disabled&&"disabled")}))}));yr.displayName="Button",yr.defaultProps={variant:"primary",active:!1,disabled:!1};var mr=yr,br=function(e,t){return br=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},br(e,t)};var wr=function(){return wr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wr.apply(this,arguments)};function _r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Er(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(mT){o(mT)}}function s(e){try{u(r.throw(e))}catch(mT){o(mT)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function kr(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(mT){o=[6,mT],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Ir=function(e,t){return(Ir=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Sr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ir(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Tr=function(){return(Tr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Cr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function xr(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Nr(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Pr(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Or(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var Ar="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};function Rr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Dr(e,t){return e(t={exports:{}},t.exports),t.exports}var Lr,jr,Mr=function(e){return e&&e.Math==Math&&e},Fr=Mr("object"==typeof globalThis&&globalThis)||Mr("object"==typeof window&&window)||Mr("object"==typeof self&&self)||Mr("object"==typeof Ar&&Ar)||function(){return this}()||Function("return this")(),Ur=function(e){try{return!!e()}catch(e){return!0}},Vr=!Ur((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Br=Function.prototype.call,qr=Br.bind?Br.bind(Br):function(){return Br.apply(Br,arguments)},Kr={}.propertyIsEnumerable,Wr=Object.getOwnPropertyDescriptor,zr={f:Wr&&!Kr.call({1:2},1)?function(e){var t=Wr(this,e);return!!t&&t.enumerable}:Kr},Hr=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Gr=Function.prototype,Yr=Gr.bind,Xr=Gr.call,Qr=Yr&&Yr.bind(Xr),Jr=Yr?function(e){return e&&Qr(Xr,e)}:function(e){return e&&function(){return Xr.apply(e,arguments)}},Zr=Jr({}.toString),$r=Jr("".slice),ei=function(e){return $r(Zr(e),8,-1)},ti=Fr.Object,ni=Jr("".split),ri=Ur((function(){return!ti("z").propertyIsEnumerable(0)}))?function(e){return"String"==ei(e)?ni(e,""):ti(e)}:ti,ii=Fr.TypeError,oi=function(e){if(null==e)throw ii("Can't call method on "+e);return e},ai=function(e){return ri(oi(e))},si=function(e){return"function"==typeof e},ui=function(e){return"object"==typeof e?null!==e:si(e)},ci=function(e){return si(e)?e:void 0},li=function(e,t){return arguments.length<2?ci(Fr[e]):Fr[e]&&Fr[e][t]},fi=Jr({}.isPrototypeOf),hi=li("navigator","userAgent")||"",di=Fr.process,pi=Fr.Deno,vi=di&&di.versions||pi&&pi.version,gi=vi&&vi.v8;gi&&(jr=(Lr=gi.split("."))[0]>0&&Lr[0]<4?1:+(Lr[0]+Lr[1])),!jr&&hi&&(!(Lr=hi.match(/Edge\/(\d+)/))||Lr[1]>=74)&&(Lr=hi.match(/Chrome\/(\d+)/))&&(jr=+Lr[1]);var yi=jr,mi=!!Object.getOwnPropertySymbols&&!Ur((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&yi&&yi<41})),bi=mi&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,wi=Fr.Object,_i=bi?function(e){return"symbol"==typeof e}:function(e){var t=li("Symbol");return si(t)&&fi(t.prototype,wi(e))},Ei=Fr.String,ki=function(e){try{return Ei(e)}catch(e){return"Object"}},Ii=Fr.TypeError,Si=function(e){if(si(e))return e;throw Ii(ki(e)+" is not a function")},Ti=function(e,t){var n=e[t];return null==n?void 0:Si(n)},Ci=Fr.TypeError,xi=Object.defineProperty,Ni=function(e,t){try{xi(Fr,e,{value:t,configurable:!0,writable:!0})}catch(n){Fr[e]=t}return t},Pi=Fr["__core-js_shared__"]||Ni("__core-js_shared__",{}),Oi=Dr((function(e){(e.exports=function(e,t){return Pi[e]||(Pi[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.19.1",mode:"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})})),Ai=Fr.Object,Ri=function(e){return Ai(oi(e))},Di=Jr({}.hasOwnProperty),Li=Object.hasOwn||function(e,t){return Di(Ri(e),t)},ji=0,Mi=Math.random(),Fi=Jr(1..toString),Ui=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Fi(++ji+Mi,36)},Vi=Oi("wks"),Bi=Fr.Symbol,qi=Bi&&Bi.for,Ki=bi?Bi:Bi&&Bi.withoutSetter||Ui,Wi=function(e){if(!Li(Vi,e)||!mi&&"string"!=typeof Vi[e]){var t="Symbol."+e;mi&&Li(Bi,e)?Vi[e]=Bi[e]:Vi[e]=bi&&qi?qi(t):Ki(t)}return Vi[e]},zi=Fr.TypeError,Hi=Wi("toPrimitive"),Gi=function(e){var t=function(e,t){if(!ui(e)||_i(e))return e;var n,r=Ti(e,Hi);if(r){if(void 0===t&&(t="default"),n=qr(r,e,t),!ui(n)||_i(n))return n;throw zi("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&si(n=e.toString)&&!ui(r=qr(n,e)))return r;if(si(n=e.valueOf)&&!ui(r=qr(n,e)))return r;if("string"!==t&&si(n=e.toString)&&!ui(r=qr(n,e)))return r;throw Ci("Can't convert object to primitive value")}(e,t)}(e,"string");return _i(t)?t:t+""},Yi=Fr.document,Xi=ui(Yi)&&ui(Yi.createElement),Qi=function(e){return Xi?Yi.createElement(e):{}},Ji=!Vr&&!Ur((function(){return 7!=Object.defineProperty(Qi("div"),"a",{get:function(){return 7}}).a})),Zi=Object.getOwnPropertyDescriptor,$i={f:Vr?Zi:function(e,t){if(e=ai(e),t=Gi(t),Ji)try{return Zi(e,t)}catch(e){}if(Li(e,t))return Hr(!qr(zr.f,e,t),e[t])}},eo=Fr.String,to=Fr.TypeError,no=function(e){if(ui(e))return e;throw to(eo(e)+" is not an object")},ro=Fr.TypeError,io=Object.defineProperty,oo={f:Vr?io:function(e,t,n){if(no(e),t=Gi(t),no(n),Ji)try{return io(e,t,n)}catch(e){}if("get"in n||"set"in n)throw ro("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},ao=Vr?function(e,t,n){return oo.f(e,t,Hr(1,n))}:function(e,t,n){return e[t]=n,e},so=Jr(Function.toString);si(Pi.inspectSource)||(Pi.inspectSource=function(e){return so(e)});var uo,co,lo,fo=Pi.inspectSource,ho=Fr.WeakMap,po=si(ho)&&/native code/.test(fo(ho)),vo=Oi("keys"),go=function(e){return vo[e]||(vo[e]=Ui(e))},yo={},mo=Fr.TypeError,bo=Fr.WeakMap;if(po||Pi.state){var wo=Pi.state||(Pi.state=new bo),_o=Jr(wo.get),Eo=Jr(wo.has),ko=Jr(wo.set);uo=function(e,t){if(Eo(wo,e))throw new mo("Object already initialized");return t.facade=e,ko(wo,e,t),t},co=function(e){return _o(wo,e)||{}},lo=function(e){return Eo(wo,e)}}else{var Io=go("state");yo[Io]=!0,uo=function(e,t){if(Li(e,Io))throw new mo("Object already initialized");return t.facade=e,ao(e,Io,t),t},co=function(e){return Li(e,Io)?e[Io]:{}},lo=function(e){return Li(e,Io)}}var So={set:uo,get:co,has:lo,enforce:function(e){return lo(e)?co(e):uo(e,{})},getterFor:function(e){return function(t){var n;if(!ui(t)||(n=co(t)).type!==e)throw mo("Incompatible receiver, "+e+" required");return n}}},To=Function.prototype,Co=Vr&&Object.getOwnPropertyDescriptor,xo=Li(To,"name"),No={EXISTS:xo,PROPER:xo&&"something"===function(){}.name,CONFIGURABLE:xo&&(!Vr||Vr&&Co(To,"name").configurable)},Po=Dr((function(e){var t=No.CONFIGURABLE,n=So.get,r=So.enforce,i=String(String).split("String");(e.exports=function(e,n,o,a){var s,u=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,l=!!a&&!!a.noTargetGet,f=a&&void 0!==a.name?a.name:n;si(o)&&("Symbol("===String(f).slice(0,7)&&(f="["+String(f).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!Li(o,"name")||t&&o.name!==f)&&ao(o,"name",f),(s=r(o)).source||(s.source=i.join("string"==typeof f?f:""))),e!==Fr?(u?!l&&e[n]&&(c=!0):delete e[n],c?e[n]=o:ao(e,n,o)):c?e[n]=o:Ni(n,o)})(Function.prototype,"toString",(function(){return si(this)&&n(this).source||fo(this)}))})),Oo=Math.ceil,Ao=Math.floor,Ro=function(e){var t=+e;return t!=t||0===t?0:(t>0?Ao:Oo)(t)},Do=Math.max,Lo=Math.min,jo=Math.min,Mo=function(e){return e>0?jo(Ro(e),9007199254740991):0},Fo=function(e){return Mo(e.length)},Uo=function(e){return function(t,n,r){var i,o=ai(t),a=Fo(o),s=function(e,t){var n=Ro(e);return n<0?Do(n+t,0):Lo(n,t)}(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},Vo={includes:Uo(!0),indexOf:Uo(!1)},Bo=Vo.indexOf,qo=Jr([].push),Ko=function(e,t){var n,r=ai(e),i=0,o=[];for(n in r)!Li(yo,n)&&Li(r,n)&&qo(o,n);for(;t.length>i;)Li(r,n=t[i++])&&(~Bo(o,n)||qo(o,n));return o},Wo=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],zo=Wo.concat("length","prototype"),Ho={f:Object.getOwnPropertyNames||function(e){return Ko(e,zo)}},Go={f:Object.getOwnPropertySymbols},Yo=Jr([].concat),Xo=li("Reflect","ownKeys")||function(e){var t=Ho.f(no(e)),n=Go.f;return n?Yo(t,n(e)):t},Qo=function(e,t){for(var n=Xo(t),r=oo.f,i=$i.f,o=0;o<n.length;o++){var a=n[o];Li(e,a)||r(e,a,i(t,a))}},Jo=/#|\.prototype\./,Zo=function(e,t){var n=ea[$o(e)];return n==na||n!=ta&&(si(t)?Ur(t):!!t)},$o=Zo.normalize=function(e){return String(e).replace(Jo,".").toLowerCase()},ea=Zo.data={},ta=Zo.NATIVE="N",na=Zo.POLYFILL="P",ra=Zo,ia=$i.f,oa=function(e,t){var n,r,i,o,a,s=e.target,u=e.global,c=e.stat;if(n=u?Fr:c?Fr[s]||Ni(s,{}):(Fr[s]||{}).prototype)for(r in t){if(o=t[r],i=e.noTargetGet?(a=ia(n,r))&&a.value:n[r],!ra(u?r:s+(c?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;Qo(o,i)}(e.sham||i&&i.sham)&&ao(o,"sham",!0),Po(n,r,o,e)}},aa={};aa[Wi("toStringTag")]="z";var sa,ua="[object z]"===String(aa),ca=Wi("toStringTag"),la=Fr.Object,fa="Arguments"==ei(function(){return arguments}()),ha=ua?ei:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=la(e),ca))?n:fa?ei(t):"Object"==(r=ei(t))&&si(t.callee)?"Arguments":r},da=Fr.String,pa=function(e){if("Symbol"===ha(e))throw TypeError("Cannot convert a Symbol value to a string");return da(e)},va=Wi("match"),ga=Fr.TypeError,ya=function(e){if(function(e){var t;return ui(e)&&(void 0!==(t=e[va])?!!t:"RegExp"==ei(e))}(e))throw ga("The method doesn't accept regular expressions");return e},ma=Wi("match"),ba=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[ma]=!1,"/./"[e](t)}catch(e){}}return!1},wa=$i.f,_a=Jr("".startsWith),Ea=Jr("".slice),ka=Math.min,Ia=ba("startsWith"),Sa=!(Ia||(sa=wa(String.prototype,"startsWith"),!sa||sa.writable));oa({target:"String",proto:!0,forced:!Sa&&!Ia},{startsWith:function(e){var t=pa(oi(this));ya(e);var n=Mo(ka(arguments.length>1?arguments[1]:void 0,t.length)),r=pa(e);return _a?_a(t,r,n):Ea(t,n,n+r.length)===r}});var Ta=function(e,t){return Jr(Fr[e].prototype[t])};Ta("String","startsWith");var Ca=Array.isArray||function(e){return"Array"==ei(e)},xa=function(e,t,n){var r=Gi(t);r in e?oo.f(e,r,Hr(0,n)):e[r]=n},Na=function(){},Pa=[],Oa=li("Reflect","construct"),Aa=/^\s*(?:class|function)\b/,Ra=Jr(Aa.exec),Da=!Aa.exec(Na),La=function(e){if(!si(e))return!1;try{return Oa(Na,Pa,e),!0}catch(e){return!1}},ja=!Oa||Ur((function(){var e;return La(La.call)||!La(Object)||!La((function(){e=!0}))||e}))?function(e){if(!si(e))return!1;switch(ha(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return Da||!!Ra(Aa,fo(e))}:La,Ma=Wi("species"),Fa=Fr.Array,Ua=function(e,t){return new(function(e){var t;return Ca(e)&&(t=e.constructor,(ja(t)&&(t===Fa||Ca(t.prototype))||ui(t)&&null===(t=t[Ma]))&&(t=void 0)),void 0===t?Fa:t}(e))(0===t?0:t)},Va=Wi("species"),Ba=Wi("isConcatSpreadable"),qa=Fr.TypeError,Ka=yi>=51||!Ur((function(){var e=[];return e[Ba]=!1,e.concat()[0]!==e})),Wa=("concat",yi>=51||!Ur((function(){var e=[];return(e.constructor={})[Va]=function(){return{foo:1}},1!==e.concat(Boolean).foo}))),za=function(e){if(!ui(e))return!1;var t=e[Ba];return void 0!==t?!!t:Ca(e)};oa({target:"Array",proto:!0,forced:!Ka||!Wa},{concat:function(e){var t,n,r,i,o,a=Ri(this),s=Ua(a,0),u=0;for(t=-1,r=arguments.length;t<r;t++)if(za(o=-1===t?a:arguments[t])){if(u+(i=Fo(o))>9007199254740991)throw qa("Maximum allowed index exceeded");for(n=0;n<i;n++,u++)n in o&&xa(s,u,o[n])}else{if(u>=9007199254740991)throw qa("Maximum allowed index exceeded");xa(s,u++,o)}return s.length=u,s}});var Ha=ua?{}.toString:function(){return"[object "+ha(this)+"]"};ua||Po(Object.prototype,"toString",Ha,{unsafe:!0});var Ga,Ya=Function.prototype,Xa=Ya.apply,Qa=Ya.bind,Ja=Ya.call,Za="object"==typeof Reflect&&Reflect.apply||(Qa?Ja.bind(Xa):function(){return Ja.apply(Xa,arguments)}),$a=Object.keys||function(e){return Ko(e,Wo)},es=Vr?Object.defineProperties:function(e,t){no(e);for(var n,r=ai(t),i=$a(t),o=i.length,a=0;o>a;)oo.f(e,n=i[a++],r[n]);return e},ts=li("document","documentElement"),ns=go("IE_PROTO"),rs=function(){},is=function(e){return"<script>"+e+"<\/script>"},os=function(e){e.write(is("")),e.close();var t=e.parentWindow.Object;return e=null,t},as=function(){try{Ga=new ActiveXObject("htmlfile")}catch(e){}var e,t;as="undefined"!=typeof document?document.domain&&Ga?os(Ga):((t=Qi("iframe")).style.display="none",ts.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(is("document.F=Object")),e.close(),e.F):os(Ga);for(var n=Wo.length;n--;)delete as.prototype[Wo[n]];return as()};yo[ns]=!0;var ss=Object.create||function(e,t){var n;return null!==e?(rs.prototype=no(e),n=new rs,rs.prototype=null,n[ns]=e):n=as(),void 0===t?n:es(n,t)},us=Jr([].slice),cs=Ho.f,ls="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],fs={f:function(e){return ls&&"Window"==ei(e)?function(e){try{return cs(e)}catch(e){return us(ls)}}(e):cs(ai(e))}},hs={f:Wi},ds=Fr,ps=oo.f,vs=function(e){var t=ds.Symbol||(ds.Symbol={});Li(t,e)||ps(t,e,{value:hs.f(e)})},gs=oo.f,ys=Wi("toStringTag"),ms=function(e,t,n){e&&!Li(e=n?e:e.prototype,ys)&&gs(e,ys,{configurable:!0,value:t})},bs=Jr(Jr.bind),ws=function(e,t){return Si(e),void 0===t?e:bs?bs(e,t):function(){return e.apply(t,arguments)}},_s=Jr([].push),Es=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(u,c,l,f){for(var h,d,p=Ri(u),v=ri(p),g=ws(c,l),y=Fo(v),m=0,b=f||Ua,w=t?b(u,y):n||a?b(u,0):void 0;y>m;m++)if((s||m in v)&&(d=g(h=v[m],m,p),e))if(t)w[m]=d;else if(d)switch(e){case 3:return!0;case 5:return h;case 6:return m;case 2:_s(w,h)}else switch(e){case 4:return!1;case 7:_s(w,h)}return o?-1:r||i?i:w}},ks=[Es(0),Es(1),Es(2),Es(3),Es(4),Es(5),Es(6),Es(7)][0],Is=go("hidden"),Ss=Wi("toPrimitive"),Ts=So.set,Cs=So.getterFor("Symbol"),xs=Object.prototype,Ns=Fr.Symbol,Ps=Ns&&Ns.prototype,Os=Fr.TypeError,As=Fr.QObject,Rs=li("JSON","stringify"),Ds=$i.f,Ls=oo.f,js=fs.f,Ms=zr.f,Fs=Jr([].push),Us=Oi("symbols"),Vs=Oi("op-symbols"),Bs=Oi("string-to-symbol-registry"),qs=Oi("symbol-to-string-registry"),Ks=Oi("wks"),Ws=!As||!As.prototype||!As.prototype.findChild,zs=Vr&&Ur((function(){return 7!=ss(Ls({},"a",{get:function(){return Ls(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Ds(xs,t);r&&delete xs[t],Ls(e,t,n),r&&e!==xs&&Ls(xs,t,r)}:Ls,Hs=function(e,t){var n=Us[e]=ss(Ps);return Ts(n,{type:"Symbol",tag:e,description:t}),Vr||(n.description=t),n},Gs=function e(t,n,r){t===xs&&e(Vs,n,r),no(t);var i=Gi(n);return no(r),Li(Us,i)?(r.enumerable?(Li(t,Is)&&t[Is][i]&&(t[Is][i]=!1),r=ss(r,{enumerable:Hr(0,!1)})):(Li(t,Is)||Ls(t,Is,Hr(1,{})),t[Is][i]=!0),zs(t,i,r)):Ls(t,i,r)},Ys=function(e,t){no(e);var n=ai(t),r=$a(n).concat(Zs(n));return ks(r,(function(t){Vr&&!qr(Xs,n,t)||Gs(e,t,n[t])})),e},Xs=function(e){var t=Gi(e),n=qr(Ms,this,t);return!(this===xs&&Li(Us,t)&&!Li(Vs,t))&&(!(n||!Li(this,t)||!Li(Us,t)||Li(this,Is)&&this[Is][t])||n)},Qs=function(e,t){var n=ai(e),r=Gi(t);if(n!==xs||!Li(Us,r)||Li(Vs,r)){var i=Ds(n,r);return!i||!Li(Us,r)||Li(n,Is)&&n[Is][r]||(i.enumerable=!0),i}},Js=function(e){var t=js(ai(e)),n=[];return ks(t,(function(e){Li(Us,e)||Li(yo,e)||Fs(n,e)})),n},Zs=function(e){var t=e===xs,n=js(t?Vs:ai(e)),r=[];return ks(n,(function(e){!Li(Us,e)||t&&!Li(xs,e)||Fs(r,Us[e])})),r};if(mi||(Ps=(Ns=function(){if(fi(Ps,this))throw Os("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?pa(arguments[0]):void 0,t=Ui(e),n=function e(n){this===xs&&qr(e,Vs,n),Li(this,Is)&&Li(this[Is],t)&&(this[Is][t]=!1),zs(this,t,Hr(1,n))};return Vr&&Ws&&zs(xs,t,{configurable:!0,set:n}),Hs(t,e)}).prototype,Po(Ps,"toString",(function(){return Cs(this).tag})),Po(Ns,"withoutSetter",(function(e){return Hs(Ui(e),e)})),zr.f=Xs,oo.f=Gs,$i.f=Qs,Ho.f=fs.f=Js,Go.f=Zs,hs.f=function(e){return Hs(Wi(e),e)},Vr&&(Ls(Ps,"description",{configurable:!0,get:function(){return Cs(this).description}}),Po(xs,"propertyIsEnumerable",Xs,{unsafe:!0}))),oa({global:!0,wrap:!0,forced:!mi,sham:!mi},{Symbol:Ns}),ks($a(Ks),(function(e){vs(e)})),oa({target:"Symbol",stat:!0,forced:!mi},{for:function(e){var t=pa(e);if(Li(Bs,t))return Bs[t];var n=Ns(t);return Bs[t]=n,qs[n]=t,n},keyFor:function(e){if(!_i(e))throw Os(e+" is not a symbol");if(Li(qs,e))return qs[e]},useSetter:function(){Ws=!0},useSimple:function(){Ws=!1}}),oa({target:"Object",stat:!0,forced:!mi,sham:!Vr},{create:function(e,t){return void 0===t?ss(e):Ys(ss(e),t)},defineProperty:Gs,defineProperties:Ys,getOwnPropertyDescriptor:Qs}),oa({target:"Object",stat:!0,forced:!mi},{getOwnPropertyNames:Js,getOwnPropertySymbols:Zs}),oa({target:"Object",stat:!0,forced:Ur((function(){Go.f(1)}))},{getOwnPropertySymbols:function(e){return Go.f(Ri(e))}}),Rs){var $s=!mi||Ur((function(){var e=Ns();return"[null]"!=Rs([e])||"{}"!=Rs({a:e})||"{}"!=Rs(Object(e))}));oa({target:"JSON",stat:!0,forced:$s},{stringify:function(e,t,n){var r=us(arguments),i=t;if((ui(t)||void 0!==e)&&!_i(e))return Ca(t)||(t=function(e,t){if(si(i)&&(t=qr(i,this,e,t)),!_i(t))return t}),r[1]=t,Za(Rs,null,r)}})}if(!Ps[Ss]){var eu=Ps.valueOf;Po(Ps,Ss,(function(e){return qr(eu,this)}))}ms(Ns,"Symbol"),yo[Is]=!0,vs("asyncIterator");var tu=oo.f,nu=Fr.Symbol,ru=nu&&nu.prototype;if(Vr&&si(nu)&&(!("description"in ru)||void 0!==nu().description)){var iu={},ou=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:pa(arguments[0]),t=fi(ru,this)?new nu(e):void 0===e?nu():nu(e);return""===e&&(iu[t]=!0),t};Qo(ou,nu),ou.prototype=ru,ru.constructor=ou;var au="Symbol(test)"==String(nu("test")),su=Jr(ru.toString),uu=Jr(ru.valueOf),cu=/^Symbol\((.*)\)[^)]+$/,lu=Jr("".replace),fu=Jr("".slice);tu(ru,"description",{configurable:!0,get:function(){var e=uu(this),t=su(e);if(Li(iu,e))return"";var n=au?fu(t,7,-1):lu(t,cu,"$1");return""===n?void 0:n}}),oa({global:!0,forced:!0},{Symbol:ou})}vs("hasInstance"),vs("isConcatSpreadable"),vs("iterator"),vs("match"),vs("matchAll"),vs("replace"),vs("search"),vs("species"),vs("split"),vs("toPrimitive"),vs("toStringTag"),vs("unscopables"),ms(Fr.JSON,"JSON",!0),ms(Math,"Math",!0),oa({global:!0},{Reflect:{}}),ms(Fr.Reflect,"Reflect",!0),ds.Symbol;var hu,du,pu,vu=Jr("".charAt),gu=Jr("".charCodeAt),yu=Jr("".slice),mu=function(e){return function(t,n){var r,i,o=pa(oi(t)),a=Ro(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=gu(o,a))<55296||r>56319||a+1===s||(i=gu(o,a+1))<56320||i>57343?e?vu(o,a):r:e?yu(o,a,a+2):i-56320+(r-55296<<10)+65536}},bu={codeAt:mu(!1),charAt:mu(!0)},wu=!Ur((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),_u=go("IE_PROTO"),Eu=Fr.Object,ku=Eu.prototype,Iu=wu?Eu.getPrototypeOf:function(e){var t=Ri(e);if(Li(t,_u))return t[_u];var n=t.constructor;return si(n)&&t instanceof n?n.prototype:t instanceof Eu?ku:null},Su=Wi("iterator"),Tu=!1;[].keys&&("next"in(pu=[].keys())?(du=Iu(Iu(pu)))!==Object.prototype&&(hu=du):Tu=!0),(null==hu||Ur((function(){var e={};return hu[Su].call(e)!==e})))&&(hu={}),si(hu[Su])||Po(hu,Su,(function(){return this}));var Cu={IteratorPrototype:hu,BUGGY_SAFARI_ITERATORS:Tu},xu={},Nu=Cu.IteratorPrototype,Pu=function(){return this},Ou=Fr.String,Au=Fr.TypeError,Ru=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Jr(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return no(n),function(e){if("object"==typeof e||si(e))return e;throw Au("Can't set "+Ou(e)+" as a prototype")}(r),t?e(n,r):n.__proto__=r,n}}():void 0),Du=No.PROPER,Lu=No.CONFIGURABLE,ju=Cu.IteratorPrototype,Mu=Cu.BUGGY_SAFARI_ITERATORS,Fu=Wi("iterator"),Uu=function(){return this},Vu=function(e,t,n,r,i,o,a){!function(e,t,n){var r=t+" Iterator";e.prototype=ss(Nu,{next:Hr(1,n)}),ms(e,r,!1),xu[r]=Pu}(n,t,r);var s,u,c,l=function(e){if(e===i&&v)return v;if(!Mu&&e in d)return d[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",h=!1,d=e.prototype,p=d[Fu]||d["@@iterator"]||i&&d[i],v=!Mu&&p||l(i),g="Array"==t&&d.entries||p;if(g&&(s=Iu(g.call(new e)))!==Object.prototype&&s.next&&(Iu(s)!==ju&&(Ru?Ru(s,ju):si(s[Fu])||Po(s,Fu,Uu)),ms(s,f,!0)),Du&&"values"==i&&p&&"values"!==p.name&&(Lu?ao(d,"name","values"):(h=!0,v=function(){return qr(p,this)})),i)if(u={values:l("values"),keys:o?v:l("keys"),entries:l("entries")},a)for(c in u)(Mu||h||!(c in d))&&Po(d,c,u[c]);else oa({target:t,proto:!0,forced:Mu||h},u);return d[Fu]!==v&&Po(d,Fu,v,{name:i}),xu[t]=v,u},Bu=bu.charAt,qu=So.set,Ku=So.getterFor("String Iterator");Vu(String,"String",(function(e){qu(this,{type:"String Iterator",string:pa(e),index:0})}),(function(){var e,t=Ku(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=Bu(n,r),t.index+=e.length,{value:e,done:!1})}));var Wu=function(e,t,n){var r,i;no(e);try{if(!(r=Ti(e,"return"))){if("throw"===t)throw n;return n}r=qr(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return no(r),n},zu=function(e,t,n,r){try{return r?t(no(n)[0],n[1]):t(n)}catch(t){Wu(e,"throw",t)}},Hu=Wi("iterator"),Gu=Array.prototype,Yu=function(e){return void 0!==e&&(xu.Array===e||Gu[Hu]===e)},Xu=Wi("iterator"),Qu=function(e){if(null!=e)return Ti(e,Xu)||Ti(e,"@@iterator")||xu[ha(e)]},Ju=Fr.TypeError,Zu=function(e,t){var n=arguments.length<2?Qu(e):t;if(Si(n))return no(qr(n,e));throw Ju(ki(e)+" is not iterable")},$u=Fr.Array,ec=Wi("iterator"),tc=!1;try{var nc=0,rc={next:function(){return{done:!!nc++}},return:function(){tc=!0}};rc[ec]=function(){return this},Array.from(rc,(function(){throw 2}))}catch(mT){}var ic=function(e,t){if(!t&&!tc)return!1;var n=!1;try{var r={};r[ec]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},oc=!ic((function(e){Array.from(e)}));oa({target:"Array",stat:!0,forced:oc},{from:function(e){var t=Ri(e),n=ja(this),r=arguments.length,i=r>1?arguments[1]:void 0,o=void 0!==i;o&&(i=ws(i,r>2?arguments[2]:void 0));var a,s,u,c,l,f,h=Qu(t),d=0;if(!h||this==$u&&Yu(h))for(a=Fo(t),s=n?new this(a):$u(a);a>d;d++)f=o?i(t[d],d):t[d],xa(s,d,f);else for(l=(c=Zu(t,h)).next,s=n?new this:[];!(u=qr(l,c)).done;d++)f=o?zu(c,i,[u.value,d],!0):u.value,xa(s,d,f);return s.length=d,s}}),ds.Array.from;var ac,sc,uc,cc="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,lc=oo.f,fc=Fr.Int8Array,hc=fc&&fc.prototype,dc=Fr.Uint8ClampedArray,pc=dc&&dc.prototype,vc=fc&&Iu(fc),gc=hc&&Iu(hc),yc=Object.prototype,mc=Fr.TypeError,bc=Wi("toStringTag"),wc=Ui("TYPED_ARRAY_TAG"),_c=Ui("TYPED_ARRAY_CONSTRUCTOR"),Ec=cc&&!!Ru&&"Opera"!==ha(Fr.opera),kc=!1,Ic={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Sc={BigInt64Array:8,BigUint64Array:8},Tc=function(e){if(!ui(e))return!1;var t=ha(e);return Li(Ic,t)||Li(Sc,t)};for(ac in Ic)(uc=(sc=Fr[ac])&&sc.prototype)?ao(uc,_c,sc):Ec=!1;for(ac in Sc)(uc=(sc=Fr[ac])&&sc.prototype)&&ao(uc,_c,sc);if((!Ec||!si(vc)||vc===Function.prototype)&&(vc=function(){throw mc("Incorrect invocation")},Ec))for(ac in Ic)Fr[ac]&&Ru(Fr[ac],vc);if((!Ec||!gc||gc===yc)&&(gc=vc.prototype,Ec))for(ac in Ic)Fr[ac]&&Ru(Fr[ac].prototype,gc);if(Ec&&Iu(pc)!==gc&&Ru(pc,gc),Vr&&!Li(gc,bc))for(ac in kc=!0,lc(gc,bc,{get:function(){return ui(this)?this[wc]:void 0}}),Ic)Fr[ac]&&ao(Fr[ac],wc,ac);var Cc={NATIVE_ARRAY_BUFFER_VIEWS:Ec,TYPED_ARRAY_CONSTRUCTOR:_c,TYPED_ARRAY_TAG:kc&&wc,aTypedArray:function(e){if(Tc(e))return e;throw mc("Target is not a typed array")},aTypedArrayConstructor:function(e){if(si(e)&&(!Ru||fi(vc,e)))return e;throw mc(ki(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(Vr){if(n)for(var r in Ic){var i=Fr[r];if(i&&Li(i.prototype,e))try{delete i.prototype[e]}catch(e){}}gc[e]&&!n||Po(gc,e,n?t:Ec&&hc[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(Vr){if(Ru){if(n)for(r in Ic)if((i=Fr[r])&&Li(i,e))try{delete i[e]}catch(e){}if(vc[e]&&!n)return;try{return Po(vc,e,n?t:Ec&&vc[e]||t)}catch(e){}}for(r in Ic)!(i=Fr[r])||i[e]&&!n||Po(i,e,t)}},isView:function(e){if(!ui(e))return!1;var t=ha(e);return"DataView"===t||Li(Ic,t)||Li(Sc,t)},isTypedArray:Tc,TypedArray:vc,TypedArrayPrototype:gc},xc=Fr.TypeError,Nc=Wi("species"),Pc=Cc.TYPED_ARRAY_CONSTRUCTOR,Oc=Cc.aTypedArrayConstructor,Ac=Cc.aTypedArray;(0,Cc.exportTypedArrayMethod)("slice",(function(e,t){for(var n=us(Ac(this),e,t),r=Oc(function(e,t){var n,r=no(e).constructor;return void 0===r||null==(n=no(r)[Nc])?t:function(e){if(ja(e))return e;throw xc(ki(e)+" is not a constructor")}(n)}(this,this[Pc])),i=0,o=n.length,a=new r(o);o>i;)a[i]=n[i++];return a}),Ur((function(){new Int8Array(1).slice()})));var Rc=Wi("unscopables"),Dc=Array.prototype;null==Dc[Rc]&&oo.f(Dc,Rc,{configurable:!0,value:ss(null)});var Lc=function(e){Dc[Rc][e]=!0},jc=Vo.includes;oa({target:"Array",proto:!0},{includes:function(e){return jc(this,e,arguments.length>1?arguments[1]:void 0)}}),Lc("includes"),Ta("Array","includes");var Mc=Jr("".indexOf);oa({target:"String",proto:!0,forced:!ba("includes")},{includes:function(e){return!!~Mc(pa(oi(this)),pa(ya(e)),arguments.length>1?arguments[1]:void 0)}}),Ta("String","includes");var Fc=So.set,Uc=So.getterFor("Array Iterator");Vu(Array,"Array",(function(e,t){Fc(this,{type:"Array Iterator",target:ai(e),index:0,kind:t})}),(function(){var e=Uc(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),xu.Arguments=xu.Array,Lc("keys"),Lc("values"),Lc("entries");var Vc=Ur((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})),Bc=Object.isExtensible,qc=Ur((function(){Bc(1)}))||Vc?function(e){return!!ui(e)&&(!Vc||"ArrayBuffer"!=ei(e))&&(!Bc||Bc(e))}:Bc,Kc=!Ur((function(){return Object.isExtensible(Object.preventExtensions({}))})),Wc=Dr((function(e){var t=oo.f,n=!1,r=Ui("meta"),i=0,o=function(e){t(e,r,{value:{objectID:"O"+i++,weakData:{}}})},a=e.exports={enable:function(){a.enable=function(){},n=!0;var e=Ho.f,t=Jr([].splice),i={};i[r]=1,e(i).length&&(Ho.f=function(n){for(var i=e(n),o=0,a=i.length;o<a;o++)if(i[o]===r){t(i,o,1);break}return i},oa({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:fs.f}))},fastKey:function(e,t){if(!ui(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!Li(e,r)){if(!qc(e))return"F";if(!t)return"E";o(e)}return e[r].objectID},getWeakData:function(e,t){if(!Li(e,r)){if(!qc(e))return!0;if(!t)return!1;o(e)}return e[r].weakData},onFreeze:function(e){return Kc&&n&&qc(e)&&!Li(e,r)&&o(e),e}};yo[r]=!0}));Wc.enable,Wc.fastKey,Wc.getWeakData,Wc.onFreeze;var zc=Fr.TypeError,Hc=function(e,t){this.stopped=e,this.result=t},Gc=Hc.prototype,Yc=function(e,t,n){var r,i,o,a,s,u,c,l=n&&n.that,f=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_ITERATOR),d=!(!n||!n.INTERRUPTED),p=ws(t,l),v=function(e){return r&&Wu(r,"normal",e),new Hc(!0,e)},g=function(e){return f?(no(e),d?p(e[0],e[1],v):p(e[0],e[1])):d?p(e,v):p(e)};if(h)r=e;else{if(!(i=Qu(e)))throw zc(ki(e)+" is not iterable");if(Yu(i)){for(o=0,a=Fo(e);a>o;o++)if((s=g(e[o]))&&fi(Gc,s))return s;return new Hc(!1)}r=Zu(e,i)}for(u=r.next;!(c=qr(u,r)).done;){try{s=g(c.value)}catch(e){Wu(r,"throw",e)}if("object"==typeof s&&s&&fi(Gc,s))return s}return new Hc(!1)},Xc=Fr.TypeError,Qc=function(e,t){if(fi(t,e))return e;throw Xc("Incorrect invocation")},Jc=function(e,t,n){for(var r in t)Po(e,r,t[r],n);return e},Zc=Wi("species"),$c=oo.f,el=Wc.fastKey,tl=So.set,nl=So.getterFor,rl={getConstructor:function(e,t,n,r){var i=e((function(e,i){Qc(e,o),tl(e,{type:t,index:ss(null),first:void 0,last:void 0,size:0}),Vr||(e.size=0),null!=i&&Yc(i,e[r],{that:e,AS_ENTRIES:n})})),o=i.prototype,a=nl(t),s=function(e,t,n){var r,i,o=a(e),s=u(e,t);return s?s.value=n:(o.last=s={index:i=el(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=s),r&&(r.next=s),Vr?o.size++:e.size++,"F"!==i&&(o.index[i]=s)),e},u=function(e,t){var n,r=a(e),i=el(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return Jc(o,{clear:function(){for(var e=a(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,Vr?e.size=0:this.size=0},delete:function(e){var t=this,n=a(t),r=u(t,e);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),Vr?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=a(this),r=ws(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!u(this,e)}}),Jc(o,n?{get:function(e){var t=u(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),Vr&&$c(o,"size",{get:function(){return a(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=nl(t),o=nl(r);Vu(e,t,(function(e,t){tl(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),function(e){var t=li(e),n=oo.f;Vr&&t&&!t[Zc]&&n(t,Zc,{configurable:!0,get:function(){return this}})}(t)}};function il(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}function ol(e){return new this((function(t,n){if(!e||void 0===e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,n){if(n&&("object"==typeof n||"function"==typeof n)){var a=n.then;if("function"==typeof a)return void a.call(n,(function(t){o(e,t)}),(function(n){r[e]={status:"rejected",reason:n},0==--i&&t(r)}))}r[e]={status:"fulfilled",value:n},0==--i&&t(r)}for(var a=0;a<r.length;a++)o(a,r[a])}))}!function(e,t,n){var r=-1!==e.indexOf("Map"),i=-1!==e.indexOf("Weak"),o=r?"set":"add",a=Fr[e],s=a&&a.prototype,u=a,c={},l=function(e){var t=Jr(s[e]);Po(s,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(i&&!ui(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return i&&!ui(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(i&&!ui(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(ra(e,!si(a)||!(i||s.forEach&&!Ur((function(){(new a).entries().next()})))))u=n.getConstructor(t,e,r,o),Wc.enable();else if(ra(e,!0)){var f=new u,h=f[o](i?{}:-0,1)!=f,d=Ur((function(){f.has(1)})),p=ic((function(e){new a(e)})),v=!i&&Ur((function(){for(var e=new a,t=5;t--;)e[o](t,t);return!e.has(-0)}));p||((u=t((function(e,t){Qc(e,s);var n=function(e,t,n){var r,i;return Ru&&si(r=t.constructor)&&r!==n&&ui(i=r.prototype)&&i!==n.prototype&&Ru(e,i),e}(new a,e,u);return null!=t&&Yc(t,n[o],{that:n,AS_ENTRIES:r}),n}))).prototype=s,s.constructor=u),(d||v)&&(l("delete"),l("has"),r&&l("get")),(v||h)&&l(o),i&&s.clear&&delete s.clear}c[e]=u,oa({global:!0,forced:u!=a},c),ms(u,e),i||n.setStrong(u,e,r)}("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),rl),ds.Set;var al=setTimeout,sl="undefined"!=typeof setImmediate?setImmediate:null;function ul(e){return Boolean(e&&void 0!==e.length)}function cl(){}function ll(e){if(!(this instanceof ll))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],gl(e,this)}function fl(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,ll._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void dl(t.promise,e)}hl(t.promise,r)}else(1===e._state?hl:dl)(t.promise,e._value)}))):e._deferreds.push(t)}function hl(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof ll)return e._state=3,e._value=t,void pl(e);if("function"==typeof n)return void gl((r=n,i=t,function(){r.apply(i,arguments)}),e)}e._state=1,e._value=t,pl(e)}catch(t){dl(e,t)}var r,i}function dl(e,t){e._state=2,e._value=t,pl(e)}function pl(e){2===e._state&&0===e._deferreds.length&&ll._immediateFn((function(){e._handled||ll._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)fl(e,e._deferreds[t]);e._deferreds=null}function vl(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function gl(e,t){var n=!1;try{e((function(e){n||(n=!0,hl(t,e))}),(function(e){n||(n=!0,dl(t,e))}))}catch(e){if(n)return;n=!0,dl(t,e)}}ll.prototype.catch=function(e){return this.then(null,e)},ll.prototype.then=function(e,t){var n=new this.constructor(cl);return fl(this,new vl(e,t,n)),n},ll.prototype.finally=il,ll.all=function(e){return new ll((function(t,n){if(!ul(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){o(e,t)}),n)}r[e]=a,0==--i&&t(r)}catch(e){n(e)}}for(var a=0;a<r.length;a++)o(a,r[a])}))},ll.allSettled=ol,ll.resolve=function(e){return e&&"object"==typeof e&&e.constructor===ll?e:new ll((function(t){t(e)}))},ll.reject=function(e){return new ll((function(t,n){n(e)}))},ll.race=function(e){return new ll((function(t,n){if(!ul(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=e.length;r<i;r++)ll.resolve(e[r]).then(t,n)}))},ll._immediateFn="function"==typeof sl&&function(e){sl(e)}||function(e){al(e,0)},ll._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var yl=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof n.g)return n.g;throw new Error("unable to locate global object")}();"function"!=typeof yl.Promise?yl.Promise=ll:(yl.Promise.prototype.finally||(yl.Promise.prototype.finally=il),yl.Promise.allSettled||(yl.Promise.allSettled=ol)),function(e){function t(){}function n(e,t){if(e=void 0===e?"utf-8":e,t=void 0===t?{fatal:!1}:t,-1===i.indexOf(e.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+e+"') is invalid.");if(t.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function r(e){for(var t=0,n=Math.min(65536,e.length+1),r=new Uint16Array(n),i=[],o=0;;){var a=t<e.length;if(!a||o>=n-1){if(i.push(String.fromCharCode.apply(null,r.subarray(0,o))),!a)return i.join("");e=e.subarray(t),o=t=0}if(0==(128&(a=e[t++])))r[o++]=a;else if(192==(224&a)){var s=63&e[t++];r[o++]=(31&a)<<6|s}else if(224==(240&a)){s=63&e[t++];var u=63&e[t++];r[o++]=(31&a)<<12|s<<6|u}else 240==(248&a)&&(65535<(a=(7&a)<<18|(s=63&e[t++])<<12|(u=63&e[t++])<<6|63&e[t++])&&(a-=65536,r[o++]=a>>>10&1023|55296,a=56320|1023&a),r[o++]=a)}}if(e.TextEncoder&&e.TextDecoder)return!1;var i=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");t=0;for(var n=e.length,r=0,i=Math.max(32,n+(n>>>1)+7),o=new Uint8Array(i>>>3<<3);t<n;){var a=e.charCodeAt(t++);if(55296<=a&&56319>=a){if(t<n){var s=e.charCodeAt(t);56320==(64512&s)&&(++t,a=((1023&a)<<10)+(1023&s)+65536)}if(55296<=a&&56319>=a)continue}if(r+4>o.length&&(i+=8,i=(i*=1+t/e.length*2)>>>3<<3,(s=new Uint8Array(i)).set(o),o=s),0==(4294967168&a))o[r++]=a;else{if(0==(4294965248&a))o[r++]=a>>>6&31|192;else if(0==(4294901760&a))o[r++]=a>>>12&15|224,o[r++]=a>>>6&63|128;else{if(0!=(4292870144&a))continue;o[r++]=a>>>18&7|240,o[r++]=a>>>12&63|128,o[r++]=a>>>6&63|128}o[r++]=63&a|128}}return o.slice?o.slice(0,r):o.subarray(0,r)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1});var o=r;"function"==typeof Buffer&&Buffer.from?o=function(e){return Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(o=function(e){var t=URL.createObjectURL(new Blob([e],{type:"text/plain;charset=UTF-8"}));try{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(),n.responseText}catch(t){return r(e)}finally{URL.revokeObjectURL(t)}}),n.prototype.decode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return e=e instanceof Uint8Array?e:e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer):new Uint8Array(e),o(e)},e.TextEncoder=t,e.TextDecoder=n}("undefined"!=typeof window?window:Ar),function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?a(e):t}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=i(e);if(t){var o=i(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=c(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}var f=function(){function t(){e(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(t,[{key:"addEventListener",value:function(e,t,n){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({callback:t,options:n})}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,i=n.length;r<i;r++)if(n[r].callback===t)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){for(var t=this.listeners[e.type].slice(),n=0,r=t.length;n<r;n++){var i=t[n];try{i.callback.call(this,e)}catch(e){Promise.resolve().then((function(){throw e}))}i.options&&i.options.once&&this.removeEventListener(e.type,i.callback)}return!e.defaultPrevented}}}]),t}(),h=function(t){r(s,t);var o=u(s);function s(){var t;return e(this,s),(t=o.call(this)).listeners||f.call(a(t)),Object.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return n(s,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),l(i(s.prototype),"dispatchEvent",this).call(this,e)}}]),s}(f),d=function(){function t(){e(this,t),Object.defineProperty(this,"signal",{value:new h,writable:!0,configurable:!0})}return n(t,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(d.prototype[Symbol.toStringTag]="AbortController",h.prototype[Symbol.toStringTag]="AbortSignal"),function(e){(function(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController})(e)&&(e.AbortController=d,e.AbortSignal=h)}("undefined"!=typeof self?self:Ar)}();var ml=Dr((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){var e=this;this.locked=new Map,this.addToLocked=function(t,n){var r=e.locked.get(t);void 0===r?void 0===n?e.locked.set(t,[]):e.locked.set(t,[n]):void 0!==n&&(r.unshift(n),e.locked.set(t,r))},this.isLocked=function(t){return e.locked.has(t)},this.lock=function(t){return new Promise((function(n,r){e.isLocked(t)?e.addToLocked(t,n):(e.addToLocked(t),n())}))},this.unlock=function(t){var n=e.locked.get(t);if(void 0!==n&&0!==n.length){var r=n.pop();e.locked.set(t,n),void 0!==r&&setTimeout(r,0)}else e.locked.delete(t)}}return e.getInstance=function(){return void 0===e.instance&&(e.instance=new e),e.instance},e}();t.default=function(){return n.getInstance()}}));Rr(ml);var bl=Rr(Dr((function(e,t){var n=Ar&&Ar.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))},r=Ar&&Ar.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i="browser-tabs-lock-key";function o(e){return new Promise((function(t){return setTimeout(t,e)}))}function a(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",r=0;r<e;r++)n+=t[Math.floor(Math.random()*t.length)];return n}var s=function(){function e(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+a(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===e.waiters&&(e.waiters=[])}return e.prototype.acquireLock=function(t,s){return void 0===s&&(s=5e3),n(this,void 0,void 0,(function(){var n,u,c,l,f,h;return r(this,(function(r){switch(r.label){case 0:n=Date.now()+a(4),u=Date.now()+s,c=i+"-"+t,l=window.localStorage,r.label=1;case 1:return Date.now()<u?[4,o(30)]:[3,8];case 2:return r.sent(),null!==l.getItem(c)?[3,5]:(f=this.id+"-"+t+"-"+n,[4,o(Math.floor(25*Math.random()))]);case 3:return r.sent(),l.setItem(c,JSON.stringify({id:this.id,iat:n,timeoutKey:f,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,o(30)];case 4:return r.sent(),null!==(h=l.getItem(c))&&(h=JSON.parse(h)).id===this.id&&h.iat===n?(this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(c,n),[2,!0]):[3,7];case 5:return e.lockCorrector(),[4,this.waitForSomethingToChange(u)];case 6:r.sent(),r.label=7;case 7:return n=Date.now()+a(4),[3,1];case 8:return[2,!1]}}))}))},e.prototype.refreshLockWhileAcquired=function(e,t){return n(this,void 0,void 0,(function(){var i=this;return r(this,(function(o){return setTimeout((function(){return n(i,void 0,void 0,(function(){var n,i;return r(this,(function(r){switch(r.label){case 0:return[4,ml.default().lock(t)];case 1:return r.sent(),this.acquiredIatSet.has(t)?(n=window.localStorage,null===(i=n.getItem(e))?(ml.default().unlock(t),[2]):((i=JSON.parse(i)).timeRefreshed=Date.now(),n.setItem(e,JSON.stringify(i)),ml.default().unlock(t),this.refreshLockWhileAcquired(e,t),[2])):(ml.default().unlock(t),[2])}}))}))}),1e3),[2]}))}))},e.prototype.waitForSomethingToChange=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){var r=!1,i=Date.now(),o=!1;function a(){if(o||(window.removeEventListener("storage",a),e.removeFromWaiting(a),clearTimeout(s),o=!0),!r){r=!0;var t=50-(Date.now()-i);t>0?setTimeout(n,t):n()}}window.addEventListener("storage",a),e.addToWaiting(a);var s=setTimeout(a,Math.max(0,t-Date.now()))}))];case 1:return n.sent(),[2]}}))}))},e.addToWaiting=function(t){this.removeFromWaiting(t),void 0!==e.waiters&&e.waiters.push(t)},e.removeFromWaiting=function(t){void 0!==e.waiters&&(e.waiters=e.waiters.filter((function(e){return e!==t})))},e.notifyWaiters=function(){void 0!==e.waiters&&e.waiters.slice().forEach((function(e){return e()}))},e.prototype.releaseLock=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.releaseLock__private__(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.releaseLock__private__=function(t){return n(this,void 0,void 0,(function(){var n,o,a;return r(this,(function(r){switch(r.label){case 0:return n=window.localStorage,o=i+"-"+t,null===(a=n.getItem(o))?[2]:(a=JSON.parse(a)).id!==this.id?[3,2]:[4,ml.default().lock(a.iat)];case 1:r.sent(),this.acquiredIatSet.delete(a.iat),n.removeItem(o),ml.default().unlock(a.iat),e.notifyWaiters(),r.label=2;case 2:return[2]}}))}))},e.lockCorrector=function(){for(var t=Date.now()-5e3,n=window.localStorage,r=Object.keys(n),o=!1,a=0;a<r.length;a++){var s=r[a];if(s.includes(i)){var u=n.getItem(s);null!==u&&(void 0===(u=JSON.parse(u)).timeRefreshed&&u.timeAcquired<t||void 0!==u.timeRefreshed&&u.timeRefreshed<t)&&(n.removeItem(s),o=!0)}}o&&e.notifyWaiters()},e.waiters=void 0,e}();t.default=s}))),wl={timeoutInSeconds:60},_l=["login_required","consent_required","interaction_required","account_selection_required","access_denied"],El={name:"auth0-spa-js",version:"1.19.3"},kl=function(){return Date.now()},Il=function(e){function t(n,r){var i=e.call(this,r)||this;return i.error=n,i.error_description=r,Object.setPrototypeOf(i,t.prototype),i}return Sr(t,e),t.fromPayload=function(e){return new t(e.error,e.error_description)},t}(Error),Sl=function(e){function t(n,r,i,o){void 0===o&&(o=null);var a=e.call(this,n,r)||this;return a.state=i,a.appState=o,Object.setPrototypeOf(a,t.prototype),a}return Sr(t,e),t}(Il),Tl=function(e){function t(){var n=e.call(this,"timeout","Timeout")||this;return Object.setPrototypeOf(n,t.prototype),n}return Sr(t,e),t}(Il),Cl=function(e){function t(n){var r=e.call(this)||this;return r.popup=n,Object.setPrototypeOf(r,t.prototype),r}return Sr(t,e),t}(Tl),xl=function(e){function t(n){var r=e.call(this,"cancelled","Popup closed")||this;return r.popup=n,Object.setPrototypeOf(r,t.prototype),r}return Sr(t,e),t}(Il),Nl=function(e){function t(n,r,i){var o=e.call(this,n,r)||this;return o.mfa_token=i,Object.setPrototypeOf(o,t.prototype),o}return Sr(t,e),t}(Il),Pl=function(e){return new Promise((function(t,n){var r,i=setInterval((function(){e.popup&&e.popup.closed&&(clearInterval(i),clearTimeout(o),window.removeEventListener("message",r,!1),n(new xl(e.popup)))}),1e3),o=setTimeout((function(){clearInterval(i),n(new Cl(e.popup)),window.removeEventListener("message",r,!1)}),1e3*(e.timeoutInSeconds||60));r=function(a){if(a.data&&"authorization_response"===a.data.type){if(clearTimeout(o),clearInterval(i),window.removeEventListener("message",r,!1),e.popup.close(),a.data.response.error)return n(Il.fromPayload(a.data.response));t(a.data.response)}},window.addEventListener("message",r)}))},Ol=function(){return window.crypto||window.msCrypto},Al=function(){var e=Ol();return e.subtle||e.webkitSubtle},Rl=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",t="";return Array.from(Ol().getRandomValues(new Uint8Array(43))).forEach((function(n){return t+=e[n%e.length]})),t},Dl=function(e){return btoa(e)},Ll=function(e){return Object.keys(e).filter((function(t){return void 0!==e[t]})).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},jl=function(e){return xr(void 0,void 0,void 0,(function(){var t;return Nr(this,(function(n){switch(n.label){case 0:return t=Al().digest({name:"SHA-256"},(new TextEncoder).encode(e)),window.msCrypto?[2,new Promise((function(e,n){t.oncomplete=function(t){e(t.target.result)},t.onerror=function(e){n(e.error)},t.onabort=function(){n("The digest operation was aborted")}}))]:[4,t];case 1:return[2,n.sent()]}}))}))},Ml=function(e){return function(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(e.replace(/_/g,"/").replace(/-/g,"+"))},Fl=function(e){var t=new Uint8Array(e);return function(e){var t={"+":"-","/":"_","=":""};return e.replace(/[+/=]/g,(function(e){return t[e]}))}(window.btoa(String.fromCharCode.apply(String,Or([],Pr(Array.from(t)),!1))))},Ul=function(e,t){return xr(void 0,void 0,void 0,(function(){var n,r;return Nr(this,(function(i){switch(i.label){case 0:return[4,(o=e,a=t,a=a||{},new Promise((function(e,t){var n=new XMLHttpRequest,r=[],i=[],s={},u=function e(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(n.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:e,headers:{keys:function(){return r},entries:function(){return i},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var c in n.open(a.method||"get",o,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){r.push(t=t.toLowerCase()),i.push([t,n]),s[t]=s[t]?s[t]+","+n:n})),e(u())},n.onerror=t,n.withCredentials="include"==a.credentials,a.headers)n.setRequestHeader(c,a.headers[c]);n.send(a.body||null)})))];case 1:return n=i.sent(),r={ok:n.ok},[4,n.json()];case 2:return[2,(r.json=i.sent(),r)]}var o,a}))}))},Vl=function(e,t,n){return xr(void 0,void 0,void 0,(function(){var r,i;return Nr(this,(function(o){return r=new AbortController,t.signal=r.signal,[2,Promise.race([Ul(e,t),new Promise((function(e,t){i=setTimeout((function(){r.abort(),t(new Error("Timeout when executing 'fetch'"))}),n)}))]).finally((function(){clearTimeout(i)}))]}))}))},Bl=function(e,t,n,r,i,o,a){return xr(void 0,void 0,void 0,(function(){return Nr(this,(function(s){return[2,(u={auth:{audience:t,scope:n},timeout:i,fetchUrl:e,fetchOptions:r,useFormData:a},c=o,new Promise((function(e,t){var n=new MessageChannel;n.port1.onmessage=function(n){n.data.error?t(new Error(n.data.error)):e(n.data)},c.postMessage(u,[n.port2])})))];var u,c}))}))},ql=function(e,t,n,r,i,o,a){return void 0===a&&(a=1e4),xr(void 0,void 0,void 0,(function(){return Nr(this,(function(s){return i?[2,Bl(e,t,n,r,a,i,o)]:[2,Vl(e,r,a)]}))}))};function Kl(e,t,n,r,i,o,a){return xr(this,void 0,void 0,(function(){var s,u,c,l,f,h,d,p,v;return Nr(this,(function(g){switch(g.label){case 0:s=null,c=0,g.label=1;case 1:if(!(c<3))return[3,6];g.label=2;case 2:return g.trys.push([2,4,,5]),[4,ql(e,n,r,i,o,a,t)];case 3:return u=g.sent(),s=null,[3,6];case 4:return l=g.sent(),s=l,[3,5];case 5:return c++,[3,1];case 6:if(s)throw s.message=s.message||"Failed to fetch",s;if(f=u.json,h=f.error,d=f.error_description,p=Cr(f,["error","error_description"]),!u.ok){if(v=d||"HTTP error. Unable to fetch "+e,"mfa_required"===h)throw new Nl(h,v,p.mfa_token);throw new Il(h||"request_error",v)}return[2,p]}}))}))}function Wl(e,t){var n=e.baseUrl,r=e.timeout,i=e.audience,o=e.scope,a=e.auth0Client,s=e.useFormData,u=Cr(e,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);return xr(this,void 0,void 0,(function(){var e;return Nr(this,(function(c){switch(c.label){case 0:return e=s?Ll(u):JSON.stringify(u),[4,Kl(n+"/oauth/token",r,i||"default",o,{method:"POST",body:e,headers:{"Content-Type":s?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(a||El))}},t,s)];case 1:return[2,c.sent()]}}))}))}var zl=function(e){return Array.from(new Set(e))},Hl=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return zl(e.join(" ").trim().split(/\s+/)).join(" ")},Gl=function(){function e(e,t){void 0===t&&(t="@@auth0spajs@@"),this.prefix=t,this.client_id=e.client_id,this.scope=e.scope,this.audience=e.audience}return e.prototype.toKey=function(){return this.prefix+"::"+this.client_id+"::"+this.audience+"::"+this.scope},e.fromKey=function(t){var n=Pr(t.split("::"),4),r=n[0],i=n[1],o=n[2];return new e({client_id:i,scope:n[3],audience:o},r)},e.fromCacheEntry=function(t){return new e({scope:t.scope,audience:t.audience,client_id:t.client_id})},e}(),Yl=function(){function e(){}return e.prototype.set=function(e,t){localStorage.setItem(e,JSON.stringify(t))},e.prototype.get=function(e){var t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(e){return}},e.prototype.remove=function(e){localStorage.removeItem(e)},e.prototype.allKeys=function(){return Object.keys(window.localStorage).filter((function(e){return e.startsWith("@@auth0spajs@@")}))},e}(),Xl=function(){var e;this.enclosedCache=(e={},{set:function(t,n){e[t]=n},get:function(t){var n=e[t];if(n)return n},remove:function(t){delete e[t]},allKeys:function(){return Object.keys(e)}})},Ql=function(){function e(e,t,n){this.cache=e,this.keyManifest=t,this.nowProvider=n,this.nowProvider=this.nowProvider||kl}return e.prototype.get=function(e,t){var n;return void 0===t&&(t=0),xr(this,void 0,void 0,(function(){var r,i,o,a,s;return Nr(this,(function(u){switch(u.label){case 0:return[4,this.cache.get(e.toKey())];case 1:return(r=u.sent())?[3,4]:[4,this.getCacheKeys()];case 2:return(i=u.sent())?(o=this.matchExistingCacheKey(e,i),[4,this.cache.get(o)]):[2];case 3:r=u.sent(),u.label=4;case 4:return r?[4,this.nowProvider()]:[2];case 5:return a=u.sent(),s=Math.floor(a/1e3),r.expiresAt-t<s?r.body.refresh_token?(r.body={refresh_token:r.body.refresh_token},[4,this.cache.set(e.toKey(),r)]):[3,7]:[3,10];case 6:return u.sent(),[2,r.body];case 7:return[4,this.cache.remove(e.toKey())];case 8:return u.sent(),[4,null===(n=this.keyManifest)||void 0===n?void 0:n.remove(e.toKey())];case 9:return u.sent(),[2];case 10:return[2,r.body]}}))}))},e.prototype.set=function(e){var t;return xr(this,void 0,void 0,(function(){var n,r;return Nr(this,(function(i){switch(i.label){case 0:return n=new Gl({client_id:e.client_id,scope:e.scope,audience:e.audience}),[4,this.wrapCacheEntry(e)];case 1:return r=i.sent(),[4,this.cache.set(n.toKey(),r)];case 2:return i.sent(),[4,null===(t=this.keyManifest)||void 0===t?void 0:t.add(n.toKey())];case 3:return i.sent(),[2]}}))}))},e.prototype.clear=function(e){var t;return xr(this,void 0,void 0,(function(){var n,r=this;return Nr(this,(function(i){switch(i.label){case 0:return[4,this.getCacheKeys()];case 1:return(n=i.sent())?[4,n.filter((function(t){return!e||t.includes(e)})).reduce((function(e,t){return xr(r,void 0,void 0,(function(){return Nr(this,(function(n){switch(n.label){case 0:return[4,e];case 1:return n.sent(),[4,this.cache.remove(t)];case 2:return n.sent(),[2]}}))}))}),Promise.resolve())]:[2];case 2:return i.sent(),[4,null===(t=this.keyManifest)||void 0===t?void 0:t.clear()];case 3:return i.sent(),[2]}}))}))},e.prototype.clearSync=function(e){var t=this,n=this.cache.allKeys();n&&n.filter((function(t){return!e||t.includes(e)})).forEach((function(e){t.cache.remove(e)}))},e.prototype.wrapCacheEntry=function(e){return xr(this,void 0,void 0,(function(){var t,n,r;return Nr(this,(function(i){switch(i.label){case 0:return[4,this.nowProvider()];case 1:return t=i.sent(),n=Math.floor(t/1e3)+e.expires_in,r=Math.min(n,e.decodedToken.claims.exp),[2,{body:e,expiresAt:r}]}}))}))},e.prototype.getCacheKeys=function(){var e;return xr(this,void 0,void 0,(function(){var t;return Nr(this,(function(n){switch(n.label){case 0:return this.keyManifest?[4,this.keyManifest.get()]:[3,2];case 1:return t=null===(e=n.sent())||void 0===e?void 0:e.keys,[3,4];case 2:return[4,this.cache.allKeys()];case 3:t=n.sent(),n.label=4;case 4:return[2,t]}}))}))},e.prototype.matchExistingCacheKey=function(e,t){return t.filter((function(t){var n=Gl.fromKey(t),r=new Set(n.scope&&n.scope.split(" ")),i=e.scope.split(" "),o=n.scope&&i.reduce((function(e,t){return e&&r.has(t)}),!0);return"@@auth0spajs@@"===n.prefix&&n.client_id===e.client_id&&n.audience===e.audience&&o}))[0]},e}(),Jl=function(){function e(e,t){this.storage=e,this.clientId=t,this.storageKey="a0.spajs.txs."+this.clientId,this.transaction=this.storage.get(this.storageKey)}return e.prototype.create=function(e){this.transaction=e,this.storage.save(this.storageKey,e,{daysUntilExpire:1})},e.prototype.get=function(){return this.transaction},e.prototype.remove=function(){delete this.transaction,this.storage.remove(this.storageKey)},e}(),Zl=function(e){return"number"==typeof e},$l=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],ef=function(e){if(!e.id_token)throw new Error("ID token is required but missing");var t=function(e){var t=e.split("."),n=Pr(t,3),r=n[0],i=n[1],o=n[2];if(3!==t.length||!r||!i||!o)throw new Error("ID token could not be decoded");var a=JSON.parse(Ml(i)),s={__raw:e},u={};return Object.keys(a).forEach((function(e){s[e]=a[e],$l.includes(e)||(u[e]=a[e])})),{encoded:{header:r,payload:i,signature:o},header:JSON.parse(Ml(r)),claims:s,user:u}}(e.id_token);if(!t.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(t.claims.iss!==e.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'+e.iss+'", found "'+t.claims.iss+'"');if(!t.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==t.header.alg)throw new Error('Signature algorithm of "'+t.header.alg+'" is not supported. Expected the ID token to be signed with "RS256".');if(!t.claims.aud||"string"!=typeof t.claims.aud&&!Array.isArray(t.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+e.aud+'" but was not one of "'+t.claims.aud.join(", ")+'"');if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(t.claims.azp!==e.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'+e.aud+'", found "'+t.claims.azp+'"')}}else if(t.claims.aud!==e.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+e.aud+'" but found "'+t.claims.aud+'"');if(e.nonce){if(!t.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(t.claims.nonce!==e.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'+e.nonce+'", found "'+t.claims.nonce+'"')}if(e.max_age&&!Zl(t.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!Zl(t.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!Zl(t.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var n=e.leeway||60,r=new Date(e.now||Date.now()),i=new Date(0),o=new Date(0),a=new Date(0);if(a.setUTCSeconds(parseInt(t.claims.auth_time)+e.max_age+n),i.setUTCSeconds(t.claims.exp+n),o.setUTCSeconds(t.claims.nbf-n),r>i)throw new Error("Expiration Time (exp) claim error in the ID token; current time ("+r+") is after expiration time ("+i+")");if(Zl(t.claims.nbf)&&r<o)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time ("+r+") is before "+o);if(Zl(t.claims.auth_time)&&r>a)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time ("+r+") is after last auth at "+a);if(e.organizationId){if(!t.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(e.organizationId!==t.claims.org_id)throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected "'+e.organizationId+'", found "'+t.claims.org_id+'"')}return t},tf=Dr((function(e,t){var n=Ar&&Ar.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function r(e,t){if(!t)return"";var n="; "+e;return!0===t?n:n+"="+t}function i(e,t,n){return encodeURIComponent(e).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(e){if("number"==typeof e.expires){var t=new Date;t.setMilliseconds(t.getMilliseconds()+864e5*e.expires),e.expires=t}return r("Expires",e.expires?e.expires.toUTCString():"")+r("Domain",e.domain)+r("Path",e.path)+r("Secure",e.secure)+r("SameSite",e.sameSite)}(n)}function o(e){for(var t={},n=e?e.split("; "):[],r=/(%[\dA-F]{2})+/gi,i=0;i<n.length;i++){var o=n[i].split("="),a=o.slice(1).join("=");'"'===a.charAt(0)&&(a=a.slice(1,-1));try{t[o[0].replace(r,decodeURIComponent)]=a.replace(r,decodeURIComponent)}catch(e){}}return t}function a(){return o(document.cookie)}function s(e,t,r){document.cookie=i(e,t,n({path:"/"},r))}t.__esModule=!0,t.encode=i,t.parse=o,t.getAll=a,t.get=function(e){return a()[e]},t.set=s,t.remove=function(e,t){s(e,"",n(n({},t),{expires:-1}))}}));Rr(tf),tf.encode,tf.parse,tf.getAll;var nf=tf.get,rf=tf.set,of=tf.remove,af={get:function(e){var t=nf(e);if(void 0!==t)return JSON.parse(t)},save:function(e,t,n){var r={};"https:"===window.location.protocol&&(r={secure:!0,sameSite:"none"}),(null==n?void 0:n.daysUntilExpire)&&(r.expires=n.daysUntilExpire),rf(e,JSON.stringify(t),r)},remove:function(e){of(e)}},sf={get:function(e){return af.get(e)||af.get("_legacy_"+e)},save:function(e,t,n){var r={};"https:"===window.location.protocol&&(r={secure:!0}),(null==n?void 0:n.daysUntilExpire)&&(r.expires=n.daysUntilExpire),rf("_legacy_"+e,JSON.stringify(t),r),af.save(e,t,n)},remove:function(e){af.remove(e),af.remove("_legacy_"+e)}},uf={get:function(e){if("undefined"!=typeof sessionStorage){var t=sessionStorage.getItem(e);if(void 0!==t)return JSON.parse(t)}},save:function(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove:function(e){sessionStorage.removeItem(e)}};var cf,lf=("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uCgogICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55CiAgICBwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuCgogICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEgKICAgIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWQogICAgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULAogICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NCiAgICBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUgogICAgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUgogICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS4KICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyLHQsbil7cmV0dXJuIG5ldyh0fHwodD1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8sYSl7ZnVuY3Rpb24gcyhlKXt0cnl7dShuLm5leHQoZSkpfWNhdGNoKGUpe2EoZSl9fWZ1bmN0aW9uIGkoZSl7dHJ5e3Uobi50aHJvdyhlKSl9Y2F0Y2goZSl7YShlKX19ZnVuY3Rpb24gdShlKXt2YXIgcjtlLmRvbmU/byhlLnZhbHVlKToocj1lLnZhbHVlLHIgaW5zdGFuY2VvZiB0P3I6bmV3IHQoKGZ1bmN0aW9uKGUpe2Uocil9KSkpLnRoZW4ocyxpKX11KChuPW4uYXBwbHkoZSxyfHxbXSkpLm5leHQoKSl9KSl9ZnVuY3Rpb24gdChlLHIpe3ZhciB0LG4sbyxhLHM9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGE9e25leHQ6aSgwKSx0aHJvdzppKDEpLHJldHVybjppKDIpfSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYoYVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxhO2Z1bmN0aW9uIGkoYSl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBmdW5jdGlvbihhKXtpZih0KXRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTtmb3IoO3M7KXRyeXtpZih0PTEsbiYmKG89MiZhWzBdP24ucmV0dXJuOmFbMF0/bi50aHJvd3x8KChvPW4ucmV0dXJuKSYmby5jYWxsKG4pLDApOm4ubmV4dCkmJiEobz1vLmNhbGwobixhWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2gobj0wLG8mJihhPVsyJmFbMF0sby52YWx1ZV0pLGFbMF0pe2Nhc2UgMDpjYXNlIDE6bz1hO2JyZWFrO2Nhc2UgNDpyZXR1cm4gcy5sYWJlbCsrLHt2YWx1ZTphWzFdLGRvbmU6ITF9O2Nhc2UgNTpzLmxhYmVsKyssbj1hWzFdLGE9WzBdO2NvbnRpbnVlO2Nhc2UgNzphPXMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1zLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1hWzBdJiYyIT09YVswXSkpe3M9MDtjb250aW51ZX1pZigzPT09YVswXSYmKCFvfHxhWzFdPm9bMF0mJmFbMV08b1szXSkpe3MubGFiZWw9YVsxXTticmVha31pZig2PT09YVswXSYmcy5sYWJlbDxvWzFdKXtzLmxhYmVsPW9bMV0sbz1hO2JyZWFrfWlmKG8mJnMubGFiZWw8b1syXSl7cy5sYWJlbD1vWzJdLHMub3BzLnB1c2goYSk7YnJlYWt9b1syXSYmcy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlfWE9ci5jYWxsKGUscyl9Y2F0Y2goZSl7YT1bNixlXSxuPTB9ZmluYWxseXt0PW89MH1pZig1JmFbMF0pdGhyb3cgYVsxXTtyZXR1cm57dmFsdWU6YVswXT9hWzFdOnZvaWQgMCxkb25lOiEwfX0oW2EsaV0pfX19dmFyIG49e30sbz1mdW5jdGlvbihlLHIpe3JldHVybiBlKyJ8IityfTthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoZnVuY3Rpb24oYSl7dmFyIHM9YS5kYXRhLGk9cy50aW1lb3V0LHU9cy5hdXRoLGM9cy5mZXRjaFVybCxmPXMuZmV0Y2hPcHRpb25zLGw9cy51c2VGb3JtRGF0YSxoPWZ1bmN0aW9uKGUscil7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdO2lmKCF0KXJldHVybiBlO3ZhciBuLG8sYT10LmNhbGwoZSkscz1bXTt0cnl7Zm9yKDsodm9pZCAwPT09cnx8ci0tID4wKSYmIShuPWEubmV4dCgpKS5kb25lOylzLnB1c2gobi52YWx1ZSl9Y2F0Y2goZSl7bz17ZXJyb3I6ZX19ZmluYWxseXt0cnl7biYmIW4uZG9uZSYmKHQ9YS5yZXR1cm4pJiZ0LmNhbGwoYSl9ZmluYWxseXtpZihvKXRocm93IG8uZXJyb3J9fXJldHVybiBzfShhLnBvcnRzLDEpWzBdO3JldHVybiByKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByLGEscyxwLHksYixkLHYsdyxnO3JldHVybiB0KHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cz0oYT11fHx7fSkuYXVkaWVuY2UscD1hLnNjb3BlLHQubGFiZWw9MTtjYXNlIDE6aWYodC50cnlzLnB1c2goWzEsNywsOF0pLCEoeT1sPyhrPWYuYm9keSxTPW5ldyBVUkxTZWFyY2hQYXJhbXMoayksXz17fSxTLmZvckVhY2goKGZ1bmN0aW9uKGUscil7X1tyXT1lfSkpLF8pOkpTT04ucGFyc2UoZi5ib2R5KSkucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09eS5ncmFudF90eXBlKXtpZighKGI9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gbltvKGUscildfShzLHApKSl0aHJvdyBuZXcgRXJyb3IoIlRoZSB3ZWIgd29ya2VyIGlzIG1pc3NpbmcgdGhlIHJlZnJlc2ggdG9rZW4iKTtmLmJvZHk9bD9uZXcgVVJMU2VhcmNoUGFyYW1zKGUoZSh7fSx5KSx7cmVmcmVzaF90b2tlbjpifSkpLnRvU3RyaW5nKCk6SlNPTi5zdHJpbmdpZnkoZShlKHt9LHkpLHtyZWZyZXNoX3Rva2VuOmJ9KSl9ZD12b2lkIDAsImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGQ9bmV3IEFib3J0Q29udHJvbGxlcixmLnNpZ25hbD1kLnNpZ25hbCksdj12b2lkIDAsdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gdC50cnlzLnB1c2goWzIsNCwsNV0pLFs0LFByb21pc2UucmFjZShbKG09aSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHNldFRpbWVvdXQoZSxtKX0pKSksZmV0Y2goYyxlKHt9LGYpKV0pXTtjYXNlIDM6cmV0dXJuIHY9dC5zZW50KCksWzMsNV07Y2FzZSA0OnJldHVybiB3PXQuc2VudCgpLGgucG9zdE1lc3NhZ2Uoe2Vycm9yOncubWVzc2FnZX0pLFsyXTtjYXNlIDU6cmV0dXJuIHY/WzQsdi5qc29uKCldOihkJiZkLmFib3J0KCksaC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KSxbMl0pO2Nhc2UgNjpyZXR1cm4ocj10LnNlbnQoKSkucmVmcmVzaF90b2tlbj8oZnVuY3Rpb24oZSxyLHQpe25bbyhyLHQpXT1lfShyLnJlZnJlc2hfdG9rZW4scyxwKSxkZWxldGUgci5yZWZyZXNoX3Rva2VuKTpmdW5jdGlvbihlLHIpe2RlbGV0ZSBuW28oZSxyKV19KHMscCksaC5wb3N0TWVzc2FnZSh7b2s6di5vayxqc29uOnJ9KSxbMyw4XTtjYXNlIDc6cmV0dXJuIGc9dC5zZW50KCksaC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3JfZGVzY3JpcHRpb246Zy5tZXNzYWdlfX0pLFszLDhdO2Nhc2UgODpyZXR1cm5bMl19dmFyIG0sayxTLF99KSl9KSl9KSl9KCk7Cgo=",null,!1,function(e){return cf=cf||function(e,t,n){var r=void 0===t?null:t,i=function(e,t){var n=atob(e);if(t){for(var r=new Uint8Array(n.length),i=0,o=n.length;i<o;++i)r[i]=n.charCodeAt(i);return String.fromCharCode.apply(null,new Uint16Array(r.buffer))}return n}(e,void 0!==n&&n),o=i.indexOf("\n",10)+1,a=i.substring(o)+(r?"//# sourceMappingURL="+r:""),s=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(s)}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uCgogICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55CiAgICBwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuCgogICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEgKICAgIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWQogICAgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULAogICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NCiAgICBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUgogICAgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUgogICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS4KICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyLHQsbil7cmV0dXJuIG5ldyh0fHwodD1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8sYSl7ZnVuY3Rpb24gcyhlKXt0cnl7dShuLm5leHQoZSkpfWNhdGNoKGUpe2EoZSl9fWZ1bmN0aW9uIGkoZSl7dHJ5e3Uobi50aHJvdyhlKSl9Y2F0Y2goZSl7YShlKX19ZnVuY3Rpb24gdShlKXt2YXIgcjtlLmRvbmU/byhlLnZhbHVlKToocj1lLnZhbHVlLHIgaW5zdGFuY2VvZiB0P3I6bmV3IHQoKGZ1bmN0aW9uKGUpe2Uocil9KSkpLnRoZW4ocyxpKX11KChuPW4uYXBwbHkoZSxyfHxbXSkpLm5leHQoKSl9KSl9ZnVuY3Rpb24gdChlLHIpe3ZhciB0LG4sbyxhLHM9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGE9e25leHQ6aSgwKSx0aHJvdzppKDEpLHJldHVybjppKDIpfSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYoYVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxhO2Z1bmN0aW9uIGkoYSl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBmdW5jdGlvbihhKXtpZih0KXRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTtmb3IoO3M7KXRyeXtpZih0PTEsbiYmKG89MiZhWzBdP24ucmV0dXJuOmFbMF0/bi50aHJvd3x8KChvPW4ucmV0dXJuKSYmby5jYWxsKG4pLDApOm4ubmV4dCkmJiEobz1vLmNhbGwobixhWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2gobj0wLG8mJihhPVsyJmFbMF0sby52YWx1ZV0pLGFbMF0pe2Nhc2UgMDpjYXNlIDE6bz1hO2JyZWFrO2Nhc2UgNDpyZXR1cm4gcy5sYWJlbCsrLHt2YWx1ZTphWzFdLGRvbmU6ITF9O2Nhc2UgNTpzLmxhYmVsKyssbj1hWzFdLGE9WzBdO2NvbnRpbnVlO2Nhc2UgNzphPXMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1zLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1hWzBdJiYyIT09YVswXSkpe3M9MDtjb250aW51ZX1pZigzPT09YVswXSYmKCFvfHxhWzFdPm9bMF0mJmFbMV08b1szXSkpe3MubGFiZWw9YVsxXTticmVha31pZig2PT09YVswXSYmcy5sYWJlbDxvWzFdKXtzLmxhYmVsPW9bMV0sbz1hO2JyZWFrfWlmKG8mJnMubGFiZWw8b1syXSl7cy5sYWJlbD1vWzJdLHMub3BzLnB1c2goYSk7YnJlYWt9b1syXSYmcy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlfWE9ci5jYWxsKGUscyl9Y2F0Y2goZSl7YT1bNixlXSxuPTB9ZmluYWxseXt0PW89MH1pZig1JmFbMF0pdGhyb3cgYVsxXTtyZXR1cm57dmFsdWU6YVswXT9hWzFdOnZvaWQgMCxkb25lOiEwfX0oW2EsaV0pfX19dmFyIG49e30sbz1mdW5jdGlvbihlLHIpe3JldHVybiBlKyJ8IityfTthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoZnVuY3Rpb24oYSl7dmFyIHM9YS5kYXRhLGk9cy50aW1lb3V0LHU9cy5hdXRoLGM9cy5mZXRjaFVybCxmPXMuZmV0Y2hPcHRpb25zLGw9cy51c2VGb3JtRGF0YSxoPWZ1bmN0aW9uKGUscil7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdO2lmKCF0KXJldHVybiBlO3ZhciBuLG8sYT10LmNhbGwoZSkscz1bXTt0cnl7Zm9yKDsodm9pZCAwPT09cnx8ci0tID4wKSYmIShuPWEubmV4dCgpKS5kb25lOylzLnB1c2gobi52YWx1ZSl9Y2F0Y2goZSl7bz17ZXJyb3I6ZX19ZmluYWxseXt0cnl7biYmIW4uZG9uZSYmKHQ9YS5yZXR1cm4pJiZ0LmNhbGwoYSl9ZmluYWxseXtpZihvKXRocm93IG8uZXJyb3J9fXJldHVybiBzfShhLnBvcnRzLDEpWzBdO3JldHVybiByKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByLGEscyxwLHksYixkLHYsdyxnO3JldHVybiB0KHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cz0oYT11fHx7fSkuYXVkaWVuY2UscD1hLnNjb3BlLHQubGFiZWw9MTtjYXNlIDE6aWYodC50cnlzLnB1c2goWzEsNywsOF0pLCEoeT1sPyhrPWYuYm9keSxTPW5ldyBVUkxTZWFyY2hQYXJhbXMoayksXz17fSxTLmZvckVhY2goKGZ1bmN0aW9uKGUscil7X1tyXT1lfSkpLF8pOkpTT04ucGFyc2UoZi5ib2R5KSkucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09eS5ncmFudF90eXBlKXtpZighKGI9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gbltvKGUscildfShzLHApKSl0aHJvdyBuZXcgRXJyb3IoIlRoZSB3ZWIgd29ya2VyIGlzIG1pc3NpbmcgdGhlIHJlZnJlc2ggdG9rZW4iKTtmLmJvZHk9bD9uZXcgVVJMU2VhcmNoUGFyYW1zKGUoZSh7fSx5KSx7cmVmcmVzaF90b2tlbjpifSkpLnRvU3RyaW5nKCk6SlNPTi5zdHJpbmdpZnkoZShlKHt9LHkpLHtyZWZyZXNoX3Rva2VuOmJ9KSl9ZD12b2lkIDAsImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGQ9bmV3IEFib3J0Q29udHJvbGxlcixmLnNpZ25hbD1kLnNpZ25hbCksdj12b2lkIDAsdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gdC50cnlzLnB1c2goWzIsNCwsNV0pLFs0LFByb21pc2UucmFjZShbKG09aSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHNldFRpbWVvdXQoZSxtKX0pKSksZmV0Y2goYyxlKHt9LGYpKV0pXTtjYXNlIDM6cmV0dXJuIHY9dC5zZW50KCksWzMsNV07Y2FzZSA0OnJldHVybiB3PXQuc2VudCgpLGgucG9zdE1lc3NhZ2Uoe2Vycm9yOncubWVzc2FnZX0pLFsyXTtjYXNlIDU6cmV0dXJuIHY/WzQsdi5qc29uKCldOihkJiZkLmFib3J0KCksaC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KSxbMl0pO2Nhc2UgNjpyZXR1cm4ocj10LnNlbnQoKSkucmVmcmVzaF90b2tlbj8oZnVuY3Rpb24oZSxyLHQpe25bbyhyLHQpXT1lfShyLnJlZnJlc2hfdG9rZW4scyxwKSxkZWxldGUgci5yZWZyZXNoX3Rva2VuKTpmdW5jdGlvbihlLHIpe2RlbGV0ZSBuW28oZSxyKV19KHMscCksaC5wb3N0TWVzc2FnZSh7b2s6di5vayxqc29uOnJ9KSxbMyw4XTtjYXNlIDc6cmV0dXJuIGc9dC5zZW50KCksaC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3JfZGVzY3JpcHRpb246Zy5tZXNzYWdlfX0pLFszLDhdO2Nhc2UgODpyZXR1cm5bMl19dmFyIG0sayxTLF99KSl9KSl9KSl9KCk7Cgo=",null,false),new Worker(cf,e)}),ff={},hf=function(){function e(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}return e.prototype.add=function(e){var t;return xr(this,void 0,void 0,(function(){var n,r;return Nr(this,(function(i){switch(i.label){case 0:return r=Set.bind,[4,this.cache.get(this.manifestKey)];case 1:return(n=new(r.apply(Set,[void 0,(null===(t=i.sent())||void 0===t?void 0:t.keys)||[]]))).add(e),[4,this.cache.set(this.manifestKey,{keys:Or([],Pr(n),!1)})];case 2:return i.sent(),[2]}}))}))},e.prototype.remove=function(e){return xr(this,void 0,void 0,(function(){var t,n;return Nr(this,(function(r){switch(r.label){case 0:return[4,this.cache.get(this.manifestKey)];case 1:return(t=r.sent())?((n=new Set(t.keys)).delete(e),n.size>0?[4,this.cache.set(this.manifestKey,{keys:Or([],Pr(n),!1)})]:[3,3]):[3,5];case 2:case 4:return[2,r.sent()];case 3:return[4,this.cache.remove(this.manifestKey)];case 5:return[2]}}))}))},e.prototype.get=function(){return this.cache.get(this.manifestKey)},e.prototype.clear=function(){return this.cache.remove(this.manifestKey)},e.prototype.createManifestKeyFrom=function(e){return"@@auth0spajs@@::"+e},e}(),df=new bl,pf={memory:function(){return(new Xl).enclosedCache},localstorage:function(){return new Yl}},vf=function(e){return pf[e]},gf=function(){function e(e){var t,n,r;if(this.options=e,"undefined"!=typeof window&&function(){if(!Ol())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===Al())throw new Error("\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    ")}(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)r=e.cache;else{if(this.cacheLocation=e.cacheLocation||"memory",!vf(this.cacheLocation))throw new Error('Invalid cache location "'+this.cacheLocation+'"');r=vf(this.cacheLocation)()}this.cookieStorage=!1===e.legacySameSiteCookie?af:sf,this.orgHintCookieName="auth0."+this.options.client_id+".organization_hint",this.isAuthenticatedCookieName=function(e){return"auth0."+e+".is.authenticated"}(this.options.client_id),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;var i,o=e.useCookiesForTransactions?this.cookieStorage:uf;this.scope=this.options.scope,this.transactionManager=new Jl(o,this.options.client_id),this.nowProvider=this.options.nowProvider||kl,this.cacheManager=new Ql(r,r.allKeys?null:new hf(r,this.options.client_id),this.nowProvider),this.domainUrl=(i=this.options.domain,/^https?:\/\//.test(i)?i:"https://"+i),this.tokenIssuer=function(e,t){return e?e.startsWith("https://")?e:"https://"+e+"/":t+"/"}(this.options.issuer,this.domainUrl),this.defaultScope=Hl("openid",void 0!==(null===(n=null===(t=this.options)||void 0===t?void 0:t.advancedOptions)||void 0===n?void 0:n.defaultScope)?this.options.advancedOptions.defaultScope:"openid profile email"),this.options.useRefreshTokens&&(this.scope=Hl(this.scope,"offline_access")),"undefined"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&"memory"===this.cacheLocation&&!/Trident.*rv:11\.0/.test(navigator.userAgent)&&(this.worker=new lf),this.customOptions=function(e){return e.advancedOptions,e.audience,e.auth0Client,e.authorizeTimeoutInSeconds,e.cacheLocation,e.client_id,e.domain,e.issuer,e.leeway,e.max_age,e.redirect_uri,e.scope,e.useRefreshTokens,e.useCookiesForTransactions,e.useFormData,Cr(e,["advancedOptions","audience","auth0Client","authorizeTimeoutInSeconds","cacheLocation","client_id","domain","issuer","leeway","max_age","redirect_uri","scope","useRefreshTokens","useCookiesForTransactions","useFormData"])}(e)}return e.prototype._url=function(e){var t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||El)));return""+this.domainUrl+e+"&auth0Client="+t},e.prototype._getParams=function(e,t,n,r,i){var o=this.options;o.useRefreshTokens,o.useCookiesForTransactions,o.useFormData,o.auth0Client,o.cacheLocation,o.advancedOptions,o.detailedResponse,o.nowProvider,o.authorizeTimeoutInSeconds,o.legacySameSiteCookie,o.sessionCheckExpiryDays,o.domain,o.leeway;var a=Cr(o,["useRefreshTokens","useCookiesForTransactions","useFormData","auth0Client","cacheLocation","advancedOptions","detailedResponse","nowProvider","authorizeTimeoutInSeconds","legacySameSiteCookie","sessionCheckExpiryDays","domain","leeway"]);return Tr(Tr(Tr({},a),e),{scope:Hl(this.defaultScope,this.scope,e.scope),response_type:"code",response_mode:"query",state:t,nonce:n,redirect_uri:i||this.options.redirect_uri,code_challenge:r,code_challenge_method:"S256"})},e.prototype._authorizeUrl=function(e){return this._url("/authorize?"+Ll(e))},e.prototype._verifyIdToken=function(e,t,n){return xr(this,void 0,void 0,(function(){var r;return Nr(this,(function(i){switch(i.label){case 0:return[4,this.nowProvider()];case 1:return r=i.sent(),[2,ef({iss:this.tokenIssuer,aud:this.options.client_id,id_token:e,nonce:t,organizationId:n,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age),now:r})]}}))}))},e.prototype._parseNumber=function(e){return"string"!=typeof e?e:parseInt(e,10)||void 0},e.prototype._processOrgIdHint=function(e){e?this.cookieStorage.save(this.orgHintCookieName,e):this.cookieStorage.remove(this.orgHintCookieName)},e.prototype.buildAuthorizeUrl=function(e){return void 0===e&&(e={}),xr(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,f,h;return Nr(this,(function(d){switch(d.label){case 0:return t=e.redirect_uri,n=e.appState,r=Cr(e,["redirect_uri","appState"]),i=Dl(Rl()),o=Dl(Rl()),a=Rl(),[4,jl(a)];case 1:return s=d.sent(),u=Fl(s),c=e.fragment?"#"+e.fragment:"",l=this._getParams(r,i,o,u,t),f=this._authorizeUrl(l),h=e.organization||this.options.organization,this.transactionManager.create(Tr({nonce:o,code_verifier:a,appState:n,scope:l.scope,audience:l.audience||"default",redirect_uri:l.redirect_uri,state:i},h&&{organizationId:h})),[2,f+c]}}))}))},e.prototype.loginWithPopup=function(e,t){return xr(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,h,d,p;return Nr(this,(function(v){switch(v.label){case 0:return e=e||{},(t=t||{}).popup||(t.popup=function(e){var t=window.screenX+(window.innerWidth-400)/2,n=window.screenY+(window.innerHeight-600)/2;return window.open("","auth0:authorize:popup","left="+t+",top="+n+",width=400,height=600,resizable,scrollbars=yes,status=1")}()),n=Cr(e,[]),r=Dl(Rl()),i=Dl(Rl()),o=Rl(),[4,jl(o)];case 1:return a=v.sent(),s=Fl(a),u=this._getParams(n,r,i,s,this.options.redirect_uri||window.location.origin),c=this._authorizeUrl(Tr(Tr({},u),{response_mode:"web_message"})),t.popup.location.href=c,[4,Pl(Tr(Tr({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(l=v.sent(),r!==l.state)throw new Error("Invalid state");return[4,Wl({audience:u.audience,scope:u.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:o,code:l.code,grant_type:"authorization_code",redirect_uri:u.redirect_uri,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData},this.worker)];case 3:return f=v.sent(),h=e.organization||this.options.organization,[4,this._verifyIdToken(f.id_token,i,h)];case 4:return d=v.sent(),p=Tr(Tr({},f),{decodedToken:d,scope:u.scope,audience:u.audience||"default",client_id:this.options.client_id}),[4,this.cacheManager.set(p)];case 5:return v.sent(),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays}),this._processOrgIdHint(d.claims.org_id),[2]}}))}))},e.prototype.getUser=function(e){return void 0===e&&(e={}),xr(this,void 0,void 0,(function(){var t,n,r;return Nr(this,(function(i){switch(i.label){case 0:return t=e.audience||this.options.audience||"default",n=Hl(this.defaultScope,this.scope,e.scope),[4,this.cacheManager.get(new Gl({client_id:this.options.client_id,audience:t,scope:n}))];case 1:return[2,(r=i.sent())&&r.decodedToken&&r.decodedToken.user]}}))}))},e.prototype.getIdTokenClaims=function(e){return void 0===e&&(e={}),xr(this,void 0,void 0,(function(){var t,n,r;return Nr(this,(function(i){switch(i.label){case 0:return t=e.audience||this.options.audience||"default",n=Hl(this.defaultScope,this.scope,e.scope),[4,this.cacheManager.get(new Gl({client_id:this.options.client_id,audience:t,scope:n}))];case 1:return[2,(r=i.sent())&&r.decodedToken&&r.decodedToken.claims]}}))}))},e.prototype.loginWithRedirect=function(e){return void 0===e&&(e={}),xr(this,void 0,void 0,(function(){var t,n,r;return Nr(this,(function(i){switch(i.label){case 0:return t=e.redirectMethod,n=Cr(e,["redirectMethod"]),[4,this.buildAuthorizeUrl(n)];case 1:return r=i.sent(),window.location[t||"assign"](r),[2]}}))}))},e.prototype.handleRedirectCallback=function(e){return void 0===e&&(e=window.location.href),xr(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l;return Nr(this,(function(f){switch(f.label){case 0:if(0===(t=e.split("?").slice(1)).length)throw new Error("There are no query params available for parsing.");if(n=function(e){e.indexOf("#")>-1&&(e=e.substr(0,e.indexOf("#")));var t=e.split("&"),n={};return t.forEach((function(e){var t=Pr(e.split("="),2),r=t[0],i=t[1];n[r]=decodeURIComponent(i)})),n.expires_in&&(n.expires_in=parseInt(n.expires_in)),n}(t.join("")),r=n.state,i=n.code,o=n.error,a=n.error_description,!(s=this.transactionManager.get()))throw new Error("Invalid state");if(this.transactionManager.remove(),o)throw new Sl(o,a,r,s.appState);if(!s.code_verifier||s.state&&s.state!==r)throw new Error("Invalid state");return u={audience:s.audience,scope:s.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:s.code_verifier,grant_type:"authorization_code",code:i,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData},void 0!==s.redirect_uri&&(u.redirect_uri=s.redirect_uri),[4,Wl(u,this.worker)];case 1:return c=f.sent(),[4,this._verifyIdToken(c.id_token,s.nonce,s.organizationId)];case 2:return l=f.sent(),[4,this.cacheManager.set(Tr(Tr(Tr(Tr({},c),{decodedToken:l,audience:s.audience,scope:s.scope}),c.scope?{oauthTokenScope:c.scope}:null),{client_id:this.options.client_id}))];case 3:return f.sent(),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays}),this._processOrgIdHint(l.claims.org_id),[2,{appState:s.appState}]}}))}))},e.prototype.checkSession=function(e){return xr(this,void 0,void 0,(function(){var t;return Nr(this,(function(n){switch(n.label){case 0:if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return[2];this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays}),this.cookieStorage.remove("auth0.is.authenticated")}n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.getTokenSilently(e)];case 2:return n.sent(),[3,4];case 3:if(t=n.sent(),!_l.includes(t.error))throw t;return[3,4];case 4:return[2]}}))}))},e.prototype.getTokenSilently=function(e){return void 0===e&&(e={}),xr(this,void 0,void 0,(function(){var t,n,r,i=this;return Nr(this,(function(o){return t=Tr(Tr({audience:this.options.audience,ignoreCache:!1},e),{scope:Hl(this.defaultScope,this.scope,e.scope)}),n=t.ignoreCache,r=Cr(t,["ignoreCache"]),[2,(a=function(){return i._getTokenSilently(Tr({ignoreCache:n},r))},s=this.options.client_id+"::"+r.audience+"::"+r.scope,u=ff[s],u||(u=a().finally((function(){delete ff[s],u=null})),ff[s]=u),u)];var a,s,u}))}))},e.prototype._getTokenSilently=function(e){return void 0===e&&(e={}),xr(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c;return Nr(this,(function(l){switch(l.label){case 0:return t=e.ignoreCache,n=Cr(e,["ignoreCache"]),t?[3,2]:[4,this._getEntryFromCache({scope:n.scope,audience:n.audience||"default",client_id:this.options.client_id,getDetailedEntry:e.detailedResponse})];case 1:if(r=l.sent())return[2,r];l.label=2;case 2:return[4,(f=function(){return df.acquireLock("auth0.lock.getTokenSilently",5e3)},h=10,void 0===h&&(h=3),xr(void 0,void 0,void 0,(function(){var e;return Nr(this,(function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<h?[4,f()]:[3,4];case 2:if(t.sent())return[2,!0];t.label=3;case 3:return e++,[3,1];case 4:return[2,!1]}}))})))];case 3:if(!l.sent())return[3,15];l.label=4;case 4:return l.trys.push([4,,12,14]),t?[3,6]:[4,this._getEntryFromCache({scope:n.scope,audience:n.audience||"default",client_id:this.options.client_id,getDetailedEntry:e.detailedResponse})];case 5:if(r=l.sent())return[2,r];l.label=6;case 6:return this.options.useRefreshTokens?[4,this._getTokenUsingRefreshToken(n)]:[3,8];case 7:return o=l.sent(),[3,10];case 8:return[4,this._getTokenFromIFrame(n)];case 9:o=l.sent(),l.label=10;case 10:return i=o,[4,this.cacheManager.set(Tr({client_id:this.options.client_id},i))];case 11:return l.sent(),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays}),e.detailedResponse?(a=i.id_token,s=i.access_token,u=i.oauthTokenScope,c=i.expires_in,[2,Tr(Tr({id_token:a,access_token:s},u?{scope:u}:null),{expires_in:c})]):[2,i.access_token];case 12:return[4,df.releaseLock("auth0.lock.getTokenSilently")];case 13:return l.sent(),[7];case 14:return[3,16];case 15:throw new Tl;case 16:return[2]}var f,h}))}))},e.prototype.getTokenWithPopup=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),xr(this,void 0,void 0,(function(){return Nr(this,(function(n){switch(n.label){case 0:return e.audience=e.audience||this.options.audience,e.scope=Hl(this.defaultScope,this.scope,e.scope),t=Tr(Tr({},wl),t),[4,this.loginWithPopup(e,t)];case 1:return n.sent(),[4,this.cacheManager.get(new Gl({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id}))];case 2:return[2,n.sent().access_token]}}))}))},e.prototype.isAuthenticated=function(){return xr(this,void 0,void 0,(function(){return Nr(this,(function(e){switch(e.label){case 0:return[4,this.getUser()];case 1:return[2,!!e.sent()]}}))}))},e.prototype.buildLogoutUrl=function(e){void 0===e&&(e={}),null!==e.client_id?e.client_id=e.client_id||this.options.client_id:delete e.client_id;var t=e.federated,n=Cr(e,["federated"]),r=t?"&federated":"";return this._url("/v2/logout?"+Ll(n))+r},e.prototype.logout=function(e){var t=this;void 0===e&&(e={});var n=e.localOnly,r=Cr(e,["localOnly"]);if(n&&r.federated)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");var i=function(){if(t.cookieStorage.remove(t.orgHintCookieName),t.cookieStorage.remove(t.isAuthenticatedCookieName),!n){var e=t.buildLogoutUrl(r);window.location.assign(e)}};if(this.options.cache)return this.cacheManager.clear().then((function(){return i()}));this.cacheManager.clearSync(),i()},e.prototype._getTokenFromIFrame=function(e){return xr(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,f,h,d,p,v,g,y;return Nr(this,(function(m){switch(m.label){case 0:return t=Dl(Rl()),n=Dl(Rl()),r=Rl(),[4,jl(r)];case 1:i=m.sent(),o=Fl(i),a=Cr(e,["detailedResponse"]),s=this._getParams(a,t,n,o,e.redirect_uri||this.options.redirect_uri||window.location.origin),(u=this.cookieStorage.get(this.orgHintCookieName))&&!s.organization&&(s.organization=u),c=this._authorizeUrl(Tr(Tr({},s),{prompt:"none",response_mode:"web_message"})),l=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,m.label=2;case 2:if(m.trys.push([2,6,,7]),window.crossOriginIsolated)throw new Il("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");return[4,(b=c,w=this.domainUrl,_=l,void 0===_&&(_=60),new Promise((function(e,t){var n=window.document.createElement("iframe");n.setAttribute("width","0"),n.setAttribute("height","0"),n.style.display="none";var r,i=function(){window.document.body.contains(n)&&(window.document.body.removeChild(n),window.removeEventListener("message",r,!1))},o=setTimeout((function(){t(new Tl),i()}),1e3*_);r=function(n){if(n.origin==w&&n.data&&"authorization_response"===n.data.type){var a=n.source;a&&a.close(),n.data.response.error?t(Il.fromPayload(n.data.response)):e(n.data.response),clearTimeout(o),window.removeEventListener("message",r,!1),setTimeout(i,2e3)}},window.addEventListener("message",r,!1),window.document.body.appendChild(n),n.setAttribute("src",b)})))];case 3:if(f=m.sent(),t!==f.state)throw new Error("Invalid state");return h=e.scope,d=e.audience,p=Cr(e,["scope","audience","redirect_uri","ignoreCache","timeoutInSeconds","detailedResponse"]),[4,Wl(Tr(Tr(Tr({},this.customOptions),p),{scope:h,audience:d,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:r,code:f.code,grant_type:"authorization_code",redirect_uri:s.redirect_uri,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData}),this.worker)];case 4:return v=m.sent(),[4,this._verifyIdToken(v.id_token,n)];case 5:return g=m.sent(),this._processOrgIdHint(g.claims.org_id),[2,Tr(Tr({},v),{decodedToken:g,scope:s.scope,oauthTokenScope:v.scope,audience:s.audience||"default"})];case 6:throw"login_required"===(y=m.sent()).error&&this.logout({localOnly:!0}),y;case 7:return[2]}var b,w,_}))}))},e.prototype._getTokenUsingRefreshToken=function(e){return xr(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c;return Nr(this,(function(l){switch(l.label){case 0:return e.scope=Hl(this.defaultScope,this.options.scope,e.scope),[4,this.cacheManager.get(new Gl({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id}))];case 1:return(t=l.sent())&&t.refresh_token||this.worker?[3,3]:[4,this._getTokenFromIFrame(e)];case 2:return[2,l.sent()];case 3:n=e.redirect_uri||this.options.redirect_uri||window.location.origin,i=e.scope,o=e.audience,a=Cr(e,["scope","audience","ignoreCache","timeoutInSeconds","detailedResponse"]),s="number"==typeof e.timeoutInSeconds?1e3*e.timeoutInSeconds:null,l.label=4;case 4:return l.trys.push([4,6,,9]),[4,Wl(Tr(Tr(Tr(Tr(Tr({},this.customOptions),a),{audience:o,scope:i,baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:n}),s&&{timeout:s}),{auth0Client:this.options.auth0Client,useFormData:this.options.useFormData}),this.worker)];case 5:return r=l.sent(),[3,9];case 6:return"The web worker is missing the refresh token"===(u=l.sent()).message||u.message&&u.message.indexOf("invalid refresh token")>-1?[4,this._getTokenFromIFrame(e)]:[3,8];case 7:return[2,l.sent()];case 8:throw u;case 9:return[4,this._verifyIdToken(r.id_token)];case 10:return c=l.sent(),[2,Tr(Tr({},r),{decodedToken:c,scope:e.scope,oauthTokenScope:r.scope,audience:e.audience||"default"})]}}))}))},e.prototype._getEntryFromCache=function(e){var t=e.scope,n=e.audience,r=e.client_id,i=e.getDetailedEntry,o=void 0!==i&&i;return xr(this,void 0,void 0,(function(){var e,i,a,s,u;return Nr(this,(function(c){switch(c.label){case 0:return[4,this.cacheManager.get(new Gl({scope:t,audience:n,client_id:r}),60)];case 1:return(e=c.sent())&&e.access_token?o?(i=e.id_token,a=e.access_token,s=e.oauthTokenScope,u=e.expires_in,[2,Tr(Tr({id_token:i,access_token:a},s?{scope:s}:null),{expires_in:u})]):[2,e.access_token]:[2]}}))}))},e}(),yf={isAuthenticated:!1,isLoading:!0},mf=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},bf=wr(wr({},yf),{buildAuthorizeUrl:mf,buildLogoutUrl:mf,getAccessTokenSilently:mf,getAccessTokenWithPopup:mf,getIdTokenClaims:mf,loginWithRedirect:mf,loginWithPopup:mf,logout:mf,handleRedirectCallback:mf}),wf=(0,e.createContext)(bf),_f=function(e){function t(t,n){var r=e.call(this,n||t)||this;return r.error=t,r.error_description=n,r}return function(e,t){function n(){this.constructor=e}br(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),Ef=/[?&]code=[^&]+/,kf=/[?&]state=[^&]+/,If=/[?&]error=[^&]+/,Sf=function(e){return function(t){return"error"in t?new _f(t.error,t.error_description):t instanceof Error?t:new Error(e)}},Tf=Sf("Login failed"),Cf=Sf("Get access token failed"),xf=function(e,t){var n,r;switch(t.type){case"LOGIN_POPUP_STARTED":return wr(wr({},e),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return wr(wr({},e),{isAuthenticated:!!t.user,user:t.user,isLoading:!1,error:void 0});case"HANDLE_REDIRECT_COMPLETE":case"GET_ACCESS_TOKEN_COMPLETE":return(null===(n=e.user)||void 0===n?void 0:n.updated_at)===(null===(r=t.user)||void 0===r?void 0:r.updated_at)?e:wr(wr({},e),{isAuthenticated:!!t.user,user:t.user});case"LOGOUT":return wr(wr({},e),{isAuthenticated:!1,user:void 0});case"ERROR":return wr(wr({},e),{isLoading:!1,error:t.error})}},Nf=function(e){if(e){var t=e.redirectUri,n=_r(e,["redirectUri"]);return wr(wr({},n),{redirect_uri:t})}},Pf=function(e){window.history.replaceState({},document.title,(null===e||void 0===e?void 0:e.returnTo)||window.location.pathname)},Of=function(t){var n=t.children,r=t.skipRedirectCallback,i=t.onRedirectCallback,o=void 0===i?Pf:i,a=_r(t,["children","skipRedirectCallback","onRedirectCallback"]),s=(0,e.useState)((function(){return new gf(function(e){var t=e.clientId,n=e.redirectUri,r=e.maxAge,i=_r(e,["clientId","redirectUri","maxAge"]);return wr(wr({},i),{client_id:t,redirect_uri:n,max_age:r,auth0Client:{name:"auth0-react",version:"1.9.0"}})}(a))}))[0],u=(0,e.useReducer)(xf,yf),c=u[0],l=u[1];(0,e.useEffect)((function(){Er(void 0,void 0,void 0,(function(){var e,t,n;return kr(this,(function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),void 0===a&&(a=window.location.search),!Ef.test(a)&&!If.test(a)||!kf.test(a)||r?[3,2]:[4,s.handleRedirectCallback()];case 1:return e=i.sent().appState,o(e),[3,4];case 2:return[4,s.checkSession()];case 3:i.sent(),i.label=4;case 4:return[4,s.getUser()];case 5:return t=i.sent(),l({type:"INITIALISED",user:t}),[3,7];case 6:return n=i.sent(),l({type:"ERROR",error:Tf(n)}),[3,7];case 7:return[2]}var a}))}))}),[s,o,r]);var f=(0,e.useCallback)((function(e){return s.buildAuthorizeUrl(Nf(e))}),[s]),h=(0,e.useCallback)((function(e){return s.buildLogoutUrl(e)}),[s]),d=(0,e.useCallback)((function(e){return s.loginWithRedirect(Nf(e))}),[s]),p=(0,e.useCallback)((function(e,t){return Er(void 0,void 0,void 0,(function(){var n,r;return kr(this,(function(i){switch(i.label){case 0:l({type:"LOGIN_POPUP_STARTED"}),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,s.loginWithPopup(e,t)];case 2:return i.sent(),[3,4];case 3:return n=i.sent(),l({type:"ERROR",error:Tf(n)}),[2];case 4:return[4,s.getUser()];case 5:return r=i.sent(),l({type:"LOGIN_POPUP_COMPLETE",user:r}),[2]}}))}))}),[s]),v=(0,e.useCallback)((function(e){void 0===e&&(e={});var t=s.logout(e);if(e.localOnly){if(t&&"function"===typeof t.then)return t.then((function(){return l({type:"LOGOUT"})}));l({type:"LOGOUT"})}return t}),[s]),g=(0,e.useCallback)((function(e){return Er(void 0,void 0,void 0,(function(){var t,n,r,i;return kr(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,3,5]),[4,s.getTokenSilently(e)];case 1:return t=o.sent(),[3,5];case 2:throw n=o.sent(),Cf(n);case 3:return r=l,i={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,s.getUser()];case 4:return r.apply(void 0,[(i.user=o.sent(),i)]),[7];case 5:return[2,t]}}))}))}),[s]),y=(0,e.useCallback)((function(e,t){return Er(void 0,void 0,void 0,(function(){var n,r,i,o;return kr(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,3,5]),[4,s.getTokenWithPopup(e,t)];case 1:return n=a.sent(),[3,5];case 2:throw r=a.sent(),Cf(r);case 3:return i=l,o={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,s.getUser()];case 4:return i.apply(void 0,[(o.user=a.sent(),o)]),[7];case 5:return[2,n]}}))}))}),[s]),m=(0,e.useCallback)((function(e){return s.getIdTokenClaims(e)}),[s]),b=(0,e.useCallback)((function(e){return Er(void 0,void 0,void 0,(function(){var t,n,r;return kr(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,5]),[4,s.handleRedirectCallback(e)];case 1:return[2,i.sent()];case 2:throw t=i.sent(),Cf(t);case 3:return n=l,r={type:"HANDLE_REDIRECT_COMPLETE"},[4,s.getUser()];case 4:return n.apply(void 0,[(r.user=i.sent(),r)]),[7];case 5:return[2]}}))}))}),[s]),w=(0,e.useMemo)((function(){return wr(wr({},c),{buildAuthorizeUrl:f,buildLogoutUrl:h,getAccessTokenSilently:g,getAccessTokenWithPopup:y,getIdTokenClaims:m,loginWithRedirect:d,loginWithPopup:p,logout:v,handleRedirectCallback:b})}),[c,f,h,g,y,m,d,p,v,b]);return e.createElement(wf.Provider,{value:w},n)},Af=function(){return(0,e.useContext)(wf)},Rf=function(){var e=Af().loginWithRedirect,t=Af().logout,n=Af(),r=(n.user,n.isAuthenticated),i=(n.isLoading,function(){e()});return(0,ne.jsx)("div",{children:r?(0,ne.jsxs)("div",{className:"d-flex flex-column flex-lg-row",children:[(0,ne.jsx)(Y,{className:"link-unstyled text-white mx-3",to:"/Dashboard",children:(0,ne.jsx)(mr,{onClick:"",className:" m-1 bg-green-button",variant:"success",children:"Moje konto"})}),(0,ne.jsx)(mr,{onClick:function(){return t({returnTo:"http://localhost:3000/"})},className:" m-1 bg-green-button",variant:"success",children:"Wyloguj"})]}):(0,ne.jsx)(mr,{onClick:i,className:" m-1 bg-green-button",variant:"success",children:"Zaloguj si\u0119"})})},Df=function(){var e=Af(),t=(e.user,e.isAuthenticated);e.isLoading;return(0,ne.jsxs)("div",{children:[(0,ne.jsx)(se,{children:(0,ne.jsx)(Y,{className:"link-unstyled",to:"/",children:(0,ne.jsx)("div",{className:"website-name display-6 py-4 text-green text-rancho",children:"AdoptujKota.pl"})})}),(0,ne.jsx)(Vn,{className:"bg-green mb-4",children:(0,ne.jsxs)(se,{className:"d-flex justify-content-between",children:[(0,ne.jsxs)(vr,{className:"d-flex flex-column flex-lg-row",children:[(0,ne.jsxs)("div",{className:"d-flex flex-column flex-lg-row",children:[(0,ne.jsx)(vr.Link,{children:(0,ne.jsx)(Y,{className:"link-unstyled text-white mx-3",to:"/",children:"Znajd\u017a kota"})}),(0,ne.jsx)(vr.Link,{children:(0,ne.jsx)(Y,{className:"link-unstyled text-white mx-3",to:"/Database",children:"Przegl\u0105daj baz\u0119"})})]}),t?(0,ne.jsxs)("div",{className:"d-flex flex-column flex-lg-row",children:[(0,ne.jsx)(vr.Link,{children:(0,ne.jsx)(Y,{className:"link-unstyled text-white mx-3",to:"/Create",children:"Stw\xf3rz og\u0142oszenie"})}),(0,ne.jsx)(vr.Link,{children:(0,ne.jsx)(Y,{className:"link-unstyled text-white mx-3",to:"/Favourite",children:"Ulubione koty"})})]}):""]}),(0,ne.jsx)(vr,{className:"",children:(0,ne.jsx)(Rf,{})})]})})]})},Lf=n(740);(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,n){if(n){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[e=e[e.length-1]]))!=o&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(Br){t.reject(Br)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=r.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(Fr){this.f(Fr)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(Br){return void this.g(Br)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(Fr){n.reject(Fr)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(gv){o(gv)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=o(e),a=r.next();!a.done;a=r.next())i(a.value).Ra(t,n)}))},t.all=function(e){var n=o(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Ra(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""}function f(){}function h(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function d(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==h(e)}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function g(e){return Object.prototype.hasOwnProperty.call(e,y)&&e[y]||(e[y]=++m)}var y="closure_uid_"+(1e9*Math.random()>>>0),m=0;function b(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _(e,t,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function E(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var k=Date.now;function I(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function S(e){return e}function T(e,t,n){this.code=N+e,this.message=t||P[e]||"",this.a=n||null}function C(e){var t=e&&e.code;return t?new T(t.substring(N.length),e.message,e.serverResponse):null}I(T,Error),T.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},T.prototype.toJSON=function(){return this.w()};var x,N="auth/",P={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function A(e){for(var t in O)if(O[t].id===e)return{firebaseEndpoint:(e=O[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function R(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(Kr){return!1}}function D(e){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function L(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");D.call(this,n+e[r])}function j(e,t){throw new L("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function M(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function F(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function U(){this.b=this.a=null}x=A("__EID__")?"__EID__":void 0,I(D,Error),D.prototype.name="CustomError",I(L,D),L.prototype.name="AssertionError",M.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var V=new M((function(){return new q}),(function(e){e.reset()}));function B(){var e=bt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function q(){this.next=this.b=this.a=null}U.prototype.add=function(e,t){var n=V.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var K=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},W=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var z=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},H=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},G=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function Y(e,t){return 0<=K(e,t)}function X(e,t){var n;return(n=0<=(t=K(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Q(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function J(e){return Array.prototype.concat.apply([],arguments)}function Z(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var $,ee=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},te=/&/g,ne=/</g,re=/>/g,ie=/"/g,oe=/'/g,ae=/\x00/g,se=/[\x00&<>"']/;function ue(e,t){return-1!=e.indexOf(t)}function ce(e,t){return e<t?-1:e>t?1:0}e:{var le=s.navigator;if(le){var fe=le.userAgent;if(fe){$=fe;break e}}$=""}function he(e){return ue($,e)}function de(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function pe(e){for(var t in e)return!1;return!0}function ve(e){var t,n={};for(t in e)n[t]=e[t];return n}var ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ge.length;o++)n=ge[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function me(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(qr){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(v(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(qr){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;j("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function be(e,t){this.a=e===ke&&t||"",this.b=Ee}function we(e){return e instanceof be&&e.constructor===be&&e.b===Ee?e.a:(j("expected object of type Const, got '"+e+"'"),"type_error:Const")}be.prototype.ta=!0,be.prototype.sa=function(){return this.a},be.prototype.toString=function(){return"Const{"+this.a+"}"};var _e,Ee={},ke={};function Ie(){if(void 0===_e){var e=null,t=s.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:S,createScript:S,createScriptURL:S})}catch(Or){s.console&&s.console.error(Or.message)}_e=e}else _e=e}return _e}function Se(e,t){this.a=t===Pe?e:""}function Te(e){return e instanceof Se&&e.constructor===Se?e.a:(j("expected object of type TrustedResourceUrl, got '"+e+"' of type "+h(e)),"type_error:TrustedResourceUrl")}function Ce(e,t){var n=we(e);if(!Ne.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(xe,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof be?we(e):encodeURIComponent(String(e))})),function(e){var t=Ie();return new Se(e=t?t.createScriptURL(e):e,Pe)}(e)}Se.prototype.ta=!0,Se.prototype.sa=function(){return this.a.toString()},Se.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var xe=/%{(\w+)}/g,Ne=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Pe={};function Oe(e,t){this.a=t===Fe?e:""}function Ae(e){return e instanceof Oe&&e.constructor===Oe?e.a:(j("expected object of type SafeUrl, got '"+e+"' of type "+h(e)),"type_error:SafeUrl")}Oe.prototype.ta=!0,Oe.prototype.sa=function(){return this.a.toString()},Oe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Re=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,De=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Le=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function je(e){if(e instanceof Oe)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),Le.test(e))e=new Oe(e,Fe);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(De);e=t&&Re.test(t[1])?new Oe(e,Fe):null}return e}function Me(e){return e instanceof Oe?e:(e="object"==typeof e&&e.ta?e.sa():String(e),Le.test(e)||(e="about:invalid#zClosurez"),new Oe(e,Fe))}var Fe={},Ue=new Oe("about:invalid#zClosurez",Fe);function Ve(e,t,n){this.a=n===Be?e:""}Ve.prototype.ta=!0,Ve.prototype.sa=function(){return this.a.toString()},Ve.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Be={};function qe(e,t,n,r){return e=e instanceof Oe?e:Me(e),t=t||s,n=n instanceof be?we(n):n||"",t.open(Ae(e),n,r,void 0)}function Ke(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function We(e){return se.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(te,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(ne,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(re,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ie,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(oe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ae,"&#0;"))),e}function ze(e){return ze[" "](e),e}ze[" "]=f;var He,Ge=he("Opera"),Ye=he("Trident")||he("MSIE"),Xe=he("Edge"),Qe=Xe||Ye,Je=he("Gecko")&&!(ue($.toLowerCase(),"webkit")&&!he("Edge"))&&!(he("Trident")||he("MSIE"))&&!he("Edge"),Ze=ue($.toLowerCase(),"webkit")&&!he("Edge");function $e(){var e=s.document;return e?e.documentMode:void 0}e:{var et="",tt=function(){var e=$;return Je?/rv:([^\);]+)(\)|;)/.exec(e):Xe?/Edge\/([\d\.]+)/.exec(e):Ye?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ze?/WebKit\/(\S+)/.exec(e):Ge?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(tt&&(et=tt?tt[1]:""),Ye){var nt=$e();if(null!=nt&&nt>parseFloat(et)){He=String(nt);break e}}He=et}var rt,it={};function ot(e){return function(e,t){var n=it;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=ee(String(He)).split("."),r=ee(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ce(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ce(0==a[2].length,0==s[2].length)||ce(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(s.document&&Ye){var at=$e();rt=at||(parseInt(He,10)||void 0)}else rt=void 0;var st=rt;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Pr){}var ut=!Ye||9<=Number(st);function ct(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function lt(e,t){de(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:dt.hasOwnProperty(n)?e.setAttribute(dt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ft,ht,dt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function pt(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||v(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}W(a?Z(o):o,r)}}}function vt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function gt(e){s.setTimeout((function(){throw e}),0)}function yt(e,t){ht||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);ht=function(){e.then(wt)}}else ht=function(){var e=wt;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!he("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ft||(ft=function(){var e=s.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!he("Presto")&&(e=function(){var e=vt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=_((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!he("Trident")&&!he("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){s.setTimeout(e,0)}}()),ft(e)):s.setImmediate(e)}}(),mt||(ht(),mt=!0),bt.add(e,t)}var mt=!1,bt=new U;function wt(){for(var e;e=B();){try{e.a.call(e.b)}catch(Kr){gt(Kr)}F(V,e)}mt=!1}function _t(e,t){if(this.a=Et,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=f)try{var n=this;e.call(t,(function(e){Lt(n,kt,e)}),(function(e){if(!(e instanceof qt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(mT){}Lt(n,It,e)}))}catch(jr){Lt(this,It,jr)}}var Et=0,kt=2,It=3;function St(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}St.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Tt=new M((function(){return new St}),(function(e){e.reset()}));function Ct(e,t,n){var r=Tt.get();return r.g=e,r.b=t,r.f=n,r}function xt(e){if(e instanceof _t)return e;var t=new _t(f);return Lt(t,kt,e),t}function Nt(e){return new _t((function(t,n){n(e)}))}function Pt(e,t,n){jt(e,t,n,null)||yt(E(t,e))}function Ot(e){return new _t((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Pt(e[o],E(i,o,!0),E(i,o,!1));else t(r)}))}function At(e,t){if(e.a==Et)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Et&&1==r?At(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ft(n),Ut(n,i,It,t)))}e.c=null}else Lt(e,It,t)}function Rt(e,t){e.b||e.a!=kt&&e.a!=It||Mt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Dt(e,t,n,r){var i=Ct(null,null,null);return i.a=new _t((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(Fr){o(Fr)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof qt?o(t):e(i)}catch(Fr){o(Fr)}}:o})),i.a.c=e,Rt(e,i),i.a}function Lt(e,t,n){e.a==Et&&(e===n&&(t=It,n=new TypeError("Promise cannot resolve to itself")),e.a=1,jt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Mt(e),t!=It||n instanceof qt||function(e,t){e.g=!0,yt((function(){e.g&&Bt.call(null,t)}))}(e,n)))}function jt(e,t,n,r){if(e instanceof _t)return Rt(e,Ct(t||f,n||null,r)),!0;if(R(e))return e.then(t,n,r),!0;if(v(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(Br){o(Br)}}(e,i,t,n,r),!0}catch(Lr){return n.call(r,Lr),!0}return!1}function Mt(e){e.h||(e.h=!0,yt(e.gc,e))}function Ft(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Ut(e,t,n,r){if(n==It&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Vt(t,n,r);else try{t.c?t.g.call(t.f):Vt(t,n,r)}catch(mT){Bt.call(null,mT)}F(Tt,t)}function Vt(e,t,n){t==kt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}_t.prototype.then=function(e,t,n){return Dt(this,p(e)?e:null,p(t)?t:null,n)},_t.prototype.$goog_Thenable=!0,(e=_t.prototype).oa=function(e,t){return(e=Ct(e,e,t)).c=!0,Rt(this,e),this},e.o=function(e,t){return Dt(this,null,e,t)},e.cancel=function(e){if(this.a==Et){var t=new qt(e);yt((function(){At(this,t)}),this)}},e.$c=function(e){this.a=Et,Lt(this,kt,e)},e.ad=function(e){this.a=Et,Lt(this,It,e)},e.gc=function(){for(var e;e=Ft(this);)Ut(this,e,this.a,this.i);this.h=!1};var Bt=gt;function qt(e){D.call(this,e)}function Kt(){0!=Wt&&(zt[g(this)]=this),this.ya=this.ya,this.pa=this.pa}I(qt,D),qt.prototype.name="cancel";var Wt=0,zt={};function Ht(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Wt)){var t=g(e);if(0!=Wt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete zt[t]}}Kt.prototype.ya=!1,Kt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Gt=Object.freeze||function(e){return e},Yt=!Ye||9<=Number(st),Xt=Ye&&!ot("9"),Qt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",f,t),s.removeEventListener("test",f,t)}catch(Or){}return e}();function Jt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Zt(e,t){if(Jt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Je){e:{try{ze(t.nodeName);var i=!0;break e}catch(Lr){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:$t[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Jt.prototype.preventDefault=function(){this.defaultPrevented=!0},I(Zt,Jt);var $t=Gt({2:"touch",3:"pen",4:"mouse"});Zt.prototype.preventDefault=function(){Zt.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Xt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(Kr){}},Zt.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),tn=0;function nn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++tn,this.wa=this.Qa=!1}function rn(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function on(e){this.src=e,this.a={},this.b=0}function an(e,t){var n=t.type;n in e.a&&X(e.a[n],t)&&(rn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function sn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}on.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=sn(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new nn(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var un="closure_lm_"+(1e6*Math.random()|0),cn={};function ln(e,t,n,r,i){if(r&&r.once)hn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)ln(e,t[o],n,r,i);else n=_n(n),e&&e[en]?kn(e,t,n,v(r)?!!r.capture:!!r,i):fn(e,t,n,!1,r,i)}function fn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=bn(e);if(s||(e[un]=s=new on(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=mn,t=Yt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Qt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(vn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function hn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)hn(e,t[o],n,r,i);else n=_n(n),e&&e[en]?In(e,t,n,v(r)?!!r.capture:!!r,i):fn(e,t,n,!0,r,i)}function dn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=_n(n),e&&e[en]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=sn(o=e.a[t],n,r,i))&&(rn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=bn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=sn(t,n,r,i)),(n=-1<e?t[e]:null)&&pn(n))}function pn(e){if("number"!==typeof e&&e&&!e.wa){var t=e.src;if(t&&t[en])an(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(vn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bn(t))?(an(n,e),0==n.b&&(n.src=null,t[un]=null)):rn(e)}}}function vn(e){return e in cn?cn[e]:cn[e]="on"+e}function gn(e,t,n,r){var i=!0;if((e=bn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=yn(o,r),i=i&&!1!==o)}return i}function yn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&pn(e),n.call(r,t)}function mn(e,t){if(e.wa)return!0;if(!Yt){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Zt(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(qr){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=gn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=gn(r[i],e,!1,t),n=n&&o}return n}return yn(e,new Zt(t,this))}function bn(e){return(e=e[un])instanceof on?e:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(e){return p(e)?e:(e[wn]||(e[wn]=function(t){return e.handleEvent(t)}),e[wn])}function En(){Kt.call(this),this.v=new on(this),this.bc=this,this.hb=null}function kn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function In(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Sn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&an(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Tn(e,t,n){if(p(e))n&&(e=_(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function Cn(e){var t=null;return new _t((function(n,r){-1==(t=Tn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw s.clearTimeout(t),e}))}function xn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"===typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Nn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(d(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Pn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Pn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function On(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];An(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)An(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function An(e,t){return Object.prototype.hasOwnProperty.call(e,t)}I(En,Kt),En.prototype[en]=!0,En.prototype.addEventListener=function(e,t,n,r){ln(this,e,t,n,r)},En.prototype.removeEventListener=function(e,t,n,r){dn(this,e,t,n,r)},En.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"===typeof e)e=new Jt(e,n);else if(e instanceof Jt)e.target=e.target||n;else{var i=e;ye(e=new Jt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Sn(a,r,!0,e)&&i}if(i=Sn(a=e.b=n,r,!0,e)&&i,i=Sn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Sn(a=e.b=t[o],r,!1,e)&&i;return i},En.prototype.Da=function(){if(En.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)rn(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=Pn.prototype).X=function(){On(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return On(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return An(this.b,e)?this.b[e]:t},e.set=function(e,t){An(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Rn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Dn?(this.i=void 0!==t?t:e.i,Ln(this,e.c),this.l=e.l,this.a=e.a,jn(this,e.g),this.f=e.f,Mn(this,nr(e.b)),this.h=e.h):e&&(n=String(e).match(Rn))?(this.i=!!t,Ln(this,n[1]||"",!0),this.l=qn(n[2]||""),this.a=qn(n[3]||"",!0),jn(this,n[4]),this.f=qn(n[5]||"",!0),Mn(this,n[6]||"",!0),this.h=qn(n[7]||"")):(this.i=!!t,this.b=new Qn(null,this.i))}function Ln(e,t,n){e.c=n?qn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function jn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Mn(e,t,n){t instanceof Qn?(e.b=t,function(e,t){t&&!e.f&&(Jn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&($n(this,t),tr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Kn(t,Yn)),e.b=new Qn(t,e.i))}function Fn(e,t,n){e.b.set(t,n)}function Un(e,t){return e.b.get(t)}function Vn(e){return e instanceof Dn?new Dn(e):new Dn(e,void 0)}function Bn(e,t,n,r){var i=new Dn(null,void 0);return e&&Ln(i,e),t&&(i.a=t),n&&jn(i,n),r&&(i.f=r),i}function qn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Wn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Dn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Kn(t,zn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Kn(t,zn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Kn(n,"/"==n.charAt(0)?Gn:Hn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Kn(n,Xn)),e.join("")},Dn.prototype.resolve=function(e){var t=new Dn(this),n=!!e.c;n?Ln(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)jn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ue(i,"./")||ue(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Mn(t,nr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var zn=/[#\/\?@]/g,Hn=/[#\?:]/g,Gn=/[#\?]/g,Yn=/[#\?@]/g,Xn=/#/g;function Qn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Jn(e){e.a||(e.a=new Pn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zn(e){var t=Nn(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Qn(null,void 0);e=xn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function $n(e,t){Jn(e),t=rr(e,t),An(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,An((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&On(e)))}function er(e,t){return Jn(e),t=rr(e,t),An(e.a.b,t)}function tr(e,t,n){$n(e,t),0<n.length&&(e.c=null,e.a.set(rr(e,t),Z(n)),e.b+=n.length)}function nr(e){var t=new Qn;return t.c=e.c,e.a&&(t.a=new Pn(e.a),t.b=e.b),t}function rr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ir(e){var t=[];return ar(new or,e,t),t.join("")}function or(){}function ar(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),ar(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),cr(r,n),n.push(":"),ar(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":cr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Qn.prototype).add=function(e,t){Jn(this),this.c=null,e=rr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Jn(this),this.a.forEach((function(n,r){W(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Jn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){Jn(this);var t=[];if("string"===typeof e)er(this,e)&&(t=J(t,this.a.get(rr(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=J(t,e[n])}return t},e.set=function(e,t){return Jn(this),this.c=null,er(this,e=rr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ur=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function cr(e,t){t.push('"',e.replace(ur,(function(e){var t=sr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),sr[e]=t),t})),'"')}function lr(){var e=Ar();return Ye&&!!st&&11==st||/Edge\/\d+/.test(e)}function fr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function hr(e,t){t=t||s.window;var n="about:blank";e&&(n=Ae(je(e)||Ue)),t.location.href=n}function dr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<dr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function pr(e){return!!((e=(e||Ar()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function vr(e){e=e||s.window;try{e.close()}catch(Kr){}}function gr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ar().toLowerCase(),r&&(t.target=r,ue(n,"crios/")&&(t.target="_blank")),Cr(Ar())==Sr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Oe?n:je("undefined"!=typeof n.href?n.href:String(n))||Ue,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((he("iPhone")&&!he("iPod")&&!he("iPad")||he("iPad")||he("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(me(a=vt(document,"A"),"HTMLAnchorElement"),t=t instanceof Oe?t:Me(t),a.href=Ae(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=qe("",r,n,a),e=Ae(t),a&&(Qe&&ue(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+We(e)+'">',e=new Ve(e=(r=Ie())?r.createHTML(e):e,null,Be),r=a.document)&&(r.write(function(e){return e instanceof Ve&&e.constructor===Ve?e.a:(j("expected object of type SafeHtml, got '"+e+"' of type "+h(e)),"type_error:SafeHtml")}(e)),r.close())):(a=qe(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(Mr){}return a}var yr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mr=/^[^@]+@[^@]+$/;function br(){var e=null;return new _t((function(t){"complete"==s.document.readyState?t():(e=function(){t()},hn(window,"load",e))})).o((function(t){throw dn(window,"load",e),t}))}function wr(e){return e=e||Ar(),!("file:"!==Wr()&&"ionic:"!==Wr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function _r(){var e=s.window;try{return!(!e||e==e.top)}catch(Kr){return!1}}function Er(){return"undefined"!==typeof s.WorkerGlobalScope&&"function"===typeof s.importScripts}function kr(){return Lf.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Lf.default.INTERNAL.hasOwnProperty("node")?"Node":Er()?"Worker":"Browser"}function Ir(){var e=kr();return"ReactNative"===e||"Node"===e}var Sr="Firefox",Tr="Chrome";function Cr(e){var t=e.toLowerCase();return ue(t,"opera/")||ue(t,"opr/")||ue(t,"opios/")?"Opera":ue(t,"iemobile")?"IEMobile":ue(t,"msie")||ue(t,"trident/")?"IE":ue(t,"edge/")?"Edge":ue(t,"firefox/")?Sr:ue(t,"silk/")?"Silk":ue(t,"blackberry")?"Blackberry":ue(t,"webos")?"Webos":!ue(t,"safari/")||ue(t,"chrome/")||ue(t,"crios/")||ue(t,"android")?!ue(t,"chrome/")&&!ue(t,"crios/")||ue(t,"edge/")?ue(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Tr:"Safari"}var xr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Nr(e,t){t=t||[];var n,r=[],i={};for(n in xr)i[xr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=kr())?r=Cr(i=Ar()):"Worker"===r&&(r=Cr(i=Ar())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Ar(){return s.navigator&&s.navigator.userAgent||""}function Rr(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Dr(){try{var e=s.localStorage,t=Xr();if(e)return e.setItem(t,"1"),e.removeItem(t),!lr()||!!s.indexedDB}catch(Or){return Er()&&!!s.indexedDB}return!1}function Ur(){return(Vr()||"chrome-extension:"===Wr()||wr())&&!Ir()&&Dr()&&!Er()}function Vr(){return"http:"===Wr()||"https:"===Wr()}function Wr(){return s.location&&s.location.protocol||null}function zr(e){return!pr(e=e||Ar())&&Cr(e)!=Sr}function Hr(e){return"undefined"===typeof e?null:ir(e)}function Gr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Yr(e){if(null!==e)return JSON.parse(e)}function Xr(e){return e||Math.floor(1e9*Math.random()).toString()}function Qr(e){return"Safari"!=Cr(e=e||Ar())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Jr(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Zr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Ar(),t=kr(),this.b=pr(e)||"ReactNative"===t}function $r(){var e=s.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function ei(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(Or){}return null}function ti(){return!(!Rr("fireauth.oauthhelper",s)&&!Rr("fireauth.iframe",s))}Zr.prototype.get=function(){var e=s.navigator;return!e||"boolean"!==typeof e.onLine||!Vr()&&"chrome-extension:"!==Wr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var ni,ri={};function ii(e){ri[e]||(ri[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var oi={};Object.defineProperty(oi,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(oi,"abcd",{configurable:!0,enumerable:!0,value:2}),ni=2==oi.abcd}catch(Pr){ni=!1}function ai(e,t,n){ni?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function si(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&ai(e,n,t[n])}function ui(e){var t={};return si(t,e),t}function ci(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)ai(t,n,ci(e[n]));return t}function li(e){var t=e&&(e[vi]?"phone":null);if(!(t&&e&&e[pi]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");ai(this,"uid",e[pi]),ai(this,"displayName",e[hi]||null);var n=null;e[di]&&(n=new Date(e[di]).toUTCString()),ai(this,"enrollmentTime",n),ai(this,"factorId",t)}function fi(e){try{var t=new gi(e)}catch(Or){t=null}return t}li.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var hi="displayName",di="enrolledAt",pi="mfaEnrollmentId",vi="phoneInfo";function gi(e){li.call(this,e),ai(this,"phoneNumber",e[vi])}function yi(e){var t={},n=e[_i],r=e[ki],i=e[Ii];if(e=fi(e[Ei]),!i||i!=bi&&i!=wi&&!n||i==wi&&!r||i==mi&&!e)throw Error("Invalid checkActionCode response!");i==wi?(t[Ti]=n||null,t[xi]=n||null,t[Si]=r):(t[Ti]=r||null,t[xi]=r||null,t[Si]=n||null),t[Ci]=e||null,ai(this,Pi,i),ai(this,Ni,ci(t))}I(gi,li),gi.prototype.w=function(){var e=gi.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var mi="REVERT_SECOND_FACTOR_ADDITION",bi="EMAIL_SIGNIN",wi="VERIFY_AND_CHANGE_EMAIL",_i="email",Ei="mfaInfo",ki="newEmail",Ii="requestType",Si="email",Ti="fromEmail",Ci="multiFactorInfo",xi="previousEmail",Ni="data",Pi="operation";function Oi(e){var t=Un(e=Vn(e),Ai)||null,n=Un(e,Ri)||null,r=Un(e,ji)||null;if(r=r&&Fi[r]||null,!t||!n||!r)throw new T("argument-error",Ai+", "+Ri+"and "+ji+" are required in a valid action code URL.");si(this,{apiKey:t,operation:r,code:n,continueUrl:Un(e,Di)||null,languageCode:Un(e,Li)||null,tenantId:Un(e,Mi)||null})}var Ai="apiKey",Ri="oobCode",Di="continueUrl",Li="languageCode",ji="mode",Mi="tenantId",Fi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:mi,signIn:bi,verifyAndChangeEmail:wi,verifyEmail:"VERIFY_EMAIL"};function Ui(e){try{return new Oi(e)}catch(Kr){return null}}function Vi(e){var t=e[zi];if("undefined"===typeof t)throw new T("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new T("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Bi];if(n&&"object"===typeof n){t=n[Yi];var r=n[Hi];if(n=n[Gi],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new T("argument-error",Hi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new T("argument-error",Gi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new T("argument-error",Yi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new T("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new T("argument-error",Bi+" property must be a non null object when specified.");if(this.f=null,(t=e[Wi])&&"object"===typeof t){if("string"===typeof(t=t[Xi])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new T("argument-error",Xi+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new T("argument-error",Wi+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[Ki])&&"boolean"!==typeof t)throw new T("argument-error",Ki+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[qi])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new T("argument-error",qi+" property must be a non empty string when specified.");this.i=e||null}var Bi="android",qi="dynamicLinkDomain",Ki="handleCodeInApp",Wi="iOS",zi="url",Hi="installApp",Gi="minimumVersion",Yi="packageName",Xi="bundleId";function Qi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Ji=null;function Zi(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Ji[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Ji){Ji={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ji[o]&&(Ji[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function $i(e){var t=to(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function eo(e){try{return new $i(e)}catch(Kr){return null}}function to(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Zi(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(Fr){}return null}$i.prototype.T=function(){return this.f},$i.prototype.l=function(){return this.c},$i.prototype.toString=function(){return this.h};var no="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),ro=["client_id","response_type","scope","redirect_uri","state"],io={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:ro},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:ro},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:ro},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:no},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function oo(e){for(var t in io)if(io[t].fa==e)return io[t];return null}function ao(e){var t={};t["facebook.com"]=fo,t["google.com"]=po,t["github.com"]=ho,t["twitter.com"]=vo;var n=e&&e[uo];try{if(n)return t[n]?new t[n](e):new lo(e);if("undefined"!==typeof e[so])return new co(e)}catch(jr){}return null}var so="idToken",uo="providerId";function co(e){var t=e[uo];if(!t&&e[so]){var n=eo(e[so]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),ai(this,"providerId",t),ai(this,"isNewUser",n)}function lo(e){co.call(this,e),ai(this,"profile",ci((e=Yr(e.rawUserInfo||"{}"))||{}))}function fo(e){if(lo.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ho(e){if(lo.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");ai(this,"username",this.profile&&this.profile.login||null)}function po(e){if(lo.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function vo(e){if(lo.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");ai(this,"username",e.screenName||null)}function go(e){var t=Vn(e),n=Un(t,"link"),r=Un(Vn(n),"link");return t=Un(t,"deep_link_id"),Un(Vn(t),"link")||t||r||n||e}function yo(e,t){if(!e&&!t)throw new T("internal-error","Internal assert: no raw session string available");if(e&&t)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?mo:bo}I(lo,co),I(fo,lo),I(ho,lo),I(po,lo),I(vo,lo);var mo="enroll",bo="signin";function wo(){}function _o(e,t){return e.then((function(e){if(e[cs]){var n=eo(e[cs]);if(!n||t!=n.i)throw new T("user-mismatch");return e}throw new T("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==N+"user-not-found"?new T("user-mismatch"):e}))}function Eo(e,t){if(!t)throw new T("internal-error","failed to construct a credential");this.a=t,ai(this,"providerId",e),ai(this,"signInMethod",e)}function ko(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function Io(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new Eo(e.providerId,e.pendingToken)}catch(Kr){}return null}function So(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&ai(this,"idToken",t.idToken),t.accessToken&&ai(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&ai(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");ai(this,"accessToken",t.oauthToken),ai(this,"secret",t.oauthTokenSecret)}ai(this,"providerId",e),ai(this,"signInMethod",n)}function To(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Zn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function Co(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new So(e.providerId,t,e.signInMethod)}catch(Or){}}return null}function xo(e,t){this.Qc=t||[],si(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(oo(e)||{}).Ja||null,this.pb=null}function No(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');xo.call(this,e,[])}function Po(e){xo.call(this,e,ro),this.a=[]}function Oo(){Po.call(this,"facebook.com")}function Ao(e){if(!e)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new Oo).credential({accessToken:t})}function Ro(){Po.call(this,"github.com")}function Do(e){if(!e)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new Ro).credential({accessToken:t})}function Lo(){Po.call(this,"google.com"),this.Ca("profile")}function jo(e,t){var n=e;return v(e)&&(n=e.idToken,t=e.accessToken),(new Lo).credential({idToken:n,accessToken:t})}function Mo(){xo.call(this,"twitter.com",no)}function Fo(e,t){var n=e;if(v(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new So("twitter.com",n,"twitter.com")}function Uo(e,t,n){this.a=e,this.f=t,ai(this,"providerId","password"),ai(this,"signInMethod",n===Bo.EMAIL_LINK_SIGN_IN_METHOD?Bo.EMAIL_LINK_SIGN_IN_METHOD:Bo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Vo(e){return e&&e.email&&e.password?new Uo(e.email,e.password,e.signInMethod):null}function Bo(){si(this,{providerId:"password",isOAuthProvider:!1})}function qo(e,t){if(!(t=Ko(t)))throw new T("argument-error","Invalid email link!");return new Uo(e,t.code,Bo.EMAIL_LINK_SIGN_IN_METHOD)}function Ko(e){return(e=Ui(e=go(e)))&&e.operation===bi?e:null}function Wo(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new T("internal-error");this.a=e,ai(this,"providerId","phone"),this.fa="phone",ai(this,"signInMethod","phone")}function zo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Wo(t)}return null}function Ho(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Go(e){try{this.a=e||Lf.default.auth()}catch(Kr){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}si(this,{providerId:"phone",isOAuthProvider:!1})}function Yo(e,t){if(!e)throw new T("missing-verification-id");if(!t)throw new T("missing-verification-code");return new Wo({fb:e,eb:t})}function Xo(e){if(e.temporaryProof&&e.phoneNumber)return new Wo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return jo(o,n);case"facebook.com":return Ao(n);case"github.com":return Do(n);case"twitter.com":return Fo(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new Eo(t,a):new So(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new Po(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(Mr){return null}}function Qo(e){if(!e.isOAuthProvider)throw new T("invalid-oauth-provider")}function Jo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Zo(e){return(e=e||{}).type?new Jo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&C(e.error),e.postBody,e.tenantId):null}function $o(){this.b=null,this.a=[]}yo.prototype.Ha=function(){return this.a?xt(this.a):xt(this.b)},yo.prototype.w=function(){return this.type==mo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},wo.prototype.ka=function(){},wo.prototype.b=function(){},wo.prototype.c=function(){},wo.prototype.w=function(){},Eo.prototype.ka=function(e){return Os(e,ko(this))},Eo.prototype.b=function(e,t){var n=ko(this);return n.idToken=t,As(e,n)},Eo.prototype.c=function(e,t){return _o(Rs(e,ko(this)),t)},Eo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},So.prototype.ka=function(e){return Os(e,To(this))},So.prototype.b=function(e,t){var n=To(this);return n.idToken=t,As(e,n)},So.prototype.c=function(e,t){return _o(Rs(e,To(this)),t)},So.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},xo.prototype.Ka=function(e){return this.Jb=ve(e),this},I(No,xo),I(Po,xo),Po.prototype.Ca=function(e){return Y(this.a,e)||this.a.push(e),this},Po.prototype.Rb=function(){return Z(this.a)},Po.prototype.credential=function(e,t){var n;if(!(n=v(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new So(this.providerId,n,this.providerId)},I(Oo,Po),ai(Oo,"PROVIDER_ID","facebook.com"),ai(Oo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(Ro,Po),ai(Ro,"PROVIDER_ID","github.com"),ai(Ro,"GITHUB_SIGN_IN_METHOD","github.com"),I(Lo,Po),ai(Lo,"PROVIDER_ID","google.com"),ai(Lo,"GOOGLE_SIGN_IN_METHOD","google.com"),I(Mo,xo),ai(Mo,"PROVIDER_ID","twitter.com"),ai(Mo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Uo.prototype.ka=function(e){return this.signInMethod==Bo.EMAIL_LINK_SIGN_IN_METHOD?pu(e,Bs,{email:this.a,oobCode:this.f}):pu(e,cu,{email:this.a,password:this.f})},Uo.prototype.b=function(e,t){return this.signInMethod==Bo.EMAIL_LINK_SIGN_IN_METHOD?pu(e,qs,{idToken:t,email:this.a,oobCode:this.f}):pu(e,tu,{idToken:t,email:this.a,password:this.f})},Uo.prototype.c=function(e,t){return _o(this.ka(e),t)},Uo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},si(Bo,{PROVIDER_ID:"password"}),si(Bo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),si(Bo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Wo.prototype.ka=function(e){return e.gb(Ho(this))},Wo.prototype.b=function(e,t){var n=Ho(this);return n.idToken=t,pu(e,fu,n)},Wo.prototype.c=function(e,t){var n=Ho(this);return n.operation="REAUTH",_o(e=pu(e,hu,n),t)},Wo.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Go.prototype.gb=function(e,t){var n=this.a.a;return xt(t.verify()).then((function(r){if("string"!==typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var i,o=v(e)?e.session:null,a=v(e)?e.phoneNumber:e;return i=o&&o.type==mo?o.Ha().then((function(e){return function(e,t){return pu(e,ru,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==bo?o.Ha().then((function(t){return function(e,t){return pu(e,iu,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return pu(e,$s,t)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}))}throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},si(Go,{PROVIDER_ID:"phone"}),si(Go,{PHONE_SIGN_IN_METHOD:"phone"}),Jo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Jo.prototype.T=function(){return this.h},Jo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var ea,ta=null;function na(e){var t="unauthorized-domain",n=void 0,r=Vn(e);e=r.a,"chrome-extension"==(r=r.c)?n=Ke("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Ke("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",T.call(this,t,n)}function ra(e,t,n){T.call(this,e,n),(e=t||{}).Kb&&ai(this,"email",e.Kb),e.ea&&ai(this,"phoneNumber",e.ea),e.credential&&ai(this,"credential",e.credential),e.$b&&ai(this,"tenantId",e.$b)}function ia(e){if(e.code){var t=e.code||"";0==t.indexOf(N)&&(t=t.substring(N.length));var n={credential:Xo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new T(t,e.message||void 0);return new ra(t,n,e.message)}return null}function oa(){}function aa(e){return e.c||(e.c=e.b())}function sa(){}function ua(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(mT){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function ca(){}function la(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.qc,this),this.a.onerror=_(this.Tb,this),this.a.onprogress=_(this.rc,this),this.a.ontimeout=_(this.vc,this)}function fa(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function ha(e,t,n){this.reset(e,t,n,void 0,void 0)}I(na,T),I(ra,T),ra.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ye(e,t),e},ra.prototype.toJSON=function(){return this.w()},oa.prototype.c=null,I(sa,oa),sa.prototype.a=function(){var e=ua(this);return e?new ActiveXObject(e):new XMLHttpRequest},sa.prototype.b=function(){var e={};return ua(this)&&(e[0]=!0,e[1]=!0),e},ea=new sa,I(ca,oa),ca.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new la;throw Error("Unsupported browser")},ca.prototype.b=function(){return{}},(e=la.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,fa(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",fa(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,fa(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ha.prototype.a=null;function da(e){this.f=e,this.b=this.c=this.a=null}function pa(e,t){this.name=e,this.value=t}ha.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||k(),delete this.a},pa.prototype.toString=function(){return this.name};var va=new pa("SEVERE",1e3),ga=new pa("WARNING",900),ya=new pa("CONFIG",700),ma=new pa("FINE",500);function ba(e){return e.c?e.c:e.a?ba(e.a):(j("Root logger has no level set."),null)}da.prototype.log=function(e,t,n){if(e.value>=ba(this).value)for(p(t)&&(t=t()),e=new ha(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var wa={},_a=null;function Ea(e){var t;if(_a||(_a=new da(""),wa[""]=_a,_a.c=ya),!(t=wa[e])){t=new da(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=Ea(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,wa[e]=t}return t}function ka(e,t){e&&e.log(ma,t,void 0)}function Ia(e){this.f=e}function Sa(e){En.call(this),this.u=e,this.h=void 0,this.readyState=Ta,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Ea("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(Ia,oa),Ia.prototype.a=function(){return new Sa(this.f)},Ia.prototype.b=function(e){return function(){return e}}({}),I(Sa,En);var Ta=0;function Ca(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function xa(e){e.readyState=4,e.g=null,e.c=null,e.m=null,Na(e)}function Na(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Pa(e){En.call(this),this.headers=new Pn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Oa,this.u=this.S=!1}(e=Sa.prototype).open=function(e,t){if(this.readyState!=Ta)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,Na(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,xa(this)),this.readyState=Ta},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,Na(this)),this.a&&(this.readyState=3,Na(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,Ca(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?xa(this):Na(this),3==this.readyState&&Ca(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,xa(this))},e.sc=function(e){this.a&&(this.response=e,xa(this))},e.Va=function(e){var t=this.i;t&&t.log(ga,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&xa(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(ga,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(ga,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Sa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),I(Pa,En);var Oa="";Pa.prototype.b=Ea("goog.net.XhrIo");var Aa=/^https?$/i,Ra=["POST","PUT"];function Da(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():ea.a(),e.C=e.D?aa(e.D):aa(ea),e.a.onreadystatechange=_(e.Wb,e);try{ka(e.b,Ka(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(qr){return ka(e.b,Ka(e,"Error opening Xhr: "+qr.message)),void ja(e,qr)}t=r||"";var o=new Pn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"===typeof e)W(e,t,void 0);else for(var n=Nn(e),r=xn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=La,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.Y()),r=s.FormData&&t instanceof s.FormData,!Y(Ra,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Va(e),0<e.g&&(e.u=function(e){return Ye&&ot(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),ka(e.b,Ka(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=_(e.Ma,e)):e.s=Tn(e.Ma,e.g,e)),ka(e.b,Ka(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(qr){ka(e.b,Ka(e,"Send error: "+qr.message)),ja(e,qr)}}function La(e){return"content-type"==e.toLowerCase()}function ja(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Ma(e),Ua(e)}function Ma(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Fa(e){if(e.c&&"undefined"!=typeof a)if(e.C[1]&&4==Ba(e)&&2==qa(e))ka(e.b,Ka(e,"Local request error detected and ignored"));else if(e.i&&4==Ba(e))Tn(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Ba(e)){ka(e.b,Ka(e,"Request complete")),e.c=!1;try{var t,n=qa(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Rn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Aa.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Ba(e)?e.a.statusText:""}catch(Br){ka(e.b,"Can not get status: "+Br.message),c=""}e.h=c+" ["+qa(e)+"]",Ma(e)}}finally{Ua(e)}}}function Ua(e,t){if(e.a){Va(e);var n=e.a,r=e.C[0]?f:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(mT){(e=e.b)&&e.log(va,"Problem encountered resetting onreadystatechange: "+mT.message,void 0)}}}function Va(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(s.clearTimeout(e.s),e.s=null)}function Ba(e){return e.a?e.a.readyState:0}function qa(e){try{return 2<Ba(e)?e.a.status:-1}catch(Kr){return-1}}function Ka(e,t){return t+" ["+e.P+" "+e.l+" "+qa(e)+"]"}function Wa(e){var t=ts;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function za(e,t,n){e.a=!0,e.c=n,e.f=!t,Xa(e)}function Ha(e){if(e.a){if(!e.v)throw new Qa(e);e.v=!1}}function Ga(e,t,n,r){e.g.push([t,n,r]),e.a&&Xa(e)}function Ya(e){return G(e.g,(function(e){return p(e[1])}))}function Xa(e){if(e.h&&e.a&&Ya(e)){var t=e.h,n=$a[t];n&&(s.clearTimeout(n.a),delete $a[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(R(t)||"function"===typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(Br){t=Br,e.f=!0,Ya(e)||(n=!0)}}e.c=t,r&&(u=_(e.m,e,!0),r=_(e.m,e,!1),t instanceof Wa?(Ga(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new Za(t),$a[t.a]=t,e.h=t.a)}function Qa(){D.call(this)}function Ja(){D.call(this)}function Za(e){this.a=s.setTimeout(_(this.c,this),0),this.b=e}(e=Pa.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ka(this.b,Ka(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ka(this.b,Ka(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ua(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ua(this,!0)),Pa.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Fa(this):this.Jc())},e.Jc=function(){Fa(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Oa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(va,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(Kr){return ka(this.b,"Can not get response: "+Kr.message),null}},Wa.prototype.cancel=function(e){if(this.a)this.c instanceof Wa&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Ja(this),Ha(this),za(this,!1,e))}},Wa.prototype.m=function(e,t){this.i=!1,za(this,e,t)},Wa.prototype.then=function(e,t,n){var r,i,o=new _t((function(e,t){r=e,i=t}));return Ga(this,r,(function(e){e instanceof Ja?o.cancel():i(e)})),o.then(e,t,n)},Wa.prototype.$goog_Thenable=!0,I(Qa,D),Qa.prototype.message="Deferred has already fired",Qa.prototype.name="AlreadyCalledError",I(Ja,D),Ja.prototype.message="Deferred was canceled",Ja.prototype.name="CanceledError",Za.prototype.c=function(){throw delete $a[this.a],this.b};var $a={};function es(e){var t={},n=t.document||document,r=Te(e).toString(),i=vt(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Wa(o),u=null,f=null!=t.timeout?t.timeout:5e3;return 0<f&&(u=window.setTimeout((function(){ns(i,!0);var e=new os(is,"Timeout reached for loading script "+r);Ha(a),za(a,!1,e)}),f),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(ns(i,t.xd||!1,u),Ha(a),za(a,!0,null))},i.onerror=function(){ns(i,!0,u);var e=new os(rs,"Error while loading script "+r);Ha(a),za(a,!1,e)},ye(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),lt(i,o),function(e,t){me(e,"HTMLScriptElement"),e.src=Te(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=s?t=l(t.document):(null===c&&(c=l(s.document)),t=c),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function ts(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&ns(e,!0,this.Ma)}}function ns(e,t,n){null!=n&&s.clearTimeout(n),e.onload=f,e.onerror=f,e.onreadystatechange=f,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var rs=0,is=1;function os(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),D.call(this,n),this.code=e}function as(e){this.f=e}function ss(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||ls,this.g=ve(e.secureTokenHeaders||fs),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||hs,this.a=ve(e.firebaseHeaders||ds),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==kr(),!(n=s.XMLHttpRequest||n&&Lf.default.INTERNAL.node&&Lf.default.INTERNAL.node.XMLHttpRequest)&&!Er())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Er()?this.f=new Ia(self):Ir()?this.f=new as(n):this.f=new ca,this.b=null}I(os,D),I(as,oa),as.prototype.a=function(){return new this.f},as.prototype.b=function(){return{}};var us,cs="idToken",ls=new Zr(3e4,6e4),fs={"Content-Type":"application/x-www-form-urlencoded"},hs=new Zr(3e4,6e4),ds={"Content-Type":"application/json"};function ps(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function vs(e,t){t&&(e.l=gs("https://securetoken.googleapis.com/v1/token",t),e.h=gs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=gs("https://identitytoolkit.googleapis.com/v2/",t))}function gs(e,t){return e=Vn(e),t=Vn(t.url),e.f=e.a+e.f,Ln(e,t.c),e.a=t.a,jn(e,t.g),e.toString()}function ys(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function ms(e,t,n,r,i,o,a){(function(){var e=Ar();return!((e=Cr(e)!=Tr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Ye||!st||9<st)})()||Er()?e=_(e.u,e):(us||(us=new _t((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{s[ws]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Ga(e,null,t,void 0)}(es(Ce(bs,{onload:ws})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=_(e.s,e)),e(t,n,r,i,o,a)}ss.prototype.T=function(){return this.b},ss.prototype.u=function(e,t,n,r,i,o){if(Er()&&("undefined"===typeof s.fetch||"undefined"===typeof s.Headers||"undefined"===typeof s.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Pa(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}kn(a,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ka(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(Fr){e=null}t&&t(e)})),In(a,"ready",(function(){u&&clearTimeout(u),Ht(this)})),In(a,"timeout",(function(){u&&clearTimeout(u),Ht(this),t&&t(null)})),Da(a,e,n,r,i)};var bs=new be(ke,"https://apis.google.com/js/client.js?onload=%{onload}"),ws="__fcb"+Math.floor(1e6*Math.random()).toString();function _s(e,t,n,r,i,o,a){var s=Vn(t+n);Fn(s,"key",e.c),a&&Fn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Fn(s,c,i[c]);return new _t((function(t,n){ms(e,s.toString(),(function(e){e?e.error?n(gu(e,o||{})):t(e):n(new T("network-request-failed"))}),r,u?void 0:ir(Gr(i)),e.a,e.v.get())}))}function Es(e){if("string"!==typeof(e=e.email)||!mr.test(e))throw new T("invalid-email")}function ks(e){"email"in e&&Es(e)}function Is(e){if(!e[cs]){if(e.mfaPendingCredential)throw new T("multi-factor-auth-required",null,ve(e));throw new T("internal-error")}}function Ss(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new T("internal-error")}else{if(!e.sessionInfo)throw new T("missing-verification-id");if(!e.code)throw new T("missing-verification-code")}}ss.prototype.s=function(e,t,n,r,i){var o=this;us.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},ss.prototype.Ab=function(){return pu(this,nu,{})},ss.prototype.Cb=function(e,t){return pu(this,eu,{idToken:e,email:t})},ss.prototype.Db=function(e,t){return pu(this,tu,{idToken:e,password:t})};var Ts={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Cs(e){if(!e.phoneVerificationInfo)throw new T("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new T("missing-verification-code")}function xs(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new T("internal-error")}function Ns(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(er(e=new Qn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Ps(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=ia(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=ia(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=ia(e)):e.errorMessage&&(t=vu(e.errorMessage)),t)throw t;Is(e)}function Os(e,t){return t.returnIdpCredential=!0,pu(e,ou,t)}function As(e,t){return t.returnIdpCredential=!0,pu(e,su,t)}function Rs(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,pu(e,au,t)}function Ds(e){if(!e.oobCode)throw new T("invalid-action-code")}(e=ss.prototype).Eb=function(e,t){var n={idToken:e},r=[];return de(Ts,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),pu(this,eu,n)},e.wb=function(e,t){return ye(e={requestType:"PASSWORD_RESET",email:e},t),pu(this,Xs,e)},e.xb=function(e,t){return ye(e={requestType:"EMAIL_SIGNIN",email:e},t),pu(this,Hs,e)},e.vb=function(e,t){return ye(e={requestType:"VERIFY_EMAIL",idToken:e},t),pu(this,Gs,e)},e.Fb=function(e,t,n){return ye(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),pu(this,Ys,e)},e.gb=function(e){return pu(this,lu,e)},e.ob=function(e,t){return pu(this,Zs,{oobCode:e,newPassword:t})},e.Sa=function(e){return pu(this,js,{oobCode:e})},e.kb=function(e){return pu(this,Ls,{oobCode:e})};var Ls={endpoint:"setAccountInfo",A:Ds,Z:"email",B:!0},js={endpoint:"resetPassword",A:Ds,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new T("internal-error")},B:!0},Ms={endpoint:"signupNewUser",A:function(e){if(Es(e),!e.password)throw new T("weak-password")},G:Is,V:!0,B:!0},Fs={endpoint:"createAuthUri",B:!0},Us={endpoint:"deleteAccount",O:["idToken"]},Vs={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new T("internal-error")}},Bs={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Es,G:Is,V:!0,B:!0},qs={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Es,G:Is,V:!0},Ks={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Cs,G:Is,B:!0,Na:!0},Ws={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Cs,G:Is,B:!0,Na:!0},zs={endpoint:"getAccountInfo"},Hs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new T("internal-error");Es(e)},Z:"email",B:!0},Gs={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new T("internal-error")},Z:"email",B:!0},Ys={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new T("internal-error")},Z:"email",B:!0},Xs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new T("internal-error");Es(e)},Z:"email",B:!0},Qs={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Js={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new T("internal-error")}},Zs={endpoint:"resetPassword",A:Ds,Z:"email",B:!0},$s={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},eu={endpoint:"setAccountInfo",O:["idToken"],A:ks,V:!0},tu={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(ks(e),!e.password)throw new T("weak-password")},G:Is,V:!0},nu={endpoint:"signupNewUser",G:Is,V:!0,B:!0},ru={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new T("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},iu={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},ou={endpoint:"verifyAssertion",A:xs,Za:Ns,G:Ps,V:!0,B:!0},au={endpoint:"verifyAssertion",A:xs,Za:Ns,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new T("user-not-found");if(e.errorMessage)throw vu(e.errorMessage);Is(e)},V:!0,B:!0},su={endpoint:"verifyAssertion",A:function(e){if(xs(e),!e.idToken)throw new T("internal-error")},Za:Ns,G:Ps,V:!0},uu={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new T("invalid-custom-token")},G:Is,V:!0,B:!0},cu={endpoint:"verifyPassword",A:function(e){if(Es(e),!e.password)throw new T("wrong-password")},G:Is,V:!0,B:!0},lu={endpoint:"verifyPhoneNumber",A:Ss,G:Is,B:!0},fu={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new T("internal-error");Ss(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",ia(e);Is(e)}},hu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Ss,G:Is,B:!0},du={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[cs]^!!e.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function pu(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.O))return Nt(new T("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return xt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),_s(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new T("internal-error");return r[t.Z]}))}function vu(e){return gu({error:{errors:[{message:e}],code:400,message:e}})}function gu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ye(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],t);return!t&&e&&(t=Hr(e)),new T("internal-error",t)}function yu(e){this.b=e,this.a=null,this.sb=function(e){return(_u||(_u=new _t((function(e,t){function n(){Jr(),Rr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Jr(),t(Error("Network Error"))},timeout:bu.get()})}if(Rr("gapi.iframes.Iframe"))e();else if(Rr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Rr("gapi.load")?n():t(Error("Network Error"))},xt(es(r=Ce(mu,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw _u=null,e})))).then((function(){return new _t((function(t,n){Rr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Rr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),wu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var mu=new be(ke,"https://apis.google.com/js/api.js?onload=%{onload}"),bu=new Zr(3e4,6e4),wu=new Zr(5e3,15e3),_u=null;function Eu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=Bn((e=Vn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=Bn("https",this.l,null,"/__/auth/iframe"),this.a=e,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function ku(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function Iu(e){try{return Lf.default.app(e).auth().Ga()}catch(Kr){return[]}}function Su(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Tu(e){var t=fr();return function(e){return pu(e,Qs,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Vn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Vn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:yr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new na(fr())}))}function Cu(e){return e.m||(e.m=br().then((function(){if(!e.u){var t=e.c,n=e.i,r=Iu(e.b),i=new Eu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=Z(r||[]),e.u=i.toString()}e.v=new yu(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Rr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Zo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",xt(n)}return n.status="ERROR",xt(n)}))}(e)}))),e.m}function xu(e){return e.l||(e.C=e.c?Nr(e.c,Iu(e.b)):null,e.l=new ss(e.g,A(e.i),e.C),e.f&&vs(e.l,e.f)),e.l}function Nu(e,t,n,r,i,o,a,s,u,c,l,f){return(e=new ku(e,t,n,r,i,f)).l=o,e.g=a,e.i=s,e.b=ve(u||null),e.f=c,e.zb(l).toString()}function Pu(e){if(this.a=e||Lf.default.INTERNAL.reactNative&&Lf.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Ou(e){this.b=e,this.a={},this.f=_(this.c,this)}Eu.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):$n(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):$n(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):$n(this.a.b,"fw"),this.a.toString()},ku.prototype.zb=function(e){return this.h=e,this},ku.prototype.toString=function(){if(this.v){var e=Vn(this.v.url);e=Bn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Bn("https",this.u,null,"/__/auth/handler");if(Fn(e,"apiKey",this.s),Fn(e,"appName",this.c),Fn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=Lf.default.app(this.c).auth().la()}catch(Mr){n=null}for(var r in t.pb=n,Fn(e,"providerId",this.a.providerId),t=Gr((n=this.a).Jb))t[r]=t[r].toString();r=n.Qc,t=ve(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),pe(t)||Fn(e,"customParameters",Hr(t))}if("function"===typeof this.a.Rb&&((n=this.a.Rb()).length&&Fn(e,"scopes",n.join(","))),this.l?Fn(e,"redirectUrl",this.l):$n(e.b,"redirectUrl"),this.g?Fn(e,"eventId",this.g):$n(e.b,"eventId"),this.i?Fn(e,"v",this.i):$n(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Un(e,a)&&Fn(e,a,this.b[a]);return this.h?Fn(e,"tid",this.h):$n(e.b,"tid"),this.f?Fn(e,"eid",this.f):$n(e.b,"eid"),(a=Iu(this.c)).length&&Fn(e,"fw",a.join(",")),e.toString()},(e=Su.prototype).Pb=function(e,t,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return Cu(e).then((function(){return function(e,t){return e.sb.then((function(){return new _t((function(n){e.a.send(t.type,t,n,Rr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&vr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new _t((function(t){return function n(){Cn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return Cn(n).then((function(){t(r)}))}))},e.Yb=function(){var e=Ar();return!zr(e)&&!Qr(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return Nt(new T("popup-blocked"));if(a&&!zr())return this.ma().o((function(t){vr(e),i(t)})),r(),xt();this.a||(this.a=Tu(xu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw vr(e),i(t),t}));return r(),t})).then((function(){(Qo(n),a)||hr(Nu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=Tu(xu(this)));var i=this;return this.a.then((function(){Qo(t),hr(Nu(i.s,i.g,i.b,e,t,fr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return Cu(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new T("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){Q(this.h,(function(t){return t==e}))},(e=Pu.prototype).get=function(e){return xt(this.a.getItem(e)).then((function(e){return e&&Yr(e)}))},e.set=function(e,t){return xt(this.a.setItem(e,Hr(t)))},e.U=function(e){return xt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var Au,Ru=[];function Du(e,t,n){pe(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Lu(e){this.a=e}function ju(e){this.c=e,this.b=!1,this.a=[]}function Mu(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Nt(Error("connection_unavailable"));var l=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new _t((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:f,onMessage:o},e.a.push(c),f.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(t){return Fu(e,c),t})).o((function(t){throw Fu(e,c),t}))}function Fu(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Q(e.a,(function(e){return e==t}))}}function Uu(){if(!Ku())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Er()&&self?(this.v=function(){var e=Er()?self:null;if(W(Ru,(function(n){n.b==e&&(t=n)})),!t){var t=new Ou(e);Ru.push(t)}return t}(),Du(this.v,"keyChanged",(function(t,n){return Yu(e).then((function(t){return 0<t.length&&W(e.a,(function(e){e(t)})),{keyProcessed:Y(t,n.key)}}))})),Du(this.v,"ping",(function(){return xt(["keyChanged"])}))):function(){var e=s.navigator;return e&&e.serviceWorker?xt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):xt(null)}().then((function(t){(e.h=t)&&(e.g=new ju(new Lu(t)),Mu(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&Y(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Vu(e){return new _t((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(Lr){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(Lr){n(Lr)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new _t((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Vu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Bu(e){return e.i||(e.i=Vu(e)),e.i}function qu(e,t){var n=0;return new _t((function r(i,o){Bu(e).then(t).then(i).o((function(t){if(!(3<++n))return Bu(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Ku(){try{return!!s.indexedDB}catch(Pr){return!1}}function Wu(e){return e.objectStore("firebaseLocalStorage")}function zu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Hu(e){return new _t((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Gu(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Mu(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):xt()}function Yu(e){return Bu(e).then((function(e){var t=Wu(zu(e,!1));return t.getAll?Hu(t.getAll()):new _t((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=dr(e.c,n),e.c=n}return r}))}function Xu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Qu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=xt().then((function(){if(Ku()){var e=Xr(),r="__sak"+e;return Au||(Au=new Uu),(n=Au).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){W(t.a,(function(t){t(e)}))})),e}))}function Ju(){this.a={},this.type="inMemory"}function Zu(){if(!function(){var e="Node"==kr();if(!(e=$u()||e&&Lf.default.INTERNAL.node&&Lf.default.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(Kr){return!1}}()){if("Node"==kr())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=$u()||Lf.default.INTERNAL.node.localStorage,this.type="localStorage"}function $u(){try{var e=s.localStorage,t=Xr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(Or){return null}}function ec(){this.type="nullStorage"}function tc(){if(!function(){var e="Node"==kr();if(!(e=nc()||e&&Lf.default.INTERNAL.node&&Lf.default.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(Kr){return!1}}()){if("Node"==kr())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=nc()||Lf.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function nc(){try{var e=s.sessionStorage,t=Xr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(Or){return null}}function rc(){var e={};e.Browser=ac,e.Node=sc,e.ReactNative=uc,e.Worker=cc,this.a=e[kr()]}Ou.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];W(r,(function(t){i.push(xt().then((function(){return t(e.origin,e.data.data)})))})),Ot(i).then((function(r){var i=[];W(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),W(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Lu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},ju.prototype.close=function(){for(;0<this.a.length;)Fu(this,this.a[0]);this.b=!0},(e=Uu.prototype).set=function(e,t){var n=this,r=!1;return qu(this,(function(t){return Hu((t=Wu(zu(t,!0))).get(e))})).then((function(i){return qu(n,(function(o){if(o=Wu(zu(o,!0)),i)return i.value=t,Hu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Hu(o.add(a))}))})).then((function(){return n.c[e]=t,Gu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return qu(this,(function(t){return Hu(Wu(zu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return qu(this,(function(r){return n=!0,t.b++,Hu(Wu(zu(r,!0)).delete(e))})).then((function(){return delete t.c[e],Gu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=Yu(e).then((function(t){0<t.length&&W(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Xu(e),t()}(this),this.a.push(e)},e.ia=function(e){Q(this.a,(function(t){return t==e})),0==this.a.length&&Xu(this)},(e=Qu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){Q(this.a,(function(t){return t==e}))},(e=Ju.prototype).get=function(e){return xt(this.a[e])},e.set=function(e,t){return this.a[e]=t,xt()},e.U=function(e){return delete this.a[e],xt()},e.ca=function(){},e.ia=function(){},(e=Zu.prototype).get=function(e){var t=this;return xt().then((function(){return Yr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return xt().then((function(){var r=Hr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return xt().then((function(){t.a.removeItem(e)}))},e.ca=function(e){s.window&&ln(s.window,"storage",e)},e.ia=function(e){s.window&&dn(s.window,"storage",e)},(e=ec.prototype).get=function(){return xt(null)},e.set=function(){return xt()},e.U=function(){return xt()},e.ca=function(){},e.ia=function(){},(e=tc.prototype).get=function(e){var t=this;return xt().then((function(){return Yr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return xt().then((function(){var r=Hr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return xt().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var ic,oc,ac={F:Zu,cb:tc},sc={F:Zu,cb:tc},uc={F:Pu,cb:ec},cc={F:Zu,cb:ec},lc={rd:"local",NONE:"none",td:"session"};function fc(){var e=!(Qr(Ar())||!_r()),t=zr(),n=Dr();this.m=e,this.h=t,this.l=n,this.a={},ic||(ic=new rc),e=ic;try{this.g=!lr()&&ti()||!s.indexedDB?new e.a.F:new Qu(Er()?new Ju:new e.a.F)}catch(jr){this.g=new Ju,this.h=!0}try{this.i=new e.a.cb}catch(jr){this.i=new Ju}this.v=new Ju,this.f=_(this.Zb,this),this.b={}}function hc(){return oc||(oc=new fc),oc}function dc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function pc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function vc(e,t,n){return n=pc(t,n),"local"==t.F&&(e.b[n]=null),dc(e,t.F).U(n)}function gc(e){e.c&&(clearInterval(e.c),e.c=null)}function yc(e){this.a=e,this.b=hc()}(e=fc.prototype).get=function(e,t){return dc(this,e.F).get(pc(e,t))},e.set=function(e,t,n){var r=pc(e,n),i=this,o=dc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=pc(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),pe(this.a)&&(dc(this,"local").ca(this.f),this.h||(lr()||!ti())&&s.indexedDB||!this.l||function(e){gc(e),e.c=setInterval((function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Zt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=pc(e,t),this.a[e]&&(Q(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),pe(this.a)&&(dc(this,"local").ia(this.f),gc(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?dc(this,"local").ia(this.f):gc(this),this.m)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.nb(t))},Ye&&st&&10==st&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else W(e,_(this.nb,this))},e.nb=function(e){this.a[e]&&W(this.a[e],(function(e){e()}))};var mc,bc={name:"authEvent",F:"local"};function wc(){this.a=hc()}function _c(e,t){this.b=Ec,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===mc&&(mc=s.Int32Array?new Int32Array(Nc):Nc),this.reset()}I(_c,(function(){this.b=-1}));for(var Ec=64,kc=Ec-1,Ic=[],Sc=0;Sc<kc;Sc++)Ic[Sc]=0;var Tc=J(128,Ic);function Cc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],f=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&f)+(0|mc[t])|0)+(0|n[t])|0)|0,o=f,f=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+h|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+f|0,e.a[7]=e.a[7]+o|0}function xc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(Cc(e),i=0);else{if(!d(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(Cc(e),i=0)}}e.c=i,e.g+=n}_c.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):Z(this.h)};var Nc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Pc(){_c.call(this,8,Oc)}I(Pc,_c);var Oc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ac(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new wc,this.g=new yc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Rc(e){return new T("invalid-cordova-configuration",e)}function Dc(e){var t=new Pc;xc(t,e),e=[];var n=8*t.g;56>t.c?xc(t,Tc,56-t.c):xc(t,Tc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(Cc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return H(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Lc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(jr){}}function jc(e){return e.f||(e.f=e.ma().then((function(){return new _t((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Mc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=go(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Yr(Un(o=Vn(i),"firebaseError")||null))?C(o):null)?new Jo(r.c,r.b,null,null,o,null,r.T()):new Jo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Lc(e,i)}))}var n=new Jo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=Cn(500).then((function(){return Mc(e).then((function(){r||Lc(e,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Rr("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(Mr){console.error(Mr)}},ta||(ta=new $o),function(e){var t=ta;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Rr("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Mc(e){var t=null;return function(e){return e.b.get(bc,e.a).then((function(e){return Zo(e)}))}(e.g).then((function(n){return t=n,vc((n=e.g).b,bc,n.a)})).then((function(){return t}))}function Fc(e){this.a=e,this.b=hc()}(e=Ac.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(wr(void 0)?br().then((function(){return new _t((function(e,t){var n=s.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Nt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Rr("universalLinks.subscribe",s))throw Rc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Rr("BuildInfo.packageName",s))throw Rc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Rr("cordova.plugins.browsertab.openUrl",s))throw Rc("cordova-plugin-browsertab is not installed");if("function"!==typeof Rr("cordova.InAppBrowser.open",s))throw Rc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},e.Pb=function(e,t){return t(new T("operation-not-supported-in-this-environment")),xt()},e.Nb=function(){return Nt(new T("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return Nt(new T("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=xt().then((function(){return Qo(t),jc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Jo(t,r,null,o,new T("no-auth-event"),null,i),u=Rr("BuildInfo.packageName",s);if("string"!==typeof u)throw new T("invalid-cordova-configuration");var c=Rr("BuildInfo.displayName",s),l={};if(Ar().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Ar().toLowerCase().match(/android/))return Nt(new T("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Dc(o),l.sessionId=o;var f=Nu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(bc,a.w(),t)})).then((function(){var t=Rr("cordova.plugins.browsertab.isAvailable",s);if("function"!==typeof t)throw new T("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=Rr("cordova.plugins.browsertab.openUrl",s)))throw new T("invalid-cordova-configuration");n(f)}else{if("function"!==typeof(n=Rr("cordova.InAppBrowser.open",s)))throw new T("invalid-cordova-configuration");t=Ar(),e.a=n(f,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new _t((function(e,t){u=function(){var t=Rr("cordova.plugins.browsertab.close",s);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=Cn(2e3).then((function(){t(new T("redirect-cancelled-by-user"))})))},l=function(){$r()&&c()},o.addEventListener("resume",c,!1),Ar().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return Mc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null}))},e.Ea=function(e){this.b.push(e),jc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Jo("unknown",null,null,null,new T("no-auth-event")),e(t))}))},e.Ta=function(e){Q(this.b,(function(t){return t==e}))};var Uc={name:"pendingRedirect",F:"session"};function Vc(e){return vc(e.b,Uc,e.a)}function Bc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new nl,this.C=new sl,this.g=new Fc(el(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=qc(this.D,this.v,this.m,x,this.J)}function qc(e,t,n,r,i){var o=Lf.default.SDK_VERSION||null;return wr()?new Ac(e,t,n,o,r,i):new Su(e,t,n,o,r,i)}function Kc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Wc(e){e.a.Yb()&&Kc(e).o((function(t){var n=new Jo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Qc(t)&&e.s(n)})),e.a.Ub()||rl(e.b)}function zc(e,t){Y(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Uc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Vc(e.g).then((function(){Kc(e).o((function(t){var n=new Jo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Qc(t)&&e.s(n)}))})):Wc(e)})).o((function(){Wc(e)}))}function Hc(e,t){Q(e.h,(function(e){return e==t}))}Bc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=qc(this.D,this.v,this.m,null,this.J),this.i={}},Bc.prototype.s=function(e){if(!e)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return rl(this.b),t};var Gc=new Zr(2e3,1e4),Yc=new Zr(3e4,6e4);function Xc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Qc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Jc(e,t,n,r,i){var o;return function(e){return e.b.set(Uc,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(Qc(t))throw new T("operation-not-supported-in-this-environment");return o=t,Vc(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new _t((function(){})):Vc(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function Zc(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),Gc.get())}Bc.prototype.ra=function(){return this.b.ra()};var $c={};function el(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function tl(e,t,n,r){var i=el(t,n,r);return $c[i]||($c[i]=new Bc(e,t,n,r)),$c[i]}function nl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function rl(e){e.g||(e.g=!0,al(e,!1,null,null))}function il(e){e.g&&!e.i&&al(e,!1,null,null)}function ol(e,t){if(e.b=function(){return xt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function al(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Nt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):ol(e,n):ol(e,{user:null}),e.f=[],e.c=[]}function sl(){}function ul(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function cl(e,t){this.a=t,ai(this,"verificationId",e)}function ll(e,t,n,r){return new Go(e).gb(t,n).then((function(e){return new cl(e,r)}))}function fl(e){var t=to(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");si(this,{token:e,expirationTime:ei(1e3*t.exp),authTime:ei(1e3*t.auth_time),issuedAtTime:ei(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function hl(e,t,n){var r=t&&t[pl];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ve(t),this.g=n,this.c=new yo(null,r),this.b=[];var i=this;W(t[dl]||[],(function(e){(e=fi(e))&&i.b.push(e)})),ai(this,"auth",this.a),ai(this,"session",this.c),ai(this,"hints",this.b)}nl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},nl.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(al(this,!0,null,e.a),xt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){al(e,s,t,null)})).o((function(t){al(e,s,null,t)}))}(this,e,t):Nt(new T("invalid-auth-event")):(al(this,!1,null,null),xt())}else Nt(new T("invalid-auth-event"))},nl.prototype.ra=function(){var e=this;return new _t((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new T("timeout");e.a&&e.a.cancel(),e.a=Cn(Yc.get()).then((function(){e.b||(e.g=!0,al(e,!0,null,t))}))}(e))}))},sl.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),xt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Nt(new T("invalid-auth-event"))}else Nt(new T("invalid-auth-event"))},cl.prototype.confirm=function(e){return e=Yo(this.verificationId,e),this.a(e)};var dl="mfaInfo",pl="mfaPendingCredential";function vl(e,t,n,r){T.call(this,"multi-factor-auth-required",r,t),this.b=new hl(e,t,n),ai(this,"resolver",this.b)}function gl(e,t,n){if(e&&v(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new vl(t,e.serverResponse,n,e.message)}catch(jr){}return null}function yl(){}function ml(e){ai(this,"factorId",e.fa),this.a=e}function bl(e){if(ml.call(this,e),this.a.fa!=Go.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function wl(e,t){for(var n in Jt.call(this,e),t)this[n]=t[n]}function _l(e,t){this.a=e,this.b=[],this.c=_(this.yc,this),ln(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&W(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[pi]=e.uid),e.displayName&&(r[hi]=e.displayName),e.enrollmentTime&&(r[di]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[vi]=e.phoneNumber);try{t=new gi(r)}catch(qr){}e=t}else e=null;e&&n.push(e)})),El(this,n)}function El(e,t){e.b=t,ai(e,"enrolledFactors",t)}function kl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Il(e,t){e.stop(),e.b=Cn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=s.document,t=null;return $r()||!e?xt():new _t((function(n){t=function(){$r()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){Il(e,!0)})).o((function(t){e.i(t)&&Il(e,!1)}))}function Sl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function Tl(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function Cl(e,t){e.b=eo(t[cs]||""),e.a=t.refreshToken,Tl(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function xl(e,t){return function(e,t){return new _t((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ms(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(gu(e)):e.access_token&&e.refresh_token?n(e):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",Zn(t).toString(),e.g,e.m.get()):r(new T("internal-error"))}))}(e.f,t).then((function(t){return e.b=eo(t.access_token),e.a=t.refresh_token,Tl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function Nl(e,t){this.a=e||null,this.b=t||null,si(this,{lastSignInTime:ei(t||null),creationTime:ei(e||null)})}function Pl(e,t,n,r,i,o){si(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Ol(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=Lf.default.SDK_VERSION?Nr(Lf.default.SDK_VERSION):null;this.a=new ss(this.l,A(x),r),(this.u=e.emulatorConfig||null)&&vs(this.a,this.u),this.h=new Sl(this.a),Vl(this,t[cs]),Cl(this.h,t),ai(this,"refreshToken",this.h.a),Kl(this,n||{}),En.call(this),this.P=!1,this.s&&Ur()&&(this.b=tl(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new kl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=_(this.ib,this);var i=this;this.za=null,this.Pa=function(e){i.xa(e.h)},this.qa=null,this.Ba=function(e){Al(i,e.c)},this.$=null,this.aa=[],this.Oa=function(e){Ll(i,e.f)},this.ja=null,this.S=new _l(this,n),ai(this,"multiFactor",this.S)}function Al(e,t){e.u=t,vs(e.a,t),e.b&&(t=e.b,e.b=tl(e.s,e.l,e.m,e.u),e.P&&(Hc(t,e),zc(e.b,e)))}function Rl(e,t){e.qa&&dn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&ln(t,"languageCodeChanged",e.Pa)}function Dl(e,t){e.$&&dn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&ln(t,"emulatorConfigChanged",e.Ba)}function Ll(e,t){e.aa=t,ys(e.a,Lf.default.SDK_VERSION?Nr(Lf.default.SDK_VERSION,e.aa):null)}function jl(e,t){e.ja&&dn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&ln(t,"frameworkChanged",e.Oa)}function Ml(e){try{return Lf.default.app(e.m).auth()}catch(Kr){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Fl(e){e.J||e.D.b||(e.D.start(),dn(e,"tokenChanged",e.ba),ln(e,"tokenChanged",e.ba))}function Ul(e){dn(e,"tokenChanged",e.ba),e.D.stop()}function Vl(e,t){e.Aa=t,ai(e,"_lat",t)}function Bl(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Ot(t).then((function(){return e}))}function ql(e){e.b&&!e.P&&(e.P=!0,zc(e.b,e))}function Kl(e,t){si(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new Nl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Wl(){}function zl(e){return xt().then((function(){if(e.J)throw new T("app-deleted")}))}function Hl(e){return H(e.providerData,(function(e){return e.providerId}))}function Gl(e,t){t&&(Yl(e,t.providerId),e.providerData.push(t))}function Yl(e,t){Q(e.providerData,(function(e){return e.providerId==t}))}function Xl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&ai(e,t,n)}function Ql(e,t){e!=t&&(si(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?ai(e,"metadata",function(e){return new Nl(e.a,e.b)}(t.metadata)):ai(e,"metadata",new Nl),W(t.providerData,(function(t){Gl(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),ai(e,"refreshToken",e.h.a),El(e.S,t.S.b))}function Jl(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return pu(e.a,zs,{idToken:t}).then(_(e.Kc,e))}(e,t).then((function(){return n||Xl(e,"isAnonymous",!1),t}))}))}function Zl(e,t){t[cs]&&e.Aa!=t[cs]&&(Cl(e.h,t),e.dispatchEvent(new wl("tokenChanged")),Vl(e,t[cs]),Xl(e,"refreshToken",e.h.a))}function $l(e,t){return Jl(e).then((function(){if(Y(Hl(e),t))return Bl(e).then((function(){throw new T("provider-already-linked")}))}))}function ef(e,t,n){return ui({user:e,credential:Xo(t),additionalUserInfo:t=ao(t),operationType:n})}function tf(e,t){return Zl(e,t),e.reload().then((function(){return e}))}function nf(e,t,n,r,i){if(!Ur())return Nt(new T("operation-not-supported-in-this-environment"));if(e.i&&!i)return Nt(e.i);var o=oo(n.providerId),a=Xr(e.uid+":::"),s=null;(!zr()||_r())&&e.s&&n.isOAuthProvider&&(s=Nu(e.s,e.l,e.m,t,n,null,a,Lf.default.SDK_VERSION||null,null,null,e.tenantId,e.u));var u=gr(s,o&&o.va,o&&o.ua);return r=r().then((function(){if(of(e),!i)return e.I().then((function(){}))})).then((function(){return Xc(e.b,u,t,n,a,!!s,e.tenantId)})).then((function(){return new _t((function(n,r){e.na(t,null,new T("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=Zc(e.b,e,t,u,a)}))})).then((function(e){return u&&vr(u),e?ui(e):null})).o((function(e){throw u&&vr(u),e})),af(e,r,i)}function rf(e,t,n,r,i){if(!Ur())return Nt(new T("operation-not-supported-in-this-environment"));if(e.i&&!i)return Nt(e.i);var o=null,a=Xr(e.uid+":::");return r=r().then((function(){if(of(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Bl(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(cf,e.w(),t.a)),t})).then((function(){return Jc(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return lf(e.ha);throw o})).then((function(){if(o)throw o})),af(e,r,i)}function of(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function af(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Nt(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new wl("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){X(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=gl(t.w(),Ml(e),_(e.jc,e))),n||t}))}function sf(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[cs]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Ol(t,n,e);return e.providerData&&W(e.providerData,(function(e){e&&Gl(i,ui(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function uf(e){this.a=e,this.b=hc()}hl.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=ve(t.f);return delete n[dl],delete n[pl],ye(n,e),t.g(n)}))},I(vl,T),yl.prototype.tb=function(e,t,n){return t.type==mo?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),ye(n,{phoneVerificationInfo:Ho(e.a)}),pu(t,Ks,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ye(n={mfaPendingCredential:n},{phoneVerificationInfo:Ho(e.a)}),pu(t,Ws,n)}))}(this,e,t)},I(ml,yl),I(bl,ml),I(wl,Jt),(e=_l.prototype).yc=function(e){El(this,function(e){var t=[];return W(e.mfaInfo||[],(function(e){(e=fi(e))&&t.push(e)})),t}(e.hd))},e.Sb=function(){return this.a.I().then((function(e){return new yo(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return Zl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return pu(r,du,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=z(t.b,(function(e){return e.uid!=n}));return El(t,r),Zl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(e){return e.w()}))}}},kl.prototype.start=function(){this.a=this.c,Il(this,!0)},kl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Sl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},Sl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Nt(new T("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?xl(this,{grant_type:"refresh_token",refresh_token:this.a}):xt(null):xt({accessToken:this.b.toString(),refreshToken:this.a})},Nl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(Ol,En),Ol.prototype.xa=function(e){this.za=e,ps(this.a,e)},Ol.prototype.la=function(){return this.za},Ol.prototype.Ga=function(){return Z(this.aa)},Ol.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},ai(Ol.prototype,"providerId","firebase"),(e=Ol.prototype).reload=function(){var e=this;return af(this,zl(this).then((function(){return Jl(e).then((function(){return Bl(e)})).then(Wl)})))},e.oc=function(e){return this.I(e).then((function(e){return new fl(e)}))},e.I=function(e){var t=this;return af(this,zl(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new T("internal-error");return e.accessToken!=t.Aa&&(Vl(t,e.accessToken),t.dispatchEvent(new wl("tokenChanged"))),Xl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new T("internal-error");Kl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?H(e,(function(e){return new Pl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Gl(this,t[n]);Xl(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new wl("userReloaded",{hd:e}))},e.Lc=function(e){return ii("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return af(this,e.c(this.a,this.uid).then((function(e){return Zl(t,e),n=ef(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return ii("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return af(this,$l(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=ef(t,e,"link"),tf(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return af(this,$l(this,"phone").then((function(){return ll(Ml(n),e,t,_(n.rb,n))})))},e.Mc=function(e,t){var n=this;return af(this,xt().then((function(){return ll(Ml(n),e,t,_(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return af(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Zl(t,e),t.reload()})))},e.ed=function(e){var t=this;return af(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Zl(t,e),t.reload()})))},e.Db=function(e){var t=this;return af(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return Zl(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return zl(this);var t=this;return af(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Zl(t,e),Xl(t,"displayName",e.displayName||null),Xl(t,"photoURL",e.photoUrl||null),W(t.providerData,(function(e){"password"===e.providerId&&(ai(e,"displayName",t.displayName),ai(e,"photoURL",t.photoURL))})),Bl(t)})).then(Wl))},e.cd=function(e){var t=this;return af(this,Jl(this).then((function(n){return Y(Hl(t),e)?function(e,t,n){return pu(e,Vs,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return W(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),W(Hl(t),(function(e){n[e]||Yl(t,e)})),n[Go.PROVIDER_ID]||ai(t,"phoneNumber",null),Bl(t)})):Bl(t).then((function(){throw new T("no-such-provider")}))})))},e.delete=function(){var e=this;return af(this,this.I().then((function(t){return pu(e.a,Us,{idToken:t})})).then((function(){e.dispatchEvent(new wl("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");Rl(e,null),Dl(e,null),jl(e,null),e.N=[],e.J=!0,Ul(e),ai(e,"refreshToken",null),e.b&&Hc(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?_(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?_(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?_(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?_(this.Mb,this):null},e.Ec=function(e){var t=this;return nf(this,"linkViaPopup",e,(function(){return $l(t,e.providerId).then((function(){return Bl(t)}))}),!1)},e.Nc=function(e){return nf(this,"reauthViaPopup",e,(function(){return xt()}),!0)},e.Fc=function(e){var t=this;return rf(this,"linkViaRedirect",e,(function(){return $l(t,e.providerId)}),!1)},e.Oc=function(e){return rf(this,"reauthViaRedirect",e,(function(){return xt()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return n=this.I().then((function(n){return As(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=ef(i,e,"link"),tf(i,e)})).then((function(){return o})),af(this,n)},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null,a=xt().then((function(){return _o(Rs(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=ef(i,e,"reauthenticate"),Zl(i,e),i.i=null,i.reload()})).then((function(){return o}));return af(this,a,!0)},e.vb=function(e){var t=this,n=null;return af(this,this.I().then((function(t){return n=t,"undefined"===typeof e||pe(e)?{}:Qi(new Vi(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return af(this,this.I().then((function(e){return r=e,"undefined"===typeof t||pe(t)?{}:Qi(new Vi(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return e=_o(xt(e),n.uid).then((function(e){return t=ef(n,e,"reauthenticate"),Zl(n,e),n.i=null,n.reload()})).then((function(){return t})),af(this,e,!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&ye(e,this.metadata.w()),W(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ye(e,this.S.w()),e};var cf={name:"redirectUser",F:"session"};function lf(e){return vc(e.b,cf,e.a)}function ff(e){this.a=e,this.b=hc(),this.c=null,this.f=function(e){var t=pf("local"),n=pf("session"),r=pf("none");return function(e,t,n){var r=pc(t,n),i=dc(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=Yr(s.localStorage.getItem(r))}catch(Mr){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(df,e.a).then((function(e){return e?pf(e):t}))}))}))})).then((function(t){return e.c=t,hf(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(pf("local"),this.a,_(this.g,this))}function hf(e,t){var n,r=[];for(n in lc)lc[n]!==t&&r.push(vc(e.b,pf(lc[n]),e.a));return r.push(vc(e.b,df,e.a)),function(e){return new _t((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)Pt(e[s],E(o,s),a);else t(i)}))}(r)}ff.prototype.g=function(){var e=this,t=pf("local");mf(this,(function(){return xt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return hf(e,"local").then((function(){e.c=t}))}))}))};var df={name:"persistence",F:"session"};function pf(e){return{name:"authUser",F:e}}function vf(e,t){return mf(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function gf(e){return mf(e,(function(){return vc(e.b,e.c,e.a)}))}function yf(e,t,n){return mf(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),sf(e||{})}))}))}function mf(e,t){return e.f=e.f.then(t,t),e.f}function bf(e){if(this.l=!1,ai(this,"settings",new ul),ai(this,"app",e),!xf(this).options||!xf(this).options.apiKey)throw new T("invalid-api-key");e=Lf.default.SDK_VERSION?Nr(Lf.default.SDK_VERSION):null,this.a=new ss(xf(this).options&&xf(this).options.apiKey,A(x),e),this.P=[],this.s=[],this.N=[],this.Pa=Lf.default.INTERNAL.createSubscribe(_(this.zc,this)),this.W=void 0,this.ib=Lf.default.INTERNAL.createSubscribe(_(this.Ac,this)),Tf(this,null),this.i=new ff(xf(this).options.apiKey+":"+xf(this).name),this.D=new uf(xf(this).options.apiKey+":"+xf(this).name),this.$=Af(this,function(e){var t=xf(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(cf,e.a).then((function(e){return e&&t&&(e.authDomain=t),sf(e||{})}))}(e.D,xf(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),lf(e.D)}));return Af(e,t)}(e).then((function(){return yf(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return vf(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:gf(e.i)}))):null})).then((function(t){Tf(e,t||null)}));return Af(e,n)}(this)),this.h=Af(this,function(e){return e.$.then((function(){return If(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(pf("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=_(this.Zc,this),this.Ba=_(this.da,this),this.qa=_(this.mc,this),this.za=_(this.wc,this),this.Aa=_(this.xc,this),this.b=null,function(e){var t=xf(e).options.authDomain,n=xf(e).options.apiKey;t&&Ur()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=tl(t,n,xf(e).name,e.R),zc(e.b,e),Nf(e)&&ql(Nf(e)),e.m){ql(e.m);var r=e.m;r.xa(e.la()),Rl(r,e),Ll(r=e.m,e.J),jl(r,e),Al(r=e.m,e.R),Dl(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Gc,this),this.u=0,En.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=Vn(this.R.url);e=ui({protocol:e.c,host:e.a,port:e.g,options:ui({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function wf(e){Jt.call(this,"languageCodeChanged"),this.h=e}function _f(e){Jt.call(this,"emulatorConfigChanged"),this.c=e}function Ef(e){Jt.call(this,"frameworkChanged"),this.f=e}function kf(e){return e.Oa||Nt(new T("auth-domain-config-required"))}function If(e){if(!Ur())return Nt(new T("operation-not-supported-in-this-environment"));var t=kf(e).then((function(){return e.b.ra()})).then((function(e){return e?ui(e):null}));return Af(e,t)}function Sf(e,t){var n={};return n.apiKey=xf(e).options.apiKey,n.authDomain=xf(e).options.authDomain,n.appName=xf(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var i=new Ol(e,t);return n&&(i.ha=n),r&&Ll(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return Nf(e)&&t.uid==Nf(e).uid?(Ql(Nf(e),t),e.da(t)):(Tf(e,t),ql(t),e.da(t))})).then((function(){Of(e)}))}function Tf(e,t){Nf(e)&&(function(e,t){Q(e.W,(function(e){return e==t}))}(Nf(e),e.Ba),dn(Nf(e),"tokenChanged",e.qa),dn(Nf(e),"userDeleted",e.za),dn(Nf(e),"userInvalidated",e.Aa),Ul(Nf(e))),t&&(t.W.push(e.Ba),ln(t,"tokenChanged",e.qa),ln(t,"userDeleted",e.za),ln(t,"userInvalidated",e.Aa),0<e.u&&Fl(t)),ai(e,"currentUser",t),t&&(t.xa(e.la()),Rl(t,e),Ll(t,e.J),jl(t,e),Al(t,e.R),Dl(t,e))}function Cf(e,t){var n=null,r=null;return Af(e,t.then((function(t){return n=Xo(t),r=ao(t),Sf(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=gl(t.w(),e,_(e.kc,e))),n||t})).then((function(){return ui({user:Nf(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function xf(e){return e.app}function Nf(e){return e.currentUser}function Pf(e){return Nf(e)&&Nf(e)._lat||null}function Of(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](Pf(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](Pf(e))}}function Af(e,t){return e.P.push(t),t.oa((function(){X(e.P,t)})),t}function Rf(){}function Df(){this.a={},this.b=1e12}ff.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");e:{for(r in lc)if(lc[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(kr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Ku()&&"none"!==e)throw n;break;default:if(!Dr()&&"none"!==e)throw n}}(e),mf(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,hf(n,e)})).then((function(){if(n.c=pf(e),t)return n.b.set(n.c,t,n.a)})):xt()}))},I(bf,En),I(wf,Jt),I(_f,Jt),I(Ef,Jt),(e=bf.prototype).yb=function(e){return Af(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,ps(this.a,this.aa),this.dispatchEvent(new wf(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=s.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!e&&br().then((function(){var e=s.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),s.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,vs(this.a,this.R),this.dispatchEvent(new _f(this.R))}},e.Gc=function(e){this.J.push(e),ys(this.a,Lf.default.SDK_VERSION?Nr(Lf.default.SDK_VERSION,this.J):null),this.dispatchEvent(new Ef(this.J))},e.Ga=function(){return Z(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:xf(this).options.apiKey,authDomain:xf(this).options.authDomain,appName:xf(this).name,currentUser:Nf(this)&&Nf(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?_(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return Cf(i,Os(i.a,o))}))},e.Xc=function(e){if(!Ur())return Nt(new T("operation-not-supported-in-this-environment"));var t=this,n=oo(e.providerId),r=Xr(),i=null;(!zr()||_r())&&xf(this).options.authDomain&&e.isOAuthProvider&&(i=Nu(xf(this).options.authDomain,xf(this).options.apiKey,xf(this).name,"signInViaPopup",e,null,r,Lf.default.SDK_VERSION||null,null,null,this.T(),this.R));var o=gr(i,n&&n.va,n&&n.ua);return n=kf(this).then((function(n){return Xc(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new _t((function(e,n){t.na("signInViaPopup",null,new T("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=Zc(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&vr(o),e?ui(e):null})).o((function(e){throw o&&vr(o),e})),Af(this,n)},e.Yc=function(e){if(!Ur())return Nt(new T("operation-not-supported-in-this-environment"));var t=this,n=kf(this).then((function(){return function(e){return mf(e,(function(){return e.b.set(df,e.c.F,e.a)}))}(t.i)})).then((function(){return Jc(t.b,"signInViaRedirect",e,void 0,t.T())}));return Af(this,n)},e.ra=function(){var e=this;return If(this).then((function(t){return e.b&&il(e.b.b),t})).o((function(t){throw e.b&&il(e.b.b),t}))},e.dd=function(e){if(!e)return Nt(new T("null-user"));if(this.S!=e.tenantId)return Nt(new T("tenant-id-mismatch"));var t=this,n={};n.apiKey=xf(this).options.apiKey,n.authDomain=xf(this).options.authDomain,n.appName=xf(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[cs]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new Ol(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&Ll(t,r),Ql(t,e),t}(e,n,t.D,t.Ga());return Af(this,this.h.then((function(){if(xf(t).options.apiKey!=e.l)return r.reload()})).then((function(){return Nf(t)&&e.uid==Nf(t).uid?(Ql(Nf(t),e),t.da(e)):(Tf(t,r),ql(r),t.da(r))})).then((function(){Of(t)})))},e.Bb=function(){var e=this;return Af(this,this.h.then((function(){return e.b&&il(e.b.b),Nf(e)?(Tf(e,null),gf(e.i).then((function(){Of(e)}))):xt()})))},e.Zc=function(){var e=this;return yf(this.i,xf(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=Nf(e)&&t){n=Nf(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Ql(Nf(e),t),Nf(e).I();(Nf(e)||t)&&(Tf(e,t),t&&(ql(t),t.ha=e.D),e.b&&zc(e.b,e),Of(e))}}))},e.da=function(e){return vf(this.i,e)},e.mc=function(){Of(this),this.da(Nf(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return Cf(t,xt(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(Nf(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),Af(e,e.h.then((function(){!e.l&&Y(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Pf(e)))})))}(this,(function(){e.next(Nf(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(Nf(r)):"function"===typeof e.next&&e.next(Nf(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof e?e(Nf(r)):"function"===typeof e.next&&e.next(Nf(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this,n=this.h.then((function(){return Nf(t)?Nf(t).I(e).then((function(e){return{accessToken:e}})):null}));return Af(this,n)},e.Tc=function(e){var t=this;return this.h.then((function(){return Cf(t,pu(t.a,uu,{token:e}))})).then((function(e){var n=e.user;return Xl(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return Cf(n,pu(n.a,cu,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return Cf(n,pu(n.a,Ms,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return Cf(t,e.ka(t.a))}))},e.Sc=function(e){return ii("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=Nf(e);if(t&&t.isAnonymous){var n=ui({providerId:null,isNewUser:!1});return ui({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Cf(e,e.a.Ab()).then((function(t){var n=t.user;return Xl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return Nf(this)&&Nf(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&Nf(this)&&Fl(Nf(this))},e.Pc=function(e){var t=this;W(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&Nf(this)&&Ul(Nf(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),Af(this,this.h.then((function(){t.l||Y(t.s,e)&&e(Pf(t))})))},e.removeAuthTokenListener=function(e){Q(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(pf("local"),e.a,this.ja),this.b&&(Hc(this.b,this),il(this.b.b)),Promise.resolve()},e.hc=function(e){return Af(this,function(e,t){return pu(e,Fs,{identifier:t,continueUri:Vr()?fr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Ko(e)},e.xb=function(e,t){var n=this;return Af(this,xt().then((function(){var e=new Vi(t);if(!e.c)throw new T("argument-error",Ki+" must be true when sending sign in link to email");return Qi(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return Af(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return Af(this,this.a.Sa(e).then((function(e){return new yi(e)})))},e.kb=function(e){return Af(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return Af(this,xt().then((function(){return"undefined"===typeof t||pe(t)?{}:Qi(new Vi(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return Af(this,ll(this,e,t,_(this.ab,this)))},e.Vc=function(e,t){var n=this;return Af(this,xt().then((function(){var r=t||fr(),i=qo(e,r);if(!(r=Ko(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.ab(i)})))},Rf.prototype.render=function(){},Rf.prototype.reset=function(){},Rf.prototype.getResponse=function(){},Rf.prototype.execute=function(){};var jf=null;function Mf(e,t){return(t=Ff(t))&&e.a[t]||null}function Ff(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Uf(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ct(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function Vf(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Bf(){}function qf(){}Df.prototype.render=function(e,t){return this.a[this.b.toString()]=new Uf(e,t),this.b++},Df.prototype.reset=function(e){var t=Mf(this,e);e=Ff(e),t&&e&&(t.delete(),delete this.a[e])},Df.prototype.getResponse=function(e){return(e=Mf(this,e))?e.getResponse():null},Df.prototype.execute=function(e){(e=Mf(this,e))&&e.execute()},Uf.prototype.getResponse=function(){return Vf(this),this.b},Uf.prototype.execute=function(){Vf(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(jr){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(jr){}e.h&&e.execute()}),6e4)}),500))},Uf.prototype.delete=function(){Vf(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},ai(Bf,"FACTOR_ID","phone"),qf.prototype.g=function(){return jf||(jf=new Df),xt(jf)},qf.prototype.c=function(){};var Kf=null;function Wf(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var zf=new be(ke,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Hf=new Zr(3e4,6e4);Wf.prototype.g=function(e){var t=this;return new _t((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),Hf.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete s[t.a]},xt(es(Ce(zf,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Wf.prototype.c=function(){this.b--};var Gf=null;function Yf(e,t,n,r,i,o,a){if(ai(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(Kf||(Kf=new qf),a=Kf):(Gf||(Gf=new Wf),a=Gf),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Jf])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Zf],!s.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ct(t)||!this.i&&ct(t).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ss(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Xf];this.a[Xf]=function(e){if($f(u,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=Rr(c,s);"function"===typeof t&&t(e)}};var l=this.a[Qf];this.a[Qf]=function(){if($f(u,null),"function"===typeof l)l();else if("string"===typeof l){var e=Rr(l,s);"function"===typeof e&&e()}}}var Xf="callback",Qf="expired-callback",Jf="sitekey",Zf="size";function $f(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(jr){}}function eh(e,t){return e.h.push(t),t.oa((function(){X(e.h,t)})),t}function th(e){if(e.J)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function nh(e,t,n){var r=!1;try{this.b=n||Lf.default.app()}catch(qr){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(qr){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(qr){}o=Lf.default.SDK_VERSION?Nr(Lf.default.SDK_VERSION,o):null,Yf.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(Mr){e=null}return e}),o,A(x),r)}function rh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=ih.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=ih[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new T("argument-error",e+" failed: "+r)}(e=Yf.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=eh(this,xt().then((function(){if(Vr()&&!Er())return br();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,pu(e.s,Js,{})})).then((function(t){e.a[Jf]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){th(this);var e=this;return eh(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=ct(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ut&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',We(a.name),'"'),a.type){o.push(' type="',We(a.type),'"');var s={};ye(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=vt(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):lt(o,a)),2<r.length&&pt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){th(this);var e=this;return eh(this,this.render().then((function(t){return new _t((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){Q(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){th(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){th(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ct(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},I(nh,Yf);var ih="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function oh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function ah(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function sh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:v}}function uh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function ch(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function lh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function fh(e,t){return v(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function hh(e){return v(e)&&"string"===typeof e.uid}function dh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function ph(e,t){for(var n in t){var r=t[n].name;e[r]=yh(r,e[n],t[n].j)}}function vh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:E((function(e){return this[e]}),n),set:E((function(e,t,n,r){rh(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function gh(e,t,n,r){e[t]=yh(t,n,r)}function yh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return rh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}ph(bf.prototype,{kb:{name:"applyActionCode",j:[oh("code")]},Sa:{name:"checkActionCode",j:[oh("code")]},ob:{name:"confirmPasswordReset",j:[oh("code"),oh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[oh("email"),oh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[oh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[oh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[dh(sh(),uh(),"nextOrObserver"),uh("opt_error",!0),uh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[dh(sh(),uh(),"nextOrObserver"),uh("opt_error",!0),uh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[oh("email"),dh(sh("opt_actionCodeSettings",!0),ch(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[oh("email"),sh("actionCodeSettings")]},yb:{name:"setPersistence",j:[oh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[lh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[lh()]},Tc:{name:"signInWithCustomToken",j:[oh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[oh("email"),oh("password")]},Vc:{name:"signInWithEmailLink",j:[oh("email"),oh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[oh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[dh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof Ol)}},ch(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[oh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[oh("url"),sh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[oh("code")]}}),vh(bf.prototype,{lc:{name:"languageCode",lb:dh(oh(),ch(),"languageCode")},ti:{name:"tenantId",lb:dh(oh(),ch(),"tenantId")}}),bf.Persistence=lc,bf.Persistence.LOCAL="local",bf.Persistence.SESSION="session",bf.Persistence.NONE="none",ph(Ol.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[ah("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[ah("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[lh()]},rb:{name:"linkWithCredential",j:[lh()]},Dc:{name:"linkWithPhoneNumber",j:[oh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[lh()]},ub:{name:"reauthenticateWithCredential",j:[lh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[oh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[dh(sh("opt_actionCodeSettings",!0),ch(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[oh(null,!0)]},cd:{name:"unlink",j:[oh("provider")]},Cb:{name:"updateEmail",j:[oh("email")]},Db:{name:"updatePassword",j:[oh("password")]},ed:{name:"updatePhoneNumber",j:[lh("phone")]},Eb:{name:"updateProfile",j:[sh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[oh("email"),dh(sh("opt_actionCodeSettings",!0),ch(null,!0),"opt_actionCodeSettings",!0)]}}),ph(Df.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ph(Rf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ph(_t.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),vh(ul.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:ah("appVerificationDisabledForTesting")}}),ph(cl.prototype,{confirm:{name:"confirm",j:[oh("verificationCode")]}}),gh(wo,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[Co,Vo,zo,Io],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[dh(oh(),sh(),"json")]),gh(Bo,"credential",(function(e,t){return new Uo(e,t)}),[oh("email"),oh("password")]),ph(Uo.prototype,{w:{name:"toJSON",j:[oh(null,!0)]}}),ph(Oo.prototype,{Ca:{name:"addScope",j:[oh("scope")]},Ka:{name:"setCustomParameters",j:[sh("customOAuthParameters")]}}),gh(Oo,"credential",Ao,[dh(oh(),sh(),"token")]),gh(Bo,"credentialWithLink",qo,[oh("email"),oh("emailLink")]),ph(Ro.prototype,{Ca:{name:"addScope",j:[oh("scope")]},Ka:{name:"setCustomParameters",j:[sh("customOAuthParameters")]}}),gh(Ro,"credential",Do,[dh(oh(),sh(),"token")]),ph(Lo.prototype,{Ca:{name:"addScope",j:[oh("scope")]},Ka:{name:"setCustomParameters",j:[sh("customOAuthParameters")]}}),gh(Lo,"credential",jo,[dh(oh(),dh(sh(),ch()),"idToken"),dh(oh(),ch(),"accessToken",!0)]),ph(Mo.prototype,{Ka:{name:"setCustomParameters",j:[sh("customOAuthParameters")]}}),gh(Mo,"credential",Fo,[dh(oh(),sh(),"token"),oh("secret",!0)]),ph(Po.prototype,{Ca:{name:"addScope",j:[oh("scope")]},credential:{name:"credential",j:[dh(oh(),dh(sh(),ch()),"optionsOrIdToken"),dh(oh(),ch(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[sh("customOAuthParameters")]}}),ph(So.prototype,{w:{name:"toJSON",j:[oh(null,!0)]}}),ph(Eo.prototype,{w:{name:"toJSON",j:[oh(null,!0)]}}),gh(Go,"credential",Yo,[oh("verificationId"),oh("verificationCode")]),ph(Go.prototype,{gb:{name:"verifyPhoneNumber",j:[dh(oh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?fh(e.session,mo)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?fh(e.session,bo)&&hh(e.multiFactorHint):e.session&&e.multiFactorUid?fh(e.session,bo)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),ph(Wo.prototype,{w:{name:"toJSON",j:[oh(null,!0)]}}),ph(T.prototype,{toJSON:{name:"toJSON",j:[oh(null,!0)]}}),ph(ra.prototype,{toJSON:{name:"toJSON",j:[oh(null,!0)]}}),ph(na.prototype,{toJSON:{name:"toJSON",j:[oh(null,!0)]}}),ph(vl.prototype,{toJSON:{name:"toJSON",j:[oh(null,!0)]}}),ph(hl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),ph(_l.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},oh("displayName",!0)]},bd:{name:"unenroll",j:[dh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:hh},oh(),"multiFactorInfoIdentifier")]}}),ph(nh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),gh(Oi,"parseLink",Ui,[oh("link")]),gh(Bf,"assertion",(function(e){return new bl(e)}),[lh("phone")]),function(){if("undefined"===typeof Lf.default||!Lf.default.INTERNAL||!Lf.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:bi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:mi,VERIFY_AND_CHANGE_EMAIL:wi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:bf,AuthCredential:wo,Error:T};gh(e,"EmailAuthProvider",Bo,[]),gh(e,"FacebookAuthProvider",Oo,[]),gh(e,"GithubAuthProvider",Ro,[]),gh(e,"GoogleAuthProvider",Lo,[]),gh(e,"TwitterAuthProvider",Mo,[]),gh(e,"OAuthProvider",Po,[oh("providerId")]),gh(e,"SAMLAuthProvider",No,[oh("providerId")]),gh(e,"PhoneAuthProvider",Go,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof bf)}}]),gh(e,"RecaptchaVerifier",nh,[dh(oh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),sh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof Lf.default.app.App)}}]),gh(e,"ActionCodeURL",Oi,[]),gh(e,"PhoneMultiFactorGenerator",Bf,[]),Lf.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new bf(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),Lf.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:_((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:_(e.nc,e),addAuthTokenListener:_(e.cc,e),removeAuthTokenListener:_(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Lf.default.registerVersion("@firebase/auth","0.16.8"),Lf.default.INTERNAL.extendNamespace({User:Ol})}()}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});n(172);var jf=function(e,t){return jf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},jf(e,t)};function Mf(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}jf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Ff(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(mT){o(mT)}}function s(e){try{u(r.throw(e))}catch(mT){o(mT)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Uf(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(mT){o=[6,mT],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function Vf(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var Bf=n(293),qf=n(386),Kf=function(e,t){return Kf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Kf(e,t)};function Wf(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var zf,Hf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Gf=Gf||{},Yf=Hf||self;function Xf(){}function Qf(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Jf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Zf="closure_uid_"+(1e9*Math.random()>>>0),$f=0;function eh(e,t,n){return e.call.apply(e.bind,arguments)}function th(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function nh(e,t,n){return(nh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?eh:th).apply(null,arguments)}function rh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ih(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function oh(){this.s=this.s,this.o=this.o}var ah={};oh.prototype.s=!1,oh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Zf)&&e[Zf]||(e[Zf]=++$f)}(this);delete ah[e]}},oh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var sh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},uh=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function ch(e){return Array.prototype.concat.apply([],arguments)}function lh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function fh(e){return/^[\s\xa0]*$/.test(e)}var hh,dh=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ph(e,t){return-1!=e.indexOf(t)}function vh(e,t){return e<t?-1:e>t?1:0}e:{var gh=Yf.navigator;if(gh){var yh=gh.userAgent;if(yh){hh=yh;break e}}hh=""}function mh(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function bh(e){var t={};for(var n in e)t[n]=e[n];return t}var wh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _h(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<wh.length;o++)n=wh[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Eh(e){return Eh[" "](e),e}Eh[" "]=Xf;var kh,Ih=ph(hh,"Opera"),Sh=ph(hh,"Trident")||ph(hh,"MSIE"),Th=ph(hh,"Edge"),Ch=Th||Sh,xh=ph(hh,"Gecko")&&!(ph(hh.toLowerCase(),"webkit")&&!ph(hh,"Edge"))&&!(ph(hh,"Trident")||ph(hh,"MSIE"))&&!ph(hh,"Edge"),Nh=ph(hh.toLowerCase(),"webkit")&&!ph(hh,"Edge");function Ph(){var e=Yf.document;return e?e.documentMode:void 0}e:{var Oh="",Ah=function(){var e=hh;return xh?/rv:([^\);]+)(\)|;)/.exec(e):Th?/Edge\/([\d\.]+)/.exec(e):Sh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Nh?/WebKit\/(\S+)/.exec(e):Ih?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ah&&(Oh=Ah?Ah[1]:""),Sh){var Rh=Ph();if(null!=Rh&&Rh>parseFloat(Oh)){kh=String(Rh);break e}}kh=Oh}var Dh,Lh={};function jh(){return function(e){var t=Lh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=dh(String(kh)).split("."),n=dh("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=vh(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||vh(0==o[2].length,0==a[2].length)||vh(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(Yf.document&&Sh){var Mh=Ph();Dh=Mh||(parseInt(kh,10)||void 0)}else Dh=void 0;var Fh=Dh,Uh=function(){if(!Yf.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Yf.addEventListener("test",Xf,t),Yf.removeEventListener("test",Xf,t)}catch(Or){}return e}();function Vh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Bh(e,t){if(Vh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(xh){e:{try{Eh(t.nodeName);var i=!0;break e}catch(Lr){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:qh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Bh.Z.h.call(this)}}Vh.prototype.h=function(){this.defaultPrevented=!0},ih(Bh,Vh);var qh={2:"touch",3:"pen",4:"mouse"};Bh.prototype.h=function(){Bh.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Kh="closure_listenable_"+(1e6*Math.random()|0),Wh=0;function zh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Wh,this.ca=this.fa=!1}function Hh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Gh(e){this.src=e,this.g={},this.h=0}function Yh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=sh(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Hh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Xh(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}Gh.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Xh(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new zh(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Qh="closure_lm_"+(1e6*Math.random()|0),Jh={};function Zh(e,t,n,r,i){if(r&&r.once)return ed(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Zh(e,t[o],n,r,i);return null}return n=sd(n),e&&e[Kh]?e.N(t,n,Jf(r)?!!r.capture:!!r,i):$h(e,t,n,!1,r,i)}function $h(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Jf(i)?!!i.capture:!!i,s=od(e);if(s||(e[Qh]=s=new Gh(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=id;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Uh||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(rd(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ed(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ed(e,t[o],n,r,i);return null}return n=sd(n),e&&e[Kh]?e.O(t,n,Jf(r)?!!r.capture:!!r,i):$h(e,t,n,!0,r,i)}function td(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)td(e,t[o],n,r,i);else r=Jf(r)?!!r.capture:!!r,n=sd(n),e&&e[Kh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Xh(o=e.g[t],n,r,i))&&(Hh(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=od(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Xh(t,n,r,i)),(n=-1<e?t[e]:null)&&nd(n))}function nd(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Kh])Yh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(rd(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=od(t))?(Yh(n,e),0==n.h&&(n.src=null,t[Qh]=null)):Hh(e)}}}function rd(e){return e in Jh?Jh[e]:Jh[e]="on"+e}function id(e,t){if(e.ca)e=!0;else{t=new Bh(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&nd(e),e=n.call(r,t)}return e}function od(e){return(e=e[Qh])instanceof Gh?e:null}var ad="__closure_events_fn_"+(1e9*Math.random()>>>0);function sd(e){return"function"===typeof e?e:(e[ad]||(e[ad]=function(t){return e.handleEvent(t)}),e[ad])}function ud(){oh.call(this),this.i=new Gh(this),this.P=this,this.I=null}function cd(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Vh(t,e);else if(t instanceof Vh)t.target=t.target||e;else{var i=t;_h(t=new Vh(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=ld(a,r,!0,t)&&i}if(i=ld(a=t.g=e,r,!0,t)&&i,i=ld(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ld(a=t.g=n[o],r,!1,t)&&i}function ld(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&Yh(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}ih(ud,oh),ud.prototype[Kh]=!0,ud.prototype.removeEventListener=function(e,t,n,r){td(this,e,t,n,r)},ud.prototype.M=function(){if(ud.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Hh(n[r]);delete t.g[e],t.h--}}this.I=null},ud.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ud.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var fd=Yf.JSON.stringify;function hd(){var e=wd,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var dd,pd=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=vd.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),vd=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new gd}),(function(e){return e.reset()})),gd=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function yd(e){Yf.setTimeout((function(){throw e}),0)}function md(e,t){dd||function(){var e=Yf.Promise.resolve(void 0);dd=function(){e.then(_d)}}(),bd||(dd(),bd=!0),wd.add(e,t)}var bd=!1,wd=new pd;function _d(){for(var e;e=hd();){try{e.h.call(e.g)}catch(Or){yd(Or)}var t=vd;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}bd=!1}function Ed(e,t){ud.call(this),this.h=e||1,this.g=t||Yf,this.j=nh(this.kb,this),this.l=Date.now()}function kd(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Id(e,t,n){if("function"===typeof e)n&&(e=nh(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=nh(e.handleEvent,e)}return 2147483647<Number(t)?-1:Yf.setTimeout(e,t||0)}function Sd(e){e.g=Id((function(){e.g=null,e.i&&(e.i=!1,Sd(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ih(Ed,ud),(zf=Ed.prototype).da=!1,zf.S=null,zf.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),cd(this,"tick"),this.da&&(kd(this),this.start()))}},zf.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},zf.M=function(){Ed.Z.M.call(this),kd(this),delete this.g};var Td=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Kf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Sd(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Yf.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(oh);function Cd(e){oh.call(this),this.h=e,this.g={}}ih(Cd,oh);var xd=[];function Nd(e,t,n,r){Array.isArray(n)||(n&&(xd[0]=n.toString()),n=xd);for(var i=0;i<n.length;i++){var o=Zh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Pd(e){mh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&nd(e)}),e),e.g={}}function Od(){this.g=!0}function Ad(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return fd(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Cd.prototype.M=function(){Cd.Z.M.call(this),Pd(this)},Cd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Od.prototype.Aa=function(){this.g=!1},Od.prototype.info=function(){};var Rd={},Dd=null;function Ld(){return Dd=Dd||new ud}function jd(e){Vh.call(this,Rd.Ma,e)}function Md(e){var t=Ld();cd(t,new jd(t,e))}function Fd(e,t){Vh.call(this,Rd.STAT_EVENT,e),this.stat=t}function Ud(e){var t=Ld();cd(t,new Fd(t,e))}function Vd(e,t){Vh.call(this,Rd.Na,e),this.size=t}function Bd(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Yf.setTimeout((function(){e()}),t)}Rd.Ma="serverreachability",ih(jd,Vh),Rd.STAT_EVENT="statevent",ih(Fd,Vh),Rd.Na="timingevent",ih(Vd,Vh);var qd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Kd={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Wd(){}function zd(e){return e.h||(e.h=e.i())}function Hd(){}Wd.prototype.h=null;var Gd,Yd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Xd(){Vh.call(this,"d")}function Qd(){Vh.call(this,"c")}function Jd(){}function Zd(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Cd(this),this.P=ep,e=Ch?125:void 0,this.W=new Ed(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $d}function $d(){this.i=null,this.g="",this.h=!1}ih(Xd,Vh),ih(Qd,Vh),ih(Jd,Wd),Jd.prototype.g=function(){return new XMLHttpRequest},Jd.prototype.i=function(){return{}},Gd=new Jd;var ep=45e3,tp={},np={};function rp(e,t,n){e.K=1,e.v=Tp(wp(t)),e.s=n,e.U=!0,ip(e,null)}function ip(e,t){e.F=Date.now(),up(e),e.A=wp(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Up(n.h,"t",r),e.C=0,n=e.l.H,e.h=new $d,e.g=Vv(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Td(nh(e.Ia,e,e.g),e.O)),Nd(e.V,e.g,"readystatechange",e.gb),t=e.H?bh(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Md(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function op(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function ap(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=sp(e,n))==np){4==t&&(e.o=4,Ud(14),i=!1),Ad(e.j,e.m,null,"[Incomplete Response]");break}if(r==tp){e.o=4,Ud(15),Ad(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ad(e.j,e.m,r,null),dp(e,r)}op(e)&&r!=np&&r!=tp&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ud(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Av(t),t.L=!0,Ud(11))):(Ad(e.j,e.m,n,"[Invalid Chunked Response]"),hp(e),fp(e))}function sp(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?np:(n=Number(t.substring(n,r)),isNaN(n)?tp:(r+=1)+n>t.length?np:(t=t.substr(r,n),e.C=r+n,t))}function up(e){e.Y=Date.now()+e.P,cp(e,e.P)}function cp(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Bd(nh(e.eb,e),t)}function lp(e){e.B&&(Yf.clearTimeout(e.B),e.B=null)}function fp(e){0==e.l.G||e.I||Lv(e.l,e)}function hp(e){lp(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,kd(e.W),Pd(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function dp(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Hp(n.i,e)))if(n.I=e.N,!e.J&&Hp(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Dv(n),kv(n)}Ov(n),Ud(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Bd(nh(n.ab,n),6e3));if(1>=zp(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Mv(n,11)}else if((e.J||n.g==e)&&Dv(n),!fh(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(ph(l,"spdy")||ph(l,"quic")||ph(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Gp(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Sp(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Uv(r,r.H?r.la:null,r.W),d.J){Yp(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(lp(p),up(p)),r.g=d}else Pv(r);0<n.l.length&&Tv(n)}else"stop"!=o[0]&&"close"!=o[0]||Mv(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Mv(n,7):Ev(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Md(4)}catch(o){}}function pp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Qf(e)||"string"===typeof e)uh(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Qf(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Qf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function vp(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof vp)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function gp(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];yp(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)yp(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function yp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(zf=Zd.prototype).setTimeout=function(e){this.P=e},zf.gb=function(e){e=e.target;var t=this.L;t&&3==yv(e)?t.l():this.Ia(e)},zf.Ia=function(e){try{if(e==this.g)e:{var t=yv(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Ch||this.g&&(this.h.h||this.g.ga()||mv(this.g)))){this.I||4!=t||7==n||Md(8==n||0>=r?3:2),lp(this);var i=this.g.ba();this.N=i;t:if(op(this)){var o=mv(this.g);e="";var a=o.length,s=4==yv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){hp(this),fp(this);var u="";break t}this.h.i=new Yf.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fh(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Ud(12),hp(this),fp(this);break e}Ad(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,dp(this,i)}this.U?(ap(this,t,u),Ch&&this.i&&3==t&&(Nd(this.V,this.W,"tick",this.fb),this.W.start())):(Ad(this.j,this.m,u,null),dp(this,u)),4==t&&hp(this),this.i&&!this.I&&(4==t?Lv(this.l,this):(this.i=!1,up(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Ud(12)):(this.o=0,Ud(13)),hp(this),fp(this)}}}catch(t){}},zf.fb=function(){if(this.g){var e=yv(this.g),t=this.g.ga();this.C<t.length&&(lp(this),ap(this,e,t),this.i&&4!=e&&up(this))}},zf.cancel=function(){this.I=!0,hp(this)},zf.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Md(3),Ud(17)),hp(this),this.o=2,fp(this)):cp(this,this.Y-e)},(zf=vp.prototype).R=function(){gp(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},zf.T=function(){return gp(this),this.g.concat()},zf.get=function(e,t){return yp(this.h,e)?this.h[e]:t},zf.set=function(e,t){yp(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},zf.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var mp=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bp(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof bp){this.g=void 0!==t?t:e.g,_p(this,e.j),this.s=e.s,Ep(this,e.i),kp(this,e.m),this.l=e.l,t=e.h;var n=new Lp;n.i=t.i,t.g&&(n.g=new vp(t.g),n.h=t.h),Ip(this,n),this.o=e.o}else e&&(n=String(e).match(mp))?(this.g=!!t,_p(this,n[1]||"",!0),this.s=Cp(n[2]||""),Ep(this,n[3]||"",!0),kp(this,n[4]),this.l=Cp(n[5]||"",!0),Ip(this,n[6]||"",!0),this.o=Cp(n[7]||"")):(this.g=!!t,this.h=new Lp(null,this.g))}function wp(e){return new bp(e)}function _p(e,t,n){e.j=n?Cp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ep(e,t,n){e.i=n?Cp(t,!0):t}function kp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ip(e,t,n){t instanceof Lp?(e.h=t,function(e,t){t&&!e.j&&(jp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Mp(this,t),Up(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=xp(t,Rp)),e.h=new Lp(t,e.g))}function Sp(e,t,n){e.h.set(t,n)}function Tp(e){return Sp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Cp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Np),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Np(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}bp.prototype.toString=function(){var e=[],t=this.j;t&&e.push(xp(t,Pp,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(xp(t,Pp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(xp(n,"/"==n.charAt(0)?Ap:Op,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",xp(n,Dp)),e.join("")};var Pp=/[#\/\?@]/g,Op=/[#\?:]/g,Ap=/[#\?]/g,Rp=/[#\?@]/g,Dp=/#/g;function Lp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function jp(e){e.g||(e.g=new vp,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Mp(e,t){jp(e),t=Vp(e,t),yp(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,yp((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&gp(e)))}function Fp(e,t){return jp(e),t=Vp(e,t),yp(e.g.h,t)}function Up(e,t,n){Mp(e,t),0<n.length&&(e.i=null,e.g.set(Vp(e,t),lh(n)),e.h+=n.length)}function Vp(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(zf=Lp.prototype).add=function(e,t){jp(this),this.i=null,e=Vp(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},zf.forEach=function(e,t){jp(this),this.g.forEach((function(n,r){uh(n,(function(n){e.call(t,n,r,this)}),this)}),this)},zf.T=function(){jp(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},zf.R=function(e){jp(this);var t=[];if("string"===typeof e)Fp(this,e)&&(t=ch(t,this.g.get(Vp(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=ch(t,e[n])}return t},zf.set=function(e,t){return jp(this),this.i=null,Fp(this,e=Vp(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},zf.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},zf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var Bp=function(e,t){this.h=e,this.g=t};function qp(e){this.l=e||Kp,Yf.PerformanceNavigationTiming?e=0<(e=Yf.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Yf.g&&Yf.g.Ea&&Yf.g.Ea()&&Yf.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Kp=10;function Wp(e){return!!e.h||!!e.g&&e.g.size>=e.j}function zp(e){return e.h?1:e.g?e.g.size:0}function Hp(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Gp(e,t){e.g?e.g.add(t):e.h=t}function Yp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Xp(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=Wf(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return lh(e.i)}function Qp(){}function Jp(){this.g=new Qp}function Zp(e,t,n){var r=n||"";try{pp(e,(function(e,n){var i=e;Jf(e)&&(i=fd(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(mT){throw t.push(r+"type="+encodeURIComponent("_badmap")),mT}}function $p(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(Lr){}}function ev(e){this.l=e.$b||null,this.j=e.ib||!1}function tv(e,t){ud.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=nv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qp.prototype.cancel=function(){var e,t;if(this.i=Xp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Wf(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Qp.prototype.stringify=function(e){return Yf.JSON.stringify(e,void 0)},Qp.prototype.parse=function(e){return Yf.JSON.parse(e,void 0)},ih(ev,Wd),ev.prototype.g=function(){return new tv(this.l,this.j)},ev.prototype.i=function(e){return function(){return e}}({}),ih(tv,ud);var nv=0;function rv(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function iv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ov(e)}function ov(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(zf=tv.prototype).open=function(e,t){if(this.readyState!=nv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ov(this)},zf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Yf).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},zf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,iv(this)),this.readyState=nv},zf.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ov(this)),this.g&&(this.readyState=3,ov(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Yf.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rv(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},zf.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?iv(this):ov(this),3==this.readyState&&rv(this)}},zf.Ua=function(e){this.g&&(this.response=this.responseText=e,iv(this))},zf.Ta=function(e){this.g&&(this.response=e,iv(this))},zf.ha=function(){this.g&&iv(this)},zf.setRequestHeader=function(e,t){this.v.append(e,t)},zf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},zf.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(tv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var av=Yf.JSON.parse;function sv(e){ud.call(this),this.headers=new vp,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=uv,this.K=this.L=!1}ih(sv,ud);var uv="",cv=/^https?$/i,lv=["POST","PUT"];function fv(e){return"content-type"==e.toLowerCase()}function hv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,dv(e),vv(e)}function dv(e){e.D||(e.D=!0,cd(e,"complete"),cd(e,"error"))}function pv(e){if(e.h&&"undefined"!=typeof Gf&&(!e.C[1]||4!=yv(e)||2!=e.ba()))if(e.v&&4==yv(e))Id(e.Fa,0,e);else if(cd(e,"readystatechange"),4==yv(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(mp)[1]||null;if(!o&&Yf.self&&Yf.self.location){var a=Yf.self.location.protocol;o=a.substr(0,a.length-1)}i=!cv.test(o?o.toLowerCase():"")}t=i}if(t)cd(e,"complete"),cd(e,"success");else{e.m=6;try{var s=2<yv(e)?e.g.statusText:""}catch(Rr){s=""}e.j=s+" ["+e.ba()+"]",dv(e)}}finally{vv(e)}}}function vv(e,t){if(e.g){gv(e);var n=e.g,r=e.C[0]?Xf:null;e.g=null,e.C=null,t||cd(e,"ready");try{n.onreadystatechange=r}catch(mT){}}}function gv(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Yf.clearTimeout(e.A),e.A=null)}function yv(e){return e.g?e.g.readyState:0}function mv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case uv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Kr){return null}}function bv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return mh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Sp(e,t,n))}function wv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function _v(e){this.za=0,this.l=[],this.h=new Od,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=wv("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=wv("baseRetryDelayMs",5e3,e),this.$a=wv("retryDelaySeedMs",1e4,e),this.Ya=wv("forwardChannelMaxRetries",2,e),this.ra=wv("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new qp(e&&e.concurrentRequestLimit),this.Ca=new Jp,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ev(e){if(Iv(e),3==e.G){var t=e.V++,n=wp(e.F);Sp(n,"SID",e.J),Sp(n,"RID",t),Sp(n,"TYPE","terminate"),xv(e,n),(t=new Zd(e,e.h,t,void 0)).K=2,t.v=Tp(wp(n)),n=!1,Yf.navigator&&Yf.navigator.sendBeacon&&(n=Yf.navigator.sendBeacon(t.v.toString(),"")),!n&&Yf.Image&&((new Image).src=t.v,n=!0),n||(t.g=Vv(t.l,null),t.g.ea(t.v)),t.F=Date.now(),up(t)}Fv(e)}function kv(e){e.g&&(Av(e),e.g.cancel(),e.g=null)}function Iv(e){kv(e),e.u&&(Yf.clearTimeout(e.u),e.u=null),Dv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Yf.clearTimeout(e.m),e.m=null)}function Sv(e,t){e.l.push(new Bp(e.Za++,t)),3==e.G&&Tv(e)}function Tv(e){Wp(e.i)||e.m||(e.m=!0,md(e.Ha,e),e.C=0)}function Cv(e,t){var n;n=t?t.m:e.V++;var r=wp(e.F);Sp(r,"SID",e.J),Sp(r,"RID",n),Sp(r,"AID",e.U),xv(e,r),e.o&&e.s&&bv(r,e.o,e.s),n=new Zd(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Nv(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Gp(e.i,n),rp(n,r,t)}function xv(e,t){e.j&&pp({},(function(e,n){Sp(t,n,e)}))}function Nv(e,t,n){n=Math.min(e.l.length,n);var r=e.j?nh(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{Zp(l,a,"req"+c+"_")}catch(mi){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Pv(e){e.g||e.u||(e.Y=1,md(e.Ga,e),e.A=0)}function Ov(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Bd(nh(e.Ga,e),jv(e,e.A)),e.A++,!0)}function Av(e){null!=e.B&&(Yf.clearTimeout(e.B),e.B=null)}function Rv(e){e.g=new Zd(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=wp(e.oa);Sp(t,"RID","rpc"),Sp(t,"SID",e.J),Sp(t,"CI",e.N?"0":"1"),Sp(t,"AID",e.U),xv(e,t),Sp(t,"TYPE","xmlhttp"),e.o&&e.s&&bv(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Tp(wp(t)),n.s=null,n.U=!0,ip(n,e)}function Dv(e){null!=e.v&&(Yf.clearTimeout(e.v),e.v=null)}function Lv(e,t){var n=null;if(e.g==t){Dv(e),Av(e),e.g=null;var r=2}else{if(!Hp(e.i,t))return;n=t.D,Yp(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;cd(r=Ld(),new Vd(r,n,t,i)),Tv(e)}else Pv(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(zp(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Bd(nh(e.Ha,e,t),jv(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ov(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Mv(e,5);break;case 4:Mv(e,10);break;case 3:Mv(e,6);break;default:Mv(e,2)}}function jv(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Mv(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=nh(e.jb,e);n||(n=new bp("//www.google.com/images/cleardot.gif"),Yf.location&&"http"==Yf.location.protocol||_p(n,"https"),Tp(n)),function(e,t){var n=new Od;if(Yf.Image){var r=new Image;r.onload=rh($p,n,r,"TestLoadImage: loaded",!0,t),r.onerror=rh($p,n,r,"TestLoadImage: error",!1,t),r.onabort=rh($p,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=rh($p,n,r,"TestLoadImage: timeout",!1,t),Yf.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ud(2);e.G=0,e.j&&e.j.va(t),Fv(e),Iv(e)}function Fv(e){e.G=0,e.I=-1,e.j&&(0==Xp(e.i).length&&0==e.l.length||(e.i.i.length=0,lh(e.l),e.l.length=0),e.j.ua())}function Uv(e,t,n){var r=function(e){return e instanceof bp?wp(e):new bp(e,void 0)}(n);if(""!=r.i)t&&Ep(r,t+"."+r.i),kp(r,r.m);else{var i=Yf.location;r=function(e,t,n,r){var i=new bp(null,void 0);return e&&_p(i,e),t&&Ep(i,t),n&&kp(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&mh(e.aa,(function(e,t){Sp(r,t,e)})),t=e.D,n=e.sa,t&&n&&Sp(r,t,n),Sp(r,"VER",e.ma),xv(e,r),r}function Vv(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new sv(new ev({ib:!0})):new sv(e.qa)).L=e.H,t}function Bv(){}function qv(){if(Sh&&!(10<=Number(Fh)))throw Error("Environmental error: no available transport.")}function Kv(e,t){ud.call(this),this.g=new _v(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!fh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!fh(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Hv(this)}function Wv(e){Xd.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function zv(){Qd.call(this),this.status=1}function Hv(e){this.g=e}(zf=sv.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Gd.g(),this.C=this.u?zd(this.u):zd(Gd),this.g.onreadystatechange=nh(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(Lr){return void hv(this,Lr)}e=n||"";var i=new vp(this.headers);r&&pp(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=fv,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Yf.FormData&&e instanceof Yf.FormData,!(0<=sh(lv,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gv(this),0<this.B&&((this.K=function(e){return Sh&&jh()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nh(this.pa,this)):this.A=Id(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(Lr){hv(this,Lr)}},zf.pa=function(){"undefined"!=typeof Gf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cd(this,"timeout"),this.abort(8))},zf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,cd(this,"complete"),cd(this,"abort"),vv(this))},zf.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vv(this,!0)),sv.Z.M.call(this)},zf.Fa=function(){this.s||(this.F||this.v||this.l?pv(this):this.cb())},zf.cb=function(){pv(this)},zf.ba=function(){try{return 2<yv(this)?this.g.status:-1}catch(Pr){return-1}},zf.ga=function(){try{return this.g?this.g.responseText:""}catch(Pr){return""}},zf.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),av(t)}},zf.Da=function(){return this.m},zf.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(zf=_v.prototype).ma=8,zf.G=1,zf.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(Kr){}},zf.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Zd(this,this.h,e,void 0),n=this.s;if(this.P&&(n?_h(n=bh(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Nv(this,t,r),Sp(i=wp(this.F),"RID",e),Sp(i,"CVER",22),this.D&&Sp(i,"X-HTTP-Session-Id",this.D),xv(this,i),this.o&&n&&bv(i,this.o,n),Gp(this.i,t),this.Ra&&Sp(i,"TYPE","init"),this.ja?(Sp(i,"$req",r),Sp(i,"SID","null"),t.$=!0,rp(t,i,null)):rp(t,i,r),this.G=2}}else 3==this.G&&(e?Cv(this,e):0==this.l.length||Wp(this.i)||Cv(this))},zf.Ga=function(){if(this.u=null,Rv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Bd(nh(this.bb,this),e)}},zf.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ud(10),kv(this),Rv(this))},zf.ab=function(){null!=this.v&&(this.v=null,kv(this),Ov(this),Ud(19))},zf.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ud(2)):(this.h.info("Failed to ping google.com"),Ud(1))},(zf=Bv.prototype).xa=function(){},zf.wa=function(){},zf.va=function(){},zf.ua=function(){},zf.Oa=function(){},qv.prototype.g=function(e,t){return new Kv(e,t)},ih(Kv,ud),Kv.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),md(nh(e.hb,e,t))),Ud(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Uv(e,null,e.W),Tv(e)},Kv.prototype.close=function(){Ev(this.g)},Kv.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Sv(this.g,t)}else this.v?((t={}).__data__=fd(e),Sv(this.g,t)):Sv(this.g,e)},Kv.prototype.M=function(){this.g.j=null,delete this.j,Ev(this.g),delete this.g,Kv.Z.M.call(this)},ih(Wv,Xd),ih(zv,Qd),ih(Hv,Bv),Hv.prototype.xa=function(){cd(this.g,"a")},Hv.prototype.wa=function(e){cd(this.g,new Wv(e))},Hv.prototype.va=function(e){cd(this.g,new zv(e))},Hv.prototype.ua=function(){cd(this.g,"b")},qv.prototype.createWebChannel=qv.prototype.g,Kv.prototype.send=Kv.prototype.u,Kv.prototype.open=Kv.prototype.m,Kv.prototype.close=Kv.prototype.close,qd.NO_ERROR=0,qd.TIMEOUT=8,qd.HTTP_ERROR=6,Kd.COMPLETE="complete",Hd.EventType=Yd,Yd.OPEN="a",Yd.CLOSE="b",Yd.ERROR="c",Yd.MESSAGE="d",ud.prototype.listen=ud.prototype.N,sv.prototype.listenOnce=sv.prototype.O,sv.prototype.getLastError=sv.prototype.La,sv.prototype.getLastErrorCode=sv.prototype.Da,sv.prototype.getStatus=sv.prototype.ba,sv.prototype.getResponseJson=sv.prototype.Qa,sv.prototype.getResponseText=sv.prototype.ga,sv.prototype.send=sv.prototype.ea;var Gv=function(){return new qv},Yv=function(){return Ld()},Xv=qd,Qv=Kd,Jv=Rd,Zv={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},$v=ev,eg=Hd,tg=sv,ng=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();ng.o=-1;var rg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ig=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Mf(t,e),t}(Error),og=new qf.Logger("@firebase/firestore");function ag(){return og.logLevel}function sg(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(og.logLevel<=qf.LogLevel.DEBUG){var r=t.map(lg);og.debug.apply(og,Vf(["Firestore (8.10.0): "+e],r))}}function ug(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(og.logLevel<=qf.LogLevel.ERROR){var r=t.map(lg);og.error.apply(og,Vf(["Firestore (8.10.0): "+e],r))}}function cg(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(og.logLevel<=qf.LogLevel.WARN){var r=t.map(lg);og.warn.apply(og,Vf(["Firestore (8.10.0): "+e],r))}}function lg(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function fg(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+e;throw ug(t),new Error(t)}function hg(e,t){e||fg()}function dg(e,t){return e}function pg(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var vg=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=pg(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function gg(e,t){return e<t?-1:e>t?1:0}function yg(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function mg(e){return e+"\0"}var bg=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ig(rg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ig(rg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ig(rg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ig(rg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?gg(this.nanoseconds,e.nanoseconds):gg(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),wg=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new bg(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function _g(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Eg(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function kg(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Ig=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&fg(),void 0===n?n=e.length-t:n>e.length-t&&fg(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Sg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mf(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new ig(rg.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Ig),Tg=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Cg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mf(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Tg.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new ig(rg.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new ig(rg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ig(rg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new ig(rg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Ig),xg=function(){function e(e){this.fields=e,e.sort(Cg.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return yg(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Ng=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return gg(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();Ng.EMPTY_BYTE_STRING=new Ng("");var Pg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Og(e){if(hg(!!e),"string"==typeof e){var t=0,n=Pg.exec(e);if(hg(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ag(e.seconds),nanos:Ag(e.nanos)}}function Ag(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Rg(e){return"string"==typeof e?Ng.fromBase64String(e):Ng.fromUint8Array(e)}function Dg(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Lg(e){var t=e.mapValue.fields.__previous_value__;return Dg(t)?Lg(t):t}function jg(e){var t=Og(e.mapValue.fields.__local_write_time__.timestampValue);return new bg(t.seconds,t.nanos)}function Mg(e){return null==e}function Fg(e){return 0===e&&1/e==-1/0}function Ug(e){return"number"==typeof e&&Number.isInteger(e)&&!Fg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Vg=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Sg.fromString(t))},e.fromName=function(t){return new e(Sg.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Sg.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Sg.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Sg(t.slice()))},e}();function Bg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Dg(e)?4:10:fg()}function qg(e,t){var n=Bg(e);if(n!==Bg(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return jg(e).isEqual(jg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Og(e.timestampValue),r=Og(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Rg(e.bytesValue).isEqual(Rg(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ag(e.geoPointValue.latitude)===Ag(t.geoPointValue.latitude)&&Ag(e.geoPointValue.longitude)===Ag(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ag(e.integerValue)===Ag(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ag(e.doubleValue),r=Ag(t.doubleValue);return n===r?Fg(n)===Fg(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return yg(e.arrayValue.values||[],t.arrayValue.values||[],qg);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(_g(n)!==_g(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!qg(n[i],r[i])))return!1;return!0}(e,t);default:return fg()}}function Kg(e,t){return void 0!==(e.values||[]).find((function(e){return qg(e,t)}))}function Wg(e,t){var n=Bg(e),r=Bg(t);if(n!==r)return gg(n,r);switch(n){case 0:return 0;case 1:return gg(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ag(e.integerValue||e.doubleValue),r=Ag(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return zg(e.timestampValue,t.timestampValue);case 4:return zg(jg(e),jg(t));case 5:return gg(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Rg(e),r=Rg(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=gg(n[i],r[i]);if(0!==o)return o}return gg(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=gg(Ag(e.latitude),Ag(t.latitude));return 0!==n?n:gg(Ag(e.longitude),Ag(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Wg(n[i],r[i]);if(o)return o}return gg(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=gg(r[a],o[a]);if(0!==s)return s;var u=Wg(n[r[a]],i[o[a]]);if(0!==u)return u}return gg(r.length,o.length)}(e.mapValue,t.mapValue);default:throw fg()}}function zg(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return gg(e,t);var n=Og(e),r=Og(t),i=gg(n.seconds,r.seconds);return 0!==i?i:gg(n.nanos,r.nanos)}function Hg(e){return Gg(e)}function Gg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Og(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Rg(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Vg.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=Gg(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+Gg(e.fields[o])}return t+"}"}(e.mapValue):fg();var t,n}function Yg(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Xg(e){return!!e&&"integerValue"in e}function Qg(e){return!!e&&"arrayValue"in e}function Jg(e){return!!e&&"nullValue"in e}function Zg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $g(e){return!!e&&"mapValue"in e}function ey(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Eg(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=ey(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ey(e.arrayValue.values[r]);return n}return Object.assign({},e)}var ty=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!$g(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ey(t)},e.prototype.setAll=function(e){var t=this,n=Cg.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=ey(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());$g(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return qg(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];$g(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){Eg(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(ey(this.value))},e}();function ny(e){var t=[];return Eg(e.fields,(function(e,n){var r=new Cg([e]);if($g(n)){var i=ny(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new xg(t)}var ry=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,wg.min(),ty.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,ty.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,ty.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=ty.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=ty.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),iy=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function oy(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new iy(e,t,n,r,i,o,a)}function ay(e){var t=dg(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Hg(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Mg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=by(t.startAt)),t.endAt&&(n+="|ub:",n+=by(t.endAt)),t.h=n}return t.h}function sy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!_y(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!qg(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ky(e.startAt,t.startAt)&&ky(e.endAt,t.endAt)}function uy(e){return Vg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var cy=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return Mf(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new ly(e,n,r):"array-contains"===n?new py(e,r):"in"===n?new vy(e,r):"not-in"===n?new gy(e,r):"array-contains-any"===n?new yy(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new fy(e,n):new hy(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(Wg(t,this.value)):null!==t&&Bg(this.value)===Bg(t)&&this.m(Wg(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fg()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),ly=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Vg.fromName(r.referenceValue),i}return Mf(t,e),t.prototype.matches=function(e){var t=Vg.comparator(e.key,this.key);return this.m(t)},t}(cy),fy=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=dy("in",n),r}return Mf(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(cy),hy=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=dy("not-in",n),r}return Mf(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(cy);function dy(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Vg.fromName(e.referenceValue)}))}var py=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Mf(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Qg(t)&&Kg(t.arrayValue,this.value)},t}(cy),vy=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Mf(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&Kg(this.value.arrayValue,t)},t}(cy),gy=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Mf(t,e),t.prototype.matches=function(e){if(Kg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Kg(this.value.arrayValue,t)},t}(cy),yy=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Mf(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Qg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Kg(t.value.arrayValue,e)}))},t}(cy),my=function(e,t){this.position=e,this.before=t};function by(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Hg(e)})).join(",")}var wy=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function _y(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ey(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Vg.comparator(Vg.fromName(a.referenceValue),n.key):Wg(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function ky(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!qg(e.position[n],t.position[n]))return!1;return!0}var Iy=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Sy(e,t,n,r,i,o,a,s){return new Iy(e,t,n,r,i,o,a,s)}function Ty(e){return new Iy(e)}function Cy(e){return!Mg(e.limit)&&"F"===e.limitType}function xy(e){return!Mg(e.limit)&&"L"===e.limitType}function Ny(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Py(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Oy(e){return null!==e.collectionGroup}function Ay(e){var t=dg(e);if(null===t.p){t.p=[];var n=Py(t),r=Ny(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new wy(n)),t.p.push(new wy(Cg.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new wy(Cg.keyField(),u))}}}return t.p}function Ry(e){var t=dg(e);if(!t.T)if("F"===t.limitType)t.T=oy(t.path,t.collectionGroup,Ay(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Ay(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new wy(o.field,a))}var s=t.endAt?new my(t.endAt.position,!t.endAt.before):null,u=t.startAt?new my(t.startAt.position,!t.startAt.before):null;t.T=oy(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function Dy(e,t,n){return new Iy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ly(e,t){return sy(Ry(e),Ry(t))&&e.limitType===t.limitType}function jy(e){return ay(Ry(e))+"|lt:"+e.limitType}function My(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Hg(t.value);var t})).join(", ")+"]"),Mg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+by(e.startAt)),e.endAt&&(t+=", endAt: "+by(e.endAt)),"Target("+t+")"}(Ry(e))+"; limitType="+e.limitType+")"}function Fy(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Vg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Ey(e.startAt,Ay(e),t))&&(!e.endAt||!Ey(e.endAt,Ay(e),t))}(e,t)}function Uy(e){return function(t,n){for(var r=!1,i=0,o=Ay(e);i<o.length;i++){var a=o[i],s=Vy(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Vy(e,t,n){var r=e.field.isKeyField()?Vg.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Wg(r,i):fg()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fg()}}function By(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fg(t)?"-0":t}}function qy(e){return{integerValue:""+e}}function Ky(e,t){return Ug(t)?qy(t):By(e,t)}var Wy=function(){this._=void 0};function zy(e,t,n){return e instanceof Yy?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Xy?Qy(e,t):e instanceof Jy?Zy(e,t):function(e,t){var n=Gy(e,t),r=em(n)+em(e.A);return Xg(n)&&Xg(e.A)?qy(r):By(e.R,r)}(e,t)}function Hy(e,t,n){return e instanceof Xy?Qy(e,t):e instanceof Jy?Zy(e,t):n}function Gy(e,t){return e instanceof $y?Xg(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Yy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mf(t,e),t}(Wy),Xy=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Mf(t,e),t}(Wy);function Qy(e,t){for(var n=tm(t),r=function(e){n.some((function(t){return qg(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Jy=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Mf(t,e),t}(Wy);function Zy(e,t){for(var n=tm(t),r=function(e){n=n.filter((function(t){return!qg(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var $y=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return Mf(t,e),t}(Wy);function em(e){return Ag(e.integerValue||e.doubleValue)}function tm(e){return Qg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var nm=function(e,t){this.field=e,this.transform=t},rm=function(e,t){this.version=e,this.transformResults=t},im=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function om(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var am=function(){};function sm(e,t,n){e instanceof hm?function(e,t,n){var r=e.value.clone(),i=vm(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof dm?function(e,t,n){if(om(e.precondition,t)){var r=vm(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(pm(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function um(e,t,n){e instanceof hm?function(e,t,n){if(om(e.precondition,t)){var r=e.value.clone(),i=gm(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(fm(t),r).setHasLocalMutations()}}(e,t,n):e instanceof dm?function(e,t,n){if(om(e.precondition,t)){var r=gm(e.fieldTransforms,n,t),i=t.data;i.setAll(pm(e)),i.setAll(r),t.convertToFoundDocument(fm(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){om(e.precondition,t)&&t.convertToNoDocument(wg.min())}(e,t)}function cm(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=Gy(o.transform,a||null);null!=s&&(null==n&&(n=ty.empty()),n.set(o.field,s))}return n||null}function lm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&yg(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Xy&&t instanceof Xy||e instanceof Jy&&t instanceof Jy?yg(e.elements,t.elements,qg):e instanceof $y&&t instanceof $y?qg(e.A,t.A):e instanceof Yy&&t instanceof Yy}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function fm(e){return e.isFoundDocument()?e.version:wg.min()}var hm=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Mf(t,e),t}(am),dm=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Mf(t,e),t}(am);function pm(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function vm(e,t,n){var r=new Map;hg(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Hy(a,s,n[i]))}return r}function gm(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,zy(s,u,t))}return r}var ym,mm,bm=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Mf(t,e),t}(am),wm=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Mf(t,e),t}(am),_m=function(e){this.count=e};function Em(e){switch(e){case rg.OK:return fg();case rg.CANCELLED:case rg.UNKNOWN:case rg.DEADLINE_EXCEEDED:case rg.RESOURCE_EXHAUSTED:case rg.INTERNAL:case rg.UNAVAILABLE:case rg.UNAUTHENTICATED:return!1;case rg.INVALID_ARGUMENT:case rg.NOT_FOUND:case rg.ALREADY_EXISTS:case rg.PERMISSION_DENIED:case rg.FAILED_PRECONDITION:case rg.ABORTED:case rg.OUT_OF_RANGE:case rg.UNIMPLEMENTED:case rg.DATA_LOSS:return!0;default:return fg()}}function km(e){if(void 0===e)return ug("GRPC error has no .code"),rg.UNKNOWN;switch(e){case ym.OK:return rg.OK;case ym.CANCELLED:return rg.CANCELLED;case ym.UNKNOWN:return rg.UNKNOWN;case ym.DEADLINE_EXCEEDED:return rg.DEADLINE_EXCEEDED;case ym.RESOURCE_EXHAUSTED:return rg.RESOURCE_EXHAUSTED;case ym.INTERNAL:return rg.INTERNAL;case ym.UNAVAILABLE:return rg.UNAVAILABLE;case ym.UNAUTHENTICATED:return rg.UNAUTHENTICATED;case ym.INVALID_ARGUMENT:return rg.INVALID_ARGUMENT;case ym.NOT_FOUND:return rg.NOT_FOUND;case ym.ALREADY_EXISTS:return rg.ALREADY_EXISTS;case ym.PERMISSION_DENIED:return rg.PERMISSION_DENIED;case ym.FAILED_PRECONDITION:return rg.FAILED_PRECONDITION;case ym.ABORTED:return rg.ABORTED;case ym.OUT_OF_RANGE:return rg.OUT_OF_RANGE;case ym.UNIMPLEMENTED:return rg.UNIMPLEMENTED;case ym.DATA_LOSS:return rg.DATA_LOSS;default:return fg()}}(mm=ym||(ym={}))[mm.OK=0]="OK",mm[mm.CANCELLED=1]="CANCELLED",mm[mm.UNKNOWN=2]="UNKNOWN",mm[mm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mm[mm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mm[mm.NOT_FOUND=5]="NOT_FOUND",mm[mm.ALREADY_EXISTS=6]="ALREADY_EXISTS",mm[mm.PERMISSION_DENIED=7]="PERMISSION_DENIED",mm[mm.UNAUTHENTICATED=16]="UNAUTHENTICATED",mm[mm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mm[mm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mm[mm.ABORTED=10]="ABORTED",mm[mm.OUT_OF_RANGE=11]="OUT_OF_RANGE",mm[mm.UNIMPLEMENTED=12]="UNIMPLEMENTED",mm[mm.INTERNAL=13]="INTERNAL",mm[mm.UNAVAILABLE=14]="UNAVAILABLE",mm[mm.DATA_LOSS=15]="DATA_LOSS";var Im=function(){function e(e,t){this.comparator=e,this.root=t||Tm.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Tm.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Tm.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Sm(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Sm(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Sm(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Sm(this.root,e,this.comparator,!0)},e}(),Sm=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Tm=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw fg();if(this.right.isRed())throw fg();var e=this.left.check();if(e!==this.right.check())throw fg();return e+(this.isRed()?0:1)},e}();Tm.EMPTY=null,Tm.RED=!0,Tm.BLACK=!1,Tm.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw fg()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw fg()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw fg()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw fg()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw fg()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Tm(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Cm=function(){function e(e){this.comparator=e,this.data=new Im(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new xm(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new xm(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),xm=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Nm=new Im(Vg.comparator);function Pm(){return Nm}var Om=new Im(Vg.comparator);function Am(){return Om}var Rm=new Im(Vg.comparator);function Dm(){return Rm}var Lm=new Cm(Vg.comparator);function jm(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Lm,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Mm=new Cm(gg);function Fm(){return Mm}var Um=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Vm.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(wg.min(),r,Fm(),Pm(),jm())},e}(),Vm=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Ng.EMPTY_BYTE_STRING,n,jm(),jm(),jm())},e}(),Bm=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},qm=function(e,t){this.targetId=e,this.V=t},Km=function(e,t,n,r){void 0===n&&(n=Ng.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Wm=function(){function e(){this.S=0,this.D=Gm(),this.C=Ng.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=jm(),t=jm(),n=jm();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:fg()}})),new Vm(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=Gm()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),zm=function(){function e(e){this.W=e,this.G=new Map,this.H=Pm(),this.J=Hm(),this.Y=new Cm(gg)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:fg()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(uy(i))if(0===n){var o=new Vg(i.path);this.tt(t,o,ry.newNoDocument(o,wg.min()))}else hg(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&uy(o.target)){var a=new Vg(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,ry.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=jm();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Um(e,n,this.Y,this.H,r);return this.H=Pm(),this.J=Hm(),this.Y=new Cm(gg),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Wm,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Cm(gg),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||sg("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Wm),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Hm(){return new Im(Vg.comparator)}function Gm(){return new Im(Vg.comparator)}var Ym={asc:"ASCENDING",desc:"DESCENDING"},Xm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qm=function(e,t){this.databaseId=e,this.I=t};function Jm(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Zm(e,t){return e.I?t.toBase64():t.toUint8Array()}function $m(e,t){return Jm(e,t.toTimestamp())}function eb(e){return hg(!!e),wg.fromTimestamp(function(e){var t=Og(e);return new bg(t.seconds,t.nanos)}(e))}function tb(e,t){return function(e){return new Sg(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function nb(e){var t=Sg.fromString(e);return hg(Tb(t)),t}function rb(e,t){return tb(e.databaseId,t.path)}function ib(e,t){var n=nb(t);if(n.get(1)!==e.databaseId.projectId)throw new ig(rg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ig(rg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Vg(ub(n))}function ob(e,t){return tb(e.databaseId,t)}function ab(e){var t=nb(e);return 4===t.length?Sg.emptyPath():ub(t)}function sb(e){return new Sg(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ub(e){return hg(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function cb(e,t,n){return{name:rb(e,t),fields:n.value.mapValue.fields}}function lb(e,t,n){var r=ib(e,t.name),i=eb(t.updateTime),o=new ty({mapValue:{fields:t.fields}}),a=ry.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function fb(e,t){var n;if(t instanceof hm)n={update:cb(e,t.key,t.value)};else if(t instanceof bm)n={delete:rb(e,t.key)};else if(t instanceof dm)n={update:cb(e,t.key,t.data),updateMask:Sb(t.fieldMask)};else{if(!(t instanceof wm))return fg();n={verify:rb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Yy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Xy)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Jy)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof $y)return{fieldPath:t.field.canonicalString(),increment:n.A};throw fg()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:$m(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:fg()}(e,t.precondition)),n}function hb(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?im.updateTime(eb(e.updateTime)):void 0!==e.exists?im.exists(e.exists):im.none()}(t.currentDocument):im.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)hg("REQUEST_TIME"===t.setToServerValue),n=new Yy;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Xy(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Jy(i)}else"increment"in t?n=new $y(e,t.increment):fg();var o=Cg.fromServerFormat(t.fieldPath);return new nm(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=ib(e,t.update.name),o=new ty({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new xg(t.map((function(e){return Cg.fromServerFormat(e)})))}(t.updateMask);return new dm(i,o,a,n,r)}return new hm(i,o,n,r)}if(t.delete){var s=ib(e,t.delete);return new bm(s,n)}if(t.verify){var u=ib(e,t.verify);return new wm(u,n)}return fg()}function db(e,t){return{documents:[ob(e,t.path)]}}function pb(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ob(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ob(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Zg(e.value))return{unaryFilter:{field:_b(e.field),op:"IS_NAN"}};if(Jg(e.value))return{unaryFilter:{field:_b(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Zg(e.value))return{unaryFilter:{field:_b(e.field),op:"IS_NOT_NAN"}};if(Jg(e.value))return{unaryFilter:{field:_b(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_b(e.field),op:wb(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:_b(e.field),direction:bb(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||Mg(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=yb(t.startAt)),t.endAt&&(n.structuredQuery.endAt=yb(t.endAt)),n}function vb(e){var t=ab(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){hg(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=gb(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new wy(Eb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Mg(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=mb(n.startAt));var l=null;return n.endAt&&(l=mb(n.endAt)),Sy(t,i,s,a,u,"F",c,l)}function gb(e){return e?void 0!==e.unaryFilter?[Ib(e)]:void 0!==e.fieldFilter?[kb(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return gb(e)})).reduce((function(e,t){return e.concat(t)})):fg():[]}function yb(e){return{before:e.before,values:e.position}}function mb(e){var t=!!e.before,n=e.values||[];return new my(n,t)}function bb(e){return Ym[e]}function wb(e){return Xm[e]}function _b(e){return{fieldPath:e.canonicalString()}}function Eb(e){return Cg.fromServerFormat(e.fieldPath)}function kb(e){return cy.create(Eb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fg()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ib(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Eb(e.unaryFilter.field);return cy.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Eb(e.unaryFilter.field);return cy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Eb(e.unaryFilter.field);return cy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Eb(e.unaryFilter.field);return cy.create(i,"!=",{nullValue:"NULL_VALUE"});default:return fg()}}function Sb(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Tb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Cb(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Nb(t)),t=xb(e.get(n),t);return Nb(t)}function xb(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Nb(e){return e+"\x01\x01"}function Pb(e){var t=e.length;if(hg(t>=2),2===t)return hg("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Sg.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&fg(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:fg()}o=a+2}return new Sg(r)}var Ob=function(e,t){this.seconds=e,this.nanoseconds=t},Ab=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Ab.store="owner",Ab.key="owner";var Rb=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Rb.store="mutationQueues",Rb.keyPath="userId";var Db=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Db.store="mutations",Db.keyPath="batchId",Db.userMutationsIndex="userMutationsIndex",Db.userMutationsKeyPath=["userId","batchId"];var Lb=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Cb(t)]},e.key=function(e,t,n){return[e,Cb(t),n]},e}();Lb.store="documentMutations",Lb.PLACEHOLDER=new Lb;var jb=function(e,t){this.path=e,this.readTime=t},Mb=function(e,t){this.path=e,this.version=t},Fb=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Fb.store="remoteDocuments",Fb.readTimeIndex="readTimeIndex",Fb.readTimeIndexPath="readTime",Fb.collectionReadTimeIndex="collectionReadTimeIndex",Fb.collectionReadTimeIndexPath=["parentPath","readTime"];var Ub=function(e){this.byteSize=e};Ub.store="remoteDocumentGlobal",Ub.key="remoteDocumentGlobalKey";var Vb=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Vb.store="targets",Vb.keyPath="targetId",Vb.queryTargetsIndexName="queryTargetsIndex",Vb.queryTargetsKeyPath=["canonicalId","targetId"];var Bb=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Bb.store="targetDocuments",Bb.keyPath=["targetId","path"],Bb.documentTargetsIndex="documentTargetsIndex",Bb.documentTargetsKeyPath=["path","targetId"];var qb=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};qb.key="targetGlobalKey",qb.store="targetGlobal";var Kb=function(e,t){this.collectionId=e,this.parent=t};Kb.store="collectionParents",Kb.keyPath=["collectionId","parent"];var Wb=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Wb.store="clientMetadata",Wb.keyPath="clientId";var zb=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};zb.store="bundles",zb.keyPath="bundleId";var Hb=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Hb.store="namedQueries",Hb.keyPath="name";var Gb=Vf(Vf([],Vf(Vf([],Vf(Vf([],Vf(Vf([],[Rb.store,Db.store,Lb.store,Fb.store,Vb.store,Ab.store,qb.store,Bb.store]),[Wb.store])),[Ub.store])),[Kb.store])),[zb.store,Hb.store]),Yb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Xb=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Qb=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Jb=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&fg(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),Zb=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Qb,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new tw(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=aw(t.target.error);n.ft.reject(new tw(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new tw(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(sg("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new rw(t)},e}(),$b=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,Bf.getUA)())&&ug("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return sg("SimpleDb","Removing database:",e),iw(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,Bf.getUA)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/cats",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return Ff(this,void 0,void 0,(function(){var t,n=this;return Uf(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(sg("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new tw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new ig(rg.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new tw(e,n))},i.onupgradeneeded=function(e){sg("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){sg("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return Ff(this,void 0,void 0,(function(){var i,o,a,s,u;return Uf(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return Uf(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=f.sent(),t=Zb.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),Jb.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(f.sent(),a),u)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,sg("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),ew=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return iw(this.Pt.delete())},e}(),tw=function(e){function t(t,n){var r=this;return(r=e.call(this,rg.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Mf(t,e),t}(ig);function nw(e){return"IndexedDbTransactionError"===e.name}var rw=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(sg("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(sg("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),iw(n)},e.prototype.add=function(e){return sg("SimpleDb","ADD",this.store.name,e,e),iw(this.store.add(e))},e.prototype.get=function(e){var t=this;return iw(this.store.get(e)).next((function(n){return void 0===n&&(n=null),sg("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return sg("SimpleDb","DELETE",this.store.name,e),iw(this.store.delete(e))},e.prototype.count=function(){return sg("SimpleDb","COUNT",this.store.name),iw(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){sg("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new Jb((function(n,r){t.onerror=function(e){var t=aw(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new Jb((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new ew(i),a=t(i.primaryKey,i.value,o);if(a instanceof Jb){var s=a.catch((function(e){return o.done(),Jb.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Jb.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function iw(e){return new Jb((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=aw(e.target.error);n(t)}}))}var ow=!1;function aw(e){var t=$b._t((0,Bf.getUA)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ig("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ow||(ow=!0,setTimeout((function(){throw r}),0)),r}}return e}var sw=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return Mf(t,e),t}(Xb);function uw(e,t){var n=dg(e);return $b.It(n.Mt,t)}var cw=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&sm(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&um(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&um(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(wg.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),jm())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&yg(this.mutations,e.mutations,(function(e,t){return lm(e,t)}))&&yg(this.baseMutations,e.baseMutations,(function(e,t){return lm(e,t)}))},e}(),lw=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){hg(t.mutations.length===r.length);for(var i=Dm(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),fw=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=wg.min()),void 0===o&&(o=wg.min()),void 0===a&&(a=Ng.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),hw=function(e){this.Lt=e};function dw(e,t){if(t.document)return lb(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Vg.fromSegments(t.noDocument.path),r=mw(t.noDocument.readTime),i=ry.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=Vg.fromSegments(t.unknownDocument.path);return r=mw(t.unknownDocument.version),ry.newUnknownDocument(o,r)}return fg()}function pw(e,t,n){var r=vw(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:rb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Jm(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Fb(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=yw(t.version);return a=t.hasCommittedMutations,new Fb(null,new jb(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=yw(t.version);return new Fb(new Mb(c,l),null,null,!0,r,i)}return fg()}function vw(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function gw(e){var t=new bg(e[0],e[1]);return wg.fromTimestamp(t)}function yw(e){var t=e.toTimestamp();return new Ob(t.seconds,t.nanoseconds)}function mw(e){var t=new bg(e.seconds,e.nanoseconds);return wg.fromTimestamp(t)}function bw(e,t){for(var n=(t.baseMutations||[]).map((function(t){return hb(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return hb(e.Lt,t)})),s=bg.fromMillis(t.localWriteTimeMs);return new cw(t.batchId,s,n,a)}function ww(e){var t,n,r=mw(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?mw(e.lastLimboFreeSnapshotVersion):wg.min();return void 0!==e.query.documents?(hg(1===(n=e.query).documents.length),t=Ry(Ty(ab(n.documents[0])))):t=function(e){return Ry(vb(e))}(e.query),new fw(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Ng.fromBase64String(e.resumeToken))}function _w(e,t){var n,r=yw(t.snapshotVersion),i=yw(t.lastLimboFreeSnapshotVersion);n=uy(t.target)?db(e.Lt,t.target):pb(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Vb(t.targetId,ay(t.target),r,o,t.sequenceNumber,i,n)}function Ew(e){var t=vb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Dy(t,t.limit,"L"):t}var kw=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Iw(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:mw(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Iw(e).put({bundleId:(n=t).id,createTime:yw(eb(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Sw(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ew(t.bundledQuery),readTime:mw(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Sw(e).put(function(e){return{name:e.name,readTime:yw(eb(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Iw(e){return uw(e,zb.store)}function Sw(e){return uw(e,Hb.store)}var Tw=function(){function e(){this.Bt=new Cw}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Jb.resolve()},e.prototype.getCollectionParents=function(e,t){return Jb.resolve(this.Bt.getEntries(t))},e}(),Cw=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Cm(Sg.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Cm(Sg.comparator)).toArray()},e}(),xw=function(){function e(){this.qt=new Cw}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:Cb(i)};return Nw(e).put(o)}return Jb.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[mg(t),""],!1,!0);return Nw(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Pb(o.parent))}return n}))},e}();function Nw(e){return uw(e,Kb.store)}var Pw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ow=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Aw(e,t,n){var r=e.store(Db.store),i=e.store(Lb.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){hg(1===s)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=Lb.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return Jb.waitFor(o).next((function(){return c}))}function Rw(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw fg();t=e.noDocument}return JSON.stringify(t).length}Ow.DEFAULT_COLLECTION_PERCENTILE=10,Ow.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ow.DEFAULT=new Ow(41943040,Ow.DEFAULT_COLLECTION_PERCENTILE,Ow.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ow.DISABLED=new Ow(-1,0,0);var Dw=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return hg(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jw(e).$t({index:Db.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Mw(e),a=jw(e);return a.add({}).next((function(s){hg("number"==typeof s);for(var u=new cw(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return fb(e.Lt,t)})),i=n.mutations.map((function(t){return fb(e.Lt,t)}));return new Db(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],f=new Cm((function(e,t){return gg(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],v=Lb.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,Lb.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),Jb.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return jw(e).get(t).next((function(e){return e?(hg(e.userId===n.userId),bw(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?Jb.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return jw(e).$t({index:Db.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(hg(t.batchId>=r),o=bw(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return jw(e).$t({index:Db.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return jw(e).Nt(Db.userMutationsIndex,n).next((function(e){return e.map((function(e){return bw(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Lb.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Mw(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Pb(u);if(s===n.userId&&t.path.isEqual(l))return jw(e).get(c).next((function(e){if(!e)throw fg();hg(e.userId===n.userId),o.push(bw(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Cm(gg),i=[];return t.forEach((function(t){var o=Lb.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Mw(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Pb(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Jb.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=Lb.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Cm(gg);return Mw(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Pb(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(jw(e).get(t).next((function(e){if(null===e)throw fg();hg(e.userId===n.userId),r.push(bw(n.R,e))})))})),Jb.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Aw(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),Jb.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Jb.resolve();var r=IDBKeyRange.lowerBound(Lb.prefixForUser(t.userId)),i=[];return Mw(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Pb(e[1]);i.push(o)}else r.done()})).next((function(){hg(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return Lw(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Fw(e).get(this.userId).next((function(e){return e||new Rb(t.userId,-1,"")}))},e}();function Lw(e,t,n){var r=Lb.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Mw(e).$t({range:o,Ft:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function jw(e){return uw(e,Db.store)}function Mw(e){return uw(e,Lb.store)}function Fw(e){return uw(e,Rb.store)}var Uw=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Vw=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Uw(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return wg.fromTimestamp(new bg(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Bw(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return hg(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Bw(e).$t((function(a,s){var u=ww(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return Jb.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return Bw(e).$t((function(e,n){var r=ww(n);t(r)}))},e.prototype.Xt=function(e){return qw(e).get(qb.key).next((function(e){return hg(null!==e),e}))},e.prototype.Zt=function(e,t){return qw(e).put(qb.key,t)},e.prototype.te=function(e,t){return Bw(e).put(_w(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=ay(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Bw(e).$t({range:r,index:Vb.queryTargetsIndexName},(function(e,n,r){var o=ww(n);sy(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=Kw(e);return t.forEach((function(t){var a=Cb(t.path);i.push(o.put(new Bb(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),Jb.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Kw(e);return Jb.forEach(t,(function(t){var o=Cb(t.path);return Jb.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Kw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Kw(e),i=jm();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=Pb(e[1]),o=new Vg(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Cb(t.path),r=IDBKeyRange.bound([n],[mg(n)],!1,!0),i=0;return Kw(e).$t({index:Bb.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return Bw(e).get(t).next((function(e){return e?ww(e):null}))},e}();function Bw(e){return uw(e,Vb.store)}function qw(e){return uw(e,qb.store)}function Kw(e){return uw(e,Bb.store)}function Ww(e){return Ff(this,void 0,void 0,(function(){return Uf(this,(function(t){if(e.code!==rg.FAILED_PRECONDITION||e.message!==Yb)throw e;return sg("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function zw(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=gg(n,i);return 0===a?gg(r,o):a}var Hw=function(){function e(e){this.ne=e,this.buffer=new Cm(zw),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();zw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Gw=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;sg("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Ff(t,void 0,void 0,(function(){var t;return Uf(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return nw(t=n.sent())?(sg("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Ww(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),Yw=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Jb.resolve(ng.o);var r=new Hw(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(sg("LruGarbageCollector","Garbage collection skipped; disabled"),Jb.resolve(Pw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(sg("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Pw):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(sg("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),ag()<=qf.LogLevel.DEBUG&&sg("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Jb.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),Xw=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new Yw(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Qw(e,n)},e.prototype.removeReference=function(e,t,n){return Qw(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Qw(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Fw(e).Ot((function(r){return Lw(e,r,t).next((function(e){return e&&(n=!0),Jb.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),Kw(e).delete([0,Cb(a.path)])}))}));i.push(u)}})).next((function(){return Jb.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Qw(e,t)},e.prototype.we=function(e,t){var n,r=Kw(e),i=ng.o;return r.$t({index:Bb.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==ng.o&&t(new Vg(Pb(n)),i),i=s,n=a):i=ng.o})).next((function(){i!==ng.o&&t(new Vg(Pb(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Qw(e,t){return Kw(e).put(function(e,t){return new Bb(0,Cb(e.path),t)}(t,e.currentSequenceNumber))}var Jw=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Eg(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return kg(this.inner)},e}(),Zw=function(){function e(){this.changes=new Jw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:wg.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:ry.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Jb.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),$w=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return n_(e).put(r_(t),n)},e.prototype.removeEntry=function(e,t){var n=n_(e),r=r_(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return n_(e).get(r_(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return n_(e).get(r_(t)).next((function(e){return{document:n.ye(t,e),size:Rw(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=Pm();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=Pm(),i=new Im(Vg.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Rw(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Jb.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return n_(e).$t({range:r},(function(e,t,r){for(var a=Vg.fromSegments(e);o&&Vg.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Pm(),o=t.path.length+1,a={};if(n.isEqual(wg.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=vw(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Fb.collectionReadTimeIndex}return n_(e).$t(a,(function(e,n,a){if(e.length===o){var s=dw(r.R,n);t.path.isPrefixOf(s.key.path)?Fy(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new e_(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return t_(e).get(Ub.key).next((function(e){return hg(!!e),e}))},e.prototype.me=function(e,t){return t_(e).put(Ub.key,t)},e.prototype.ye=function(e,t){if(t){var n=dw(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(wg.min()))return n}return ry.newInvalidDocument(e)},e}(),e_=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new Jw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return Mf(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Cm((function(e,t){return gg(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=pw(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=Rw(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=pw(t.Ie.R,ry.newNoDocument(o,wg.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),Jb.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(Zw);function t_(e){return uw(e,Ub.store)}function n_(e){return uw(e,Fb.store)}function r_(e){return e.path.toArray()}var i_=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;hg(n<r&&n>=0&&r<=11);var o=new Zb("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Ab.store)}(e),function(e){e.createObjectStore(Rb.store,{keyPath:Rb.keyPath}),e.createObjectStore(Db.store,{keyPath:Db.keyPath,autoIncrement:!0}).createIndex(Db.userMutationsIndex,Db.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Lb.store)}(e),o_(e),function(e){e.createObjectStore(Fb.store)}(e));var a=Jb.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Bb.store),e.deleteObjectStore(Vb.store),e.deleteObjectStore(qb.store)}(e),o_(e)),a=a.next((function(){return function(e){var t=e.store(qb.store),n=new qb(0,0,wg.min().toTimestamp(),0);return t.put(qb.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Db.store).Nt().next((function(n){e.deleteObjectStore(Db.store),e.createObjectStore(Db.store,{keyPath:Db.keyPath,autoIncrement:!0}).createIndex(Db.userMutationsIndex,Db.userMutationsKeyPath,{unique:!0});var r=t.store(Db.store),i=n.map((function(e){return r.put(e)}));return Jb.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Wb.store,{keyPath:Wb.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Ub.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Fb.store);t.createIndex(Fb.readTimeIndex,Fb.readTimeIndexPath,{unique:!1}),t.createIndex(Fb.collectionReadTimeIndex,Fb.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(zb.store,{keyPath:zb.keyPath})}(e),function(e){e.createObjectStore(Hb.store,{keyPath:Hb.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(Fb.store).$t((function(e,n){t+=Rw(n)})).next((function(){var n=new Ub(t);return e.store(Ub.store).put(Ub.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Rb.store),r=e.store(Db.store);return n.Nt().next((function(n){return Jb.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Db.userMutationsIndex,i).next((function(r){return Jb.forEach(r,(function(r){hg(r.userId===n.userId);var i=bw(t.R,r);return Aw(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(Bb.store),n=e.store(Fb.store);return e.store(qb.store).get(qb.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new Sg(n),a=function(e){return[0,Cb(e)]}(o);r.push(t.get(a).next((function(n){return n?Jb.resolve():function(n){return t.put(new Bb(0,Cb(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return Jb.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(Kb.store,{keyPath:Kb.keyPath});var n=t.store(Kb.store),r=new Cw,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Cb(i)})}};return t.store(Fb.store).$t({Ft:!0},(function(e,t){var n=new Sg(e);return i(n.popLast())})).next((function(){return t.store(Lb.store).$t({Ft:!0},(function(e,t){e[0];var n=e[1];e[2];var r=Pb(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Vb.store);return n.$t((function(e,r){var i=ww(r),o=_w(t.R,i);return n.put(o)}))},e}();function o_(e){e.createObjectStore(Bb.store,{keyPath:Bb.keyPath}).createIndex(Bb.documentTargetsIndex,Bb.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Vb.store,{keyPath:Vb.keyPath}).createIndex(Vb.queryTargetsIndexName,Vb.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(qb.store)}var a_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",s_=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new ig(rg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Xw(this,i),this.Le=n+"main",this.R=new hw(u),this.Be=new $b(this.Le,11,new i_(this.R)),this.qe=new Vw(this.referenceDelegate,this.R),this.Ut=new xw,this.Ue=function(e,t){return new $w(e,t)}(this.R,this.Ut),this.Ke=new kw,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&ug("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ig(rg.FAILED_PRECONDITION,a_);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new ng(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return Ff(t,void 0,void 0,(function(){return Uf(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return Ff(t,void 0,void 0,(function(){return Uf(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return Ff(t,void 0,void 0,(function(){return Uf(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return c_(t).put(new Wb(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(nw(t))return sg("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return sg("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return u_(e).get(Ab.key).next((function(e){return Jb.resolve(t.tn(e))}))},e.prototype.en=function(e){return c_(e).delete(this.clientId)},e.prototype.nn=function(){return Ff(this,void 0,void 0,(function(){var e,t,n,r,i=this;return Uf(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=uw(e,Wb.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Jb.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Jb.resolve(!0):u_(e).get(Ab.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new ig(rg.FAILED_PRECONDITION,a_);return!1}}return!(!t.networkEnabled||!t.inForeground)||c_(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&sg("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return Ff(this,void 0,void 0,(function(){var e=this;return Uf(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ab.store,Wb.store],(function(t){var n=new sw(t,ng.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return c_(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Dw.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;sg("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,Gb,(function(o){return i=new sw(o,r.Ne?r.Ne.next():ng.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw ug("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new ig(rg.FAILED_PRECONDITION,Yb);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return u_(e).get(Ab.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new ig(rg.FAILED_PRECONDITION,a_)}))},e.prototype.Ze=function(e){var t=new Ab(this.clientId,this.allowTabSynchronization,Date.now());return u_(e).put(Ab.key,t)},e.yt=function(){return $b.yt()},e.prototype.Xe=function(e){var t=this,n=u_(e);return n.get(Ab.key).next((function(e){return t.tn(e)?(sg("IndexedDbPersistence","Releasing primary lease."),n.delete(Ab.key)):Jb.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(ug("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),(0,Bf.isSafari)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return sg("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return ug("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){ug("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function u_(e){return uw(e,Ab.store)}function c_(e){return uw(e,Wb.store)}function l_(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var f_=function(e,t){this.progress=e,this.wn=t},h_=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return Vg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Oy(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new Vg(t)).next((function(e){var t=Am();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Am();return this.Ut.getCollectionParents(e,i).next((function(a){return Jb.forEach(a,(function(a){var s=function(e,t){return new Iy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=ry.newInvalidDocument(c),r=r.insert(c,l)),um(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){Fy(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=jm(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof dm&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),d_=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=jm(),i=jm(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),p_=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(wg.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(Cy(t)||xy(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(ag()<=qf.LogLevel.DEBUG&&sg("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),My(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new Cm(Uy(e));return t.forEach((function(t,r){Fy(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return ag()<=qf.LogLevel.DEBUG&&sg("QueryEngine","Using full collection scan to execute query:",My(t)),this.Sn.getDocumentsMatchingQuery(e,t,wg.min())},e}(),v_=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new Im(gg),this.Fn=new Jw((function(e){return ay(e)}),sy),this.$n=wg.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new h_(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();function g_(e,t,n,r){return new v_(e,t,n,r)}function y_(e,t){return Ff(this,void 0,void 0,(function(){var n,r,i,o;return Uf(this,(function(a){switch(a.label){case 0:return n=dg(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new h_(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=jm(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var g=0,y=v.mutations;g<y.length;g++){var m=y[g];a=a.add(m.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function m_(e,t){var n=dg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Jb.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);hg(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function b_(e){var t=dg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function w_(e,t){var n=dg(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return hg(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=Pm();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(__(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(wg.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return Jb.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.kn=i,e}))}function __(e,t,n,r,i){var o=jm();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Pm();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(wg.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):sg("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function E_(e,t){var n=dg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function k_(e,t){var n=dg(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,Jb.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new fw(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function I_(e,t,n){return Ff(this,void 0,void 0,(function(){var r,i,o,a;return Uf(this,(function(s){switch(s.label){case 0:r=dg(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!nw(a=s.sent()))throw a;return sg("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}}))}))}function S_(e,t,n){var r=dg(e),i=wg.min(),o=jm();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=dg(e),i=r.Fn.get(n);return void 0!==i?Jb.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,Ry(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:wg.min(),n?o:jm())})).next((function(e){return{documents:e,Bn:o}}))}))}function T_(e,t){var n=dg(e),r=dg(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function C_(e){var t=dg(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=dg(e),i=Pm(),o=vw(n),a=n_(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:Fb.readTimeIndex,range:s},(function(e,t){var n=dw(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:gw(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function x_(e){return Ff(this,void 0,void 0,(function(){var t;return Uf(this,(function(n){return[2,(t=dg(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=n_(e),n=wg.min();return t.$t({index:Fb.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=gw(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function N_(e,t,n,r){return Ff(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,h,d;return Uf(this,(function(p){switch(p.label){case 0:for(i=dg(e),o=jm(),a=Pm(),s=Dm(),u=0,c=n;u<c.length;u++)l=c[u],f=t.qn(l.metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,t.Un(l)),s=s.insert(f,t.Kn(l.metadata.readTime));return h=i.On.newChangeBuffer({trackRemovals:!0}),[4,k_(i,function(e){return Ry(Ty(Sg.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return __(e,h,a,wg.min(),s).next((function(t){return h.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function P_(e,t,n){return void 0===n&&(n=jm()),Ff(this,void 0,void 0,(function(){var r,i;return Uf(this,(function(o){switch(o.label){case 0:return[4,k_(e,Ry(Ew(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=dg(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=eb(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(Ng.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var O_=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Jb.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:eb(n.createTime)}),Jb.resolve()},e.prototype.getNamedQuery=function(e,t){return Jb.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Ew(e.bundledQuery),readTime:eb(e.readTime)}}(t)),Jb.resolve()},e}(),A_=function(){function e(){this.Wn=new Cm(R_.Gn),this.zn=new Cm(R_.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new R_(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new R_(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new Vg(new Sg([])),r=new R_(n,e),i=new R_(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new Vg(new Sg([])),n=new R_(t,e),r=new R_(t,e+1),i=jm();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new R_(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),R_=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return Vg.comparator(e.key,t.key)||gg(e.ns,t.ns)},e.Hn=function(e,t){return gg(e.ns,t.ns)||Vg.comparator(e.key,t.key)},e}(),D_=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Cm(R_.Gn)}return e.prototype.checkEmpty=function(e){return Jb.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new cw(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new R_(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return Jb.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Jb.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return Jb.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Jb.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Jb.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new R_(t,0),i=new R_(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),Jb.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Cm(gg);return t.forEach((function(e){var t=new R_(e,0),i=new R_(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),Jb.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;Vg.isDocumentKey(i)||(i=i.child(""));var o=new R_(new Vg(i),0),a=new Cm(gg);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),Jb.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;hg(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Jb.forEach(t.mutations,(function(i){var o=new R_(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new R_(t,0),r=this.rs.firstAfterOrEqual(n);return Jb.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,Jb.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),L_=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Im(Vg.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Jb.resolve(n?n.document.clone():ry.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Pm();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():ry.newInvalidDocument(e))})),Jb.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Pm(),i=new Vg(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Fy(t,c)&&(r=r.insert(c.key,c.clone()))}return Jb.resolve(r)},e.prototype.fs=function(e,t){return Jb.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new j_(this)},e.prototype.getSize=function(e){return Jb.resolve(this.size)},e}(),j_=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return Mf(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),Jb.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(Zw),M_=function(){function e(e){this.persistence=e,this.ds=new Jw((function(e){return ay(e)}),sy),this.lastRemoteSnapshotVersion=wg.min(),this.highestTargetId=0,this.ws=0,this._s=new A_,this.targetCount=0,this.ys=Uw.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),Jb.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Jb.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Jb.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Jb.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Jb.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Uw(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Jb.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Jb.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Jb.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Jb.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return Jb.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Jb.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Jb.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Jb.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Jb.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Jb.resolve(n)},e.prototype.containsKey=function(e,t){return Jb.resolve(this._s.containsKey(t))},e}(),F_=function(){function e(e,t){var n=this;this.gs={},this.Ne=new ng(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new M_(this),this.Ut=new Tw,this.Ue=function(e,t){return new L_(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new hw(t),this.Ke=new O_(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new D_(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;sg("MemoryPersistence","Starting transaction:",e);var i=new U_(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return Jb.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),U_=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return Mf(t,e),t}(Xb),V_=function(){function e(e){this.persistence=e,this.As=new A_,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw fg()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Jb.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Jb.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Jb.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Jb.forEach(this.vs,(function(r){var i=Vg.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Jb.or([function(){return Jb.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),B_=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function q_(e,t){return"firestore_clients_"+e+"_"+t}function K_(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function W_(e,t){return"firestore_targets_"+e+"_"+t}B_.UNAUTHENTICATED=new B_(null),B_.GOOGLE_CREDENTIALS=new B_("google-credentials-uid"),B_.FIRST_PARTY=new B_("first-party-uid"),B_.MOCK_USER=new B_("mock-user");var z_=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new ig(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(ug("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),H_=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ig(i.error.code,i.error.message)),o?new e(t,i.state,r):(ug("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),G_=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Fm(),a=0;i&&a<r.activeTargetIds.length;++a)i=Ug(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(ug("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Y_=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ug("SharedClientState","Failed to parse online state: "+t),null)},e}(),X_=function(){function e(){this.activeTargetIds=Fm()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Q_=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Im(gg),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=q_(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new X_),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return Ff(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,f=this;return Uf(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(q_(this.persistenceKey,r)))&&(o=G_.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(W_(this.persistenceKey,e));if(n){var r=H_.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(W_(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return sg("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){sg("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){sg("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(sg("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void ug("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Ff(t,void 0,void 0,(function(){var e,t,r,i,o,a;return Uf(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=ng.o;if(null!=e)try{var n=JSON.parse(e);hg("number"==typeof n),t=n}catch(e){ug("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==ng.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new z_(this.currentUser,e,t,n),i=K_(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=K_(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=W_(this.persistenceKey,e),i=new H_(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return G_.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return z_.Vs(new B_(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return H_.Vs(r,t)},e.prototype.js=function(e){return Y_.Vs(e)},e.prototype.ii=function(e){return Ff(this,void 0,void 0,(function(){return Uf(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(sg("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Fm();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),J_=function(){function e(){this.li=new X_,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new X_,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),Z_=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),$_=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){sg("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){sg("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),eE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},tE=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),nE=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return Mf(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new tg;a.listenOnce(Qv.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Xv.NO_ERROR:var t=a.getResponseJson();sg("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Xv.TIMEOUT:sg("Connection",'RPC "'+e+'" timed out'),o(new ig(rg.DEADLINE_EXCEEDED,"Request time out"));break;case Xv.HTTP_ERROR:var n=a.getStatus();if(sg("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(rg).indexOf(t)>=0?t:rg.UNKNOWN}(r.status);o(new ig(s,r.message))}else o(new ig(rg.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ig(rg.UNAVAILABLE,"Connection failed."));break;default:fg()}}finally{sg("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Gv(),i=Yv(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new $v({})),this.ki(o.initMessageHeaders,t),(0,Bf.isMobileCordova)()||(0,Bf.isReactNative)()||(0,Bf.isElectron)()||(0,Bf.isIE)()||(0,Bf.isUWP)()||(0,Bf.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");sg("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new tE({Ei:function(e){c?sg("Connection","Not sending because WebChannel is closed:",e):(u||(sg("Connection","Opening WebChannel transport."),s.open(),u=!0),sg("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(s,eg.EventType.OPEN,(function(){c||sg("Connection","WebChannel transport opened.")})),f(s,eg.EventType.CLOSE,(function(){c||(c=!0,sg("Connection","WebChannel transport closed"),l.Vi())})),f(s,eg.EventType.ERROR,(function(e){c||(c=!0,cg("Connection","WebChannel transport errored:",e),l.Vi(new ig(rg.UNAVAILABLE,"The operation could not be completed")))})),f(s,eg.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];hg(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){sg("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=ym[e];if(void 0!==t)return km(t)}(o),u=i.message;void 0===a&&(a=rg.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new ig(a,u)),s.close()}else sg("Connection","WebChannel received:",n),l.Si(n)}})),f(i,Jv.STAT_EVENT,(function(e){e.stat===Zv.PROXY?sg("Connection","Detected buffering proxy"):e.stat===Zv.NOPROXY&&sg("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);sg("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return sg("RestConnection","Received: ",e),e}),(function(t){throw cg("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=eE[e];return this.Di+"/v1/"+t+":"+n},e}());function rE(){return"undefined"!=typeof window?window:null}function iE(){return"undefined"!=typeof document?document:null}function oE(e){return new Qm(e,!0)}var aE=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&sg("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),sE=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new aE(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return Ff(this,void 0,void 0,(function(){return Uf(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return Ff(this,void 0,void 0,(function(){return Uf(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return Ff(this,void 0,void 0,(function(){return Uf(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===rg.RESOURCE_EXHAUSTED?(ug(t.toString()),ug("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===rg.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new ig(rg.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return Ff(e,void 0,void 0,(function(){return Uf(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return sg("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(sg("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),uE=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Mf(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:fg()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(hg(void 0===t||"string"==typeof t),Ng.fromBase64String(t||"")):(hg(void 0===t||t instanceof Uint8Array),Ng.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?rg.UNKNOWN:km(e.code);return new ig(t,e.message||"")}(s);n=new Km(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=ib(e,r.document.name),o=eb(r.document.updateTime);var s=new ty({mapValue:{fields:r.document.fields}}),u=(a=ry.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new Bm(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=ib(e,r.document),o=r.readTime?eb(r.readTime):wg.min(),s=ry.newNoDocument(i,o),a=r.removedTargetIds||[],n=new Bm([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=ib(e,r.document),o=r.removedTargetIds||[],n=new Bm([],o,i,null);else{if(!("filter"in t))return fg();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new _m(r),o=l.targetId,n=new qm(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return wg.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?wg.min():t.readTime?eb(t.readTime):wg.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=sb(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=uy(r)?{documents:db(e,r)}:{query:pb(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Zm(e,t.resumeToken):t.snapshotVersion.compareTo(wg.min())>0&&(n.readTime=Jm(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fg()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=sb(this.R),t.removeTarget=e,this.cr(t)},t}(sE),cE=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Mf(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(hg(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(hg(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?eb(e.updateTime):eb(t);return n.isEqual(wg.min())&&(n=eb(t)),new rm(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=eb(e.commitTime);return this.listener.Tr(n,t)}return hg(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=sb(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return fb(t.R,e)}))};this.cr(n)},t}(sE),lE=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return Mf(t,e),t.prototype.br=function(){if(this.Rr)throw new ig(rg.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===rg.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new ig(rg.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===rg.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new ig(rg.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),fE=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(ug(t),this.Vr=!1):sg("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),hE=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return Ff(o,void 0,void 0,(function(){return Uf(this,(function(e){switch(e.label){case 0:return _E(this)?(sg("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Ff(this,void 0,void 0,(function(){var t;return Uf(this,(function(n){switch(n.label){case 0:return(t=dg(e)).Or.add(4),[4,pE(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,dE(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new fE(n,r)};function dE(e){return Ff(this,void 0,void 0,(function(){var t,n;return Uf(this,(function(r){switch(r.label){case 0:if(!_E(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function pE(e){return Ff(this,void 0,void 0,(function(){var t,n;return Uf(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function vE(e,t){var n=dg(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),wE(n)?bE(n):jE(n).er()&&yE(n,t))}function gE(e,t){var n=dg(e),r=jE(n);n.$r.delete(t),r.er()&&mE(n,t),0===n.$r.size&&(r.er()?r.ir():_E(n)&&n.Br.set("Unknown"))}function yE(e,t){e.qr.U(t.targetId),jE(e).mr(t)}function mE(e,t){e.qr.U(t),jE(e).yr(t)}function bE(e){e.qr=new zm({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),jE(e).start(),e.Br.Sr()}function wE(e){return _E(e)&&!jE(e).tr()&&e.$r.size>0}function _E(e){return 0===dg(e).Or.size}function EE(e){e.qr=void 0}function kE(e){return Ff(this,void 0,void 0,(function(){return Uf(this,(function(t){return e.$r.forEach((function(t,n){yE(e,t)})),[2]}))}))}function IE(e,t){return Ff(this,void 0,void 0,(function(){return Uf(this,(function(n){return EE(e),wE(e)?(e.Br.Nr(t),bE(e)):e.Br.set("Unknown"),[2]}))}))}function SE(e,t,n){return Ff(this,void 0,void 0,(function(){var r,i,o;return Uf(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof Km&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return Ff(this,void 0,void 0,(function(){var n,r,i,o;return Uf(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),sg("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,TE(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Bm?e.qr.X(t):t instanceof qm?e.qr.rt(t):e.qr.et(t),n.isEqual(wg.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,b_(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(Ng.EMPTY_BYTE_STRING,n.snapshotVersion)),mE(e,t);var r=new fw(n.target,t,1,n.sequenceNumber);yE(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return sg("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,TE(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function TE(e,t,n){return Ff(this,void 0,void 0,(function(){var r=this;return Uf(this,(function(i){switch(i.label){case 0:if(!nw(t))throw t;return e.Or.add(1),[4,pE(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return b_(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return Ff(r,void 0,void 0,(function(){return Uf(this,(function(t){switch(t.label){case 0:return sg("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,dE(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function CE(e,t){return t().catch((function(n){return TE(e,n,t)}))}function xE(e){return Ff(this,void 0,void 0,(function(){var t,n,r,i,o;return Uf(this,(function(a){switch(a.label){case 0:t=dg(e),n=ME(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return _E(e)&&e.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,E_(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=ME(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,TE(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return NE(t)&&PE(t),[2]}}))}))}function NE(e){return _E(e)&&!ME(e).tr()&&e.Fr.length>0}function PE(e){ME(e).start()}function OE(e){return Ff(this,void 0,void 0,(function(){return Uf(this,(function(t){return ME(e).Ar(),[2]}))}))}function AE(e){return Ff(this,void 0,void 0,(function(){var t,n,r,i;return Uf(this,(function(o){for(t=ME(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function RE(e,t,n){return Ff(this,void 0,void 0,(function(){var r,i;return Uf(this,(function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=lw.from(r,t,n),[4,CE(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,xE(e)];case 2:return o.sent(),[2]}}))}))}function DE(e,t){return Ff(this,void 0,void 0,(function(){return Uf(this,(function(n){switch(n.label){case 0:return t&&ME(e).pr?[4,function(e,t){return Ff(this,void 0,void 0,(function(){var n,r;return Uf(this,(function(i){switch(i.label){case 0:return Em(r=t.code)&&r!==rg.ABORTED?(n=e.Fr.shift(),ME(e).sr(),[4,CE(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,xE(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return NE(e)&&PE(e),[2]}}))}))}function LE(e,t){return Ff(this,void 0,void 0,(function(){var n;return Uf(this,(function(r){switch(r.label){case 0:return n=dg(e),t?(n.Or.delete(2),[4,dE(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,pE(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function jE(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=dg(e);return r.br(),new uE(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:kE.bind(null,e),Ri:IE.bind(null,e),_r:SE.bind(null,e)}),e.Mr.push((function(n){return Ff(t,void 0,void 0,(function(){return Uf(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),wE(e)?bE(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),EE(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function ME(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=dg(e);return r.br(),new cE(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:OE.bind(null,e),Ri:DE.bind(null,e),Ir:AE.bind(null,e),Tr:RE.bind(null,e)}),e.Mr.push((function(n){return Ff(t,void 0,void 0,(function(){return Uf(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,xE(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(sg("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var FE=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Qb,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ig(rg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function UE(e,t){if(ug("AsyncQueue",t+": "+e),nw(e))return new ig(rg.UNAVAILABLE,t+": "+e);throw e}var VE=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Vg.comparator(t.key,n.key)}:function(e,t){return Vg.comparator(e.key,t.key)},this.keyedMap=Am(),this.sortedSet=new Im(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),BE=function(){function e(){this.Qr=new Im(Vg.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):fg():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),qE=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,VE.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ly(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),KE=function(){this.Wr=void 0,this.listeners=[]},WE=function(){this.queries=new Jw((function(e){return jy(e)}),Ly),this.onlineState="Unknown",this.Gr=new Set};function zE(e,t){return Ff(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Uf(this,(function(c){switch(c.label){case 0:if(n=dg(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new KE),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=UE(s,"Initialization of query '"+My(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&XE(n),[2]}}))}))}function HE(e,t){return Ff(this,void 0,void 0,(function(){var n,r,i,o,a;return Uf(this,(function(s){return n=dg(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function GE(e,t){for(var n=dg(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&XE(n)}function YE(e,t,n){var r=dg(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function XE(e){e.Gr.forEach((function(e){e.next()}))}var QE=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new qE(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=qE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),JE=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),ZE=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return ib(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?lb(this.R,e.document,!1):ry.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return eb(e)},e}(),$E=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=ek(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new ZE(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||jm()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return Ff(this,void 0,void 0,(function(){var e,t,n,r,i;return Uf(this,(function(o){switch(o.label){case 0:return[4,N_(this.localStore,new ZE(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,P_(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new f_(Object.assign({},this.progress),e))]}}))}))},e}();function ek(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var tk=function(e){this.key=e},nk=function(e){this.key=e},rk=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=jm(),this.mutatedKeys=jm(),this.lo=Uy(e),this.fo=new VE(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new BE,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Cy(this.query)&&i.size===this.query.limit?i.last():null,c=xy(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Fy(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Cy(this.query)||xy(this.query))for(;a.size>this.query.limit;){var l=Cy(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fg()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new qE(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new BE,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=jm(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new nk(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new tk(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=jm();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return qE.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),ik=function(e,t,n){this.query=e,this.targetId=t,this.view=n},ok=function(e){this.key=e,this.bo=!1},ak=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Jw((function(e){return jy(e)}),Ly),this.Vo=new Map,this.So=new Set,this.Do=new Im(Vg.comparator),this.Co=new Map,this.No=new A_,this.xo={},this.ko=new Map,this.Fo=Uw.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function sk(e,t){return Ff(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Uf(this,(function(u){switch(u.label){case 0:return n=jk(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,k_(n.localStore,Ry(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,uk(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&vE(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function uk(e,t,n,r){return Ff(this,void 0,void 0,(function(){var i,o,a,s,u,c;return Uf(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return Ff(this,void 0,void 0,(function(){var i,o,a;return Uf(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,S_(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(_k(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,S_(e.localStore,t,!0)];case 1:return i=l.sent(),o=new rk(t,i.Bn),a=o._o(i.documents),s=Vm.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),_k(e,n,u.To),c=new ik(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function ck(e,t){return Ff(this,void 0,void 0,(function(){var n,r,i;return Uf(this,(function(o){switch(o.label){case 0:return n=dg(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!Ly(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,I_(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),gE(n.remoteStore,r.targetId),bk(n,r.targetId)})).catch(Ww)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return bk(n,r.targetId),[4,I_(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function lk(e,t,n){return Ff(this,void 0,void 0,(function(){var r,i,o,a;return Uf(this,(function(s){switch(s.label){case 0:r=Mk(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=dg(e),i=bg.now(),o=t.reduce((function(e,t){return e.add(t.key)}),jm());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=cm(c,n.get(c.key));null!=l&&a.push(new dm(c.key,l,ny(l.value.mapValue),im.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Im(gg)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Ik(r,i.changes)];case 3:return s.sent(),[4,xE(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=UE(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function fk(e,t){return Ff(this,void 0,void 0,(function(){var n,r;return Uf(this,(function(i){switch(i.label){case 0:n=dg(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,w_(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(hg(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?hg(r.bo):e.removedDocuments.size>0&&(hg(r.bo),r.bo=!1))})),[4,Ik(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Ww(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function hk(e,t,n){var r=dg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=dg(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&XE(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function dk(e,t,n){return Ff(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Uf(this,(function(c){switch(c.label){case 0:return(r=dg(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Im(Vg.comparator)).insert(o,ry.newNoDocument(o,wg.min())),s=jm().add(o),u=new Um(wg.min(),new Map,new Cm(gg),a,s),[4,fk(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),kk(r),[3,4];case 2:return[4,I_(r.localStore,t,!1).then((function(){return bk(r,t,n)})).catch(Ww)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function pk(e,t){return Ff(this,void 0,void 0,(function(){var n,r,i;return Uf(this,(function(o){switch(o.label){case 0:n=dg(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,m_(n.localStore,t)];case 2:return i=o.sent(),mk(n,r,null),yk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ik(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ww(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function vk(e,t,n){return Ff(this,void 0,void 0,(function(){var r,i;return Uf(this,(function(o){switch(o.label){case 0:r=dg(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=dg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return hg(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),mk(r,t,n),yk(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Ik(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ww(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function gk(e,t){return Ff(this,void 0,void 0,(function(){var n,r,i,o,a;return Uf(this,(function(s){switch(s.label){case 0:_E((n=dg(e)).remoteStore)||sg("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=dg(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=UE(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function yk(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function mk(e,t,n){var r=dg(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function bk(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||wk(e,t)}))}function wk(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(gE(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),kk(e))}function _k(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof tk?(e.No.addReference(o.key,t),Ek(e,o)):o instanceof nk?(sg("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||wk(e,o.key)):fg()}}function Ek(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(sg("SyncEngine","New document in limbo: "+n),e.So.add(r),kk(e))}function kk(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Vg(Sg.fromString(t)),r=e.Fo.next();e.Co.set(r,new ok(n)),e.Do=e.Do.insert(n,r),vE(e.remoteStore,new fw(Ry(Ty(n.path)),r,2,ng.o))}}function Ik(e,t,n){return Ff(this,void 0,void 0,(function(){var r,i,o,a;return Uf(this,(function(s){switch(s.label){case 0:return r=dg(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=d_.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return Ff(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return Uf(this,(function(f){switch(f.label){case 0:n=dg(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Jb.forEach(t,(function(t){return Jb.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return Jb.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!nw(r=f.sent()))throw r;return sg("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.kn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.kn=n.kn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Sk(e,t){return Ff(this,void 0,void 0,(function(){var n,r;return Uf(this,(function(i){switch(i.label){case 0:return(n=dg(e)).currentUser.isEqual(t)?[3,3]:(sg("SyncEngine","User change. New user:",t.toKey()),[4,y_(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new ig(rg.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Ik(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Tk(e,t){var n=dg(e),r=n.Co.get(t);if(r&&r.bo)return jm().add(r.key);var i=jm(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Ck(e,t){return Ff(this,void 0,void 0,(function(){var n,r,i;return Uf(this,(function(o){switch(o.label){case 0:return[4,S_((n=dg(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&_k(n,t.targetId,i.To),i)]}}))}))}function xk(e){return Ff(this,void 0,void 0,(function(){var t;return Uf(this,(function(n){return[2,C_((t=dg(e)).localStore).then((function(e){return Ik(t,e)}))]}))}))}function Nk(e,t,n,r){return Ff(this,void 0,void 0,(function(){var i,o;return Uf(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=dg(e),r=dg(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):Jb.resolve(null)}))}))}((i=dg(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,xE(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(mk(i,t,r||null),yk(i,t),function(e,t){dg(dg(e)._n).Gt(t)}(i.localStore,t)):fg(),a.label=4;case 4:return[4,Ik(i,o)];case 5:return a.sent(),[3,7];case 6:sg("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function Pk(e,t){return Ff(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Uf(this,(function(l){switch(l.label){case 0:return jk(n=dg(e)),Mk(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Ok(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,LE(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],vE(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return bk(n,t),I_(n.localStore,t,!0)})),gE(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,Ok(n,u)];case 5:return l.sent(),function(e){var t=dg(e);t.Co.forEach((function(e,n){gE(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Im(Vg.comparator)}(n),n.$o=!1,[4,LE(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function Ok(e,t,n){return Ff(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,h,d,p,v;return Uf(this,(function(g){switch(g.label){case 0:n=dg(e),r=[],i=[],o=0,a=t,g.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,k_(n.localStore,Ry(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,f=c,g.label=3;case 3:return l<f.length?(h=f[l],d=n.Po.get(h),[4,Ck(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,T_(n.localStore,s)];case 8:return v=g.sent(),[4,k_(n.localStore,v)];case 9:return u=g.sent(),[4,uk(n,Ak(v),s,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Ak(e){return Sy(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Rk(e){var t=dg(e);return dg(dg(t.localStore).persistence).fn()}function Dk(e,t,n,r){return Ff(this,void 0,void 0,(function(){var i,o,a;return Uf(this,(function(s){switch(s.label){case 0:return(i=dg(e)).$o?(sg("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,C_(i.localStore)];case 3:return o=s.sent(),a=Um.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Ik(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,I_(i.localStore,t,!0)];case 6:return s.sent(),bk(i,t,r),[3,8];case 7:fg(),s.label=8;case 8:return[2]}}))}))}function Lk(e,t,n){return Ff(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h;return Uf(this,(function(d){switch(d.label){case 0:if(!(r=jk(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(sg("SyncEngine","Adding an already active target "+a),[3,5]):[4,T_(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,k_(r.localStore,s)];case 3:return u=d.sent(),[4,uk(r,Ak(s),u.targetId,!1)];case 4:d.sent(),vE(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return Uf(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,I_(r.localStore,e,!1).then((function(){gE(r.remoteStore,e),bk(r,e)})).catch(Ww)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function jk(e){var t=dg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=fk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dk.bind(null,t),t.vo._r=GE.bind(null,t.eventManager),t.vo.Mo=YE.bind(null,t.eventManager),t}function Mk(e){var t=dg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vk.bind(null,t),t}function Fk(e,t,n){var r=dg(e);(function(e,t,n){return Ff(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Uf(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=c.sent(),[4,function(e,t){var n=dg(e),r=eb(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ke.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(e.localStore,r)];case 2:return c.sent()?[4,t.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(ek(r)),i=new $E(r,e.localStore,t.R),[4,t.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=c.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,Ik(e,s.wn,void 0)];case 12:return c.sent(),[4,function(e,t){var n=dg(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ke.saveBundleMetadata(e,t)}))}(e.localStore,r)];case 13:return c.sent(),n._completeWith(s.progress),[3,15];case 14:return cg("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Uk=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return Ff(this,void 0,void 0,(function(){return Uf(this,(function(t){switch(t.label){case 0:return this.R=oE(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return g_(this.persistence,new p_,e.initialUser,this.R)},e.prototype.qo=function(e){return new F_(V_.bs,this.R)},e.prototype.Bo=function(e){return new J_},e.prototype.terminate=function(){return Ff(this,void 0,void 0,(function(){return Uf(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),Vk=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Mf(t,e),t.prototype.initialize=function(t){return Ff(this,void 0,void 0,(function(){var n=this;return Uf(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,x_(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,Mk(this.Qo.syncEngine)];case 4:return r.sent(),[4,xE(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return g_(this.persistence,new p_,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Gw(t,e.asyncQueue)},t.prototype.qo=function(e){var t=l_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ow.withCacheSize(this.cacheSizeBytes):Ow.DEFAULT;return new s_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,rE(),iE(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new J_},t}(Uk),Bk=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Mf(t,e),t.prototype.initialize=function(t){return Ff(this,void 0,void 0,(function(){var n,r=this;return Uf(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Q_?(this.sharedClientState.syncEngine={ui:Nk.bind(null,n),ai:Dk.bind(null,n),hi:Lk.bind(null,n),fn:Rk.bind(null,n),ci:xk.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return Ff(r,void 0,void 0,(function(){return Uf(this,(function(t){switch(t.label){case 0:return[4,Pk(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=rE();if(!Q_.yt(t))throw new ig(rg.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=l_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Q_(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Vk),qk=function(){function e(){}return e.prototype.initialize=function(e,t){return Ff(this,void 0,void 0,(function(){var n=this;return Uf(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return hk(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Sk.bind(null,this.syncEngine),[4,LE(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new WE},e.prototype.createDatastore=function(e){var t,n=oE(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new nE(t));return function(e,t,n){return new lE(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return hk(a.syncEngine,e,0)},o=$_.yt()?new $_:new Z_,new hE(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new ak(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return Ff(this,void 0,void 0,(function(){var t;return Uf(this,(function(n){switch(n.label){case 0:return t=dg(e),sg("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,pE(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();function Kk(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return Ff(this,void 0,void 0,(function(){var r;return Uf(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return Ff(this,void 0,void 0,(function(){return Uf(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Wk=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),zk=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Qb,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return Ff(this,void 0,void 0,(function(){return Uf(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return Ff(this,void 0,void 0,(function(){return Uf(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return Ff(this,void 0,void 0,(function(){var e,t,n,r;return Uf(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new JE(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return Ff(this,void 0,void 0,(function(){var e,t;return Uf(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return Ff(this,void 0,void 0,(function(){var t;return Uf(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return Ff(this,void 0,void 0,(function(){var e,t;return Uf(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),Hk=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return Ff(this,void 0,void 0,(function(){var t,n=this;return Uf(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ig(rg.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Ff(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Uf(this,(function(u){switch(u.label){case 0:return n=dg(e),r=sb(n.R)+"/documents",i={documents:t.map((function(e){return rb(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){hg(!!t.found),t.found.name,t.found.updateTime;var n=ib(e,t.found.name),r=eb(t.found.updateTime),i=new ty({mapValue:{fields:t.found.fields}});return ry.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){hg(!!t.missing),hg(!!t.readTime);var n=ib(e,t.missing),r=eb(t.readTime);return ry.newNoDocument(n,r)}(e,t):fg()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());hg(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new bm(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return Ff(this,void 0,void 0,(function(){var e,t=this;return Uf(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Vg.fromPath(n);t.mutations.push(new wm(r,t.precondition(r)))})),[4,function(e,t){return Ff(this,void 0,void 0,(function(){var n,r,i;return Uf(this,(function(o){switch(o.label){case 0:return n=dg(e),r=sb(n.R)+"/documents",i={writes:t.map((function(e){return fb(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw fg();t=wg.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ig(rg.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?im.updateTime(t):im.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(wg.min()))throw new ig(rg.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return im.updateTime(t)}return im.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),Gk=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new aE(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return Ff(e,void 0,void 0,(function(){var e,t,n=this;return Uf(this,(function(r){return e=new Hk(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Mg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Em(t)}return!1},e}(),Yk=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=B_.UNAUTHENTICATED,this.clientId=vg.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return Ff(r,void 0,void 0,(function(){return Uf(this,(function(t){switch(t.label){case 0:return sg("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return Ff(this,void 0,void 0,(function(){return Uf(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ig(rg.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Qb;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Ff(e,void 0,void 0,(function(){var e,n;return Uf(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=UE(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function Xk(e,t){return Ff(this,void 0,void 0,(function(){var n,r,i=this;return Uf(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),sg("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return Ff(i,void 0,void 0,(function(){return Uf(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,y_(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function Qk(e,t){return Ff(this,void 0,void 0,(function(){var n,r;return Uf(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Jk(e)];case 1:return n=i.sent(),sg("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return Ff(this,void 0,void 0,(function(){var n,r;return Uf(this,(function(i){switch(i.label){case 0:return(n=dg(e)).asyncQueue.verifyOperationInProgress(),sg("RemoteStore","RemoteStore received new credentials"),r=_E(n),n.Or.add(3),[4,pE(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,dE(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function Jk(e){return Ff(this,void 0,void 0,(function(){return Uf(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(sg("FirestoreClient","Using default OfflineComponentProvider"),[4,Xk(e,new Uk)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function Zk(e){return Ff(this,void 0,void 0,(function(){return Uf(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(sg("FirestoreClient","Using default OnlineComponentProvider"),[4,Qk(e,new qk)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function $k(e){return Jk(e).then((function(e){return e.persistence}))}function eI(e){return Jk(e).then((function(e){return e.localStore}))}function tI(e){return Zk(e).then((function(e){return e.remoteStore}))}function nI(e){return Zk(e).then((function(e){return e.syncEngine}))}function rI(e){return Ff(this,void 0,void 0,(function(){var t,n;return Uf(this,(function(r){switch(r.label){case 0:return[4,Zk(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=sk.bind(null,t.syncEngine),n.onUnlisten=ck.bind(null,t.syncEngine),n)]}}))}))}function iI(e,t,n){var r=this;void 0===n&&(n={});var i=new Qb;return e.asyncQueue.enqueueAndForget((function(){return Ff(r,void 0,void 0,(function(){var r;return Uf(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Wk({next:function(o){t.enqueueAndForget((function(){return HE(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new ig(rg.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new ig(rg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new QE(Ty(n.path),o,{includeMetadataChanges:!0,so:!0});return zE(e,a)},[4,rI(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function oI(e,t,n){var r=this;void 0===n&&(n={});var i=new Qb;return e.asyncQueue.enqueueAndForget((function(){return Ff(r,void 0,void 0,(function(){var r;return Uf(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Wk({next:function(n){t.enqueueAndForget((function(){return HE(e,a)})),n.fromCache&&"server"===r.source?i.reject(new ig(rg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new QE(n,o,{includeMetadataChanges:!0,so:!0});return zE(e,a)},[4,rI(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var aI=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},sI=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),uI=new Map,cI=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},lI=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(B_.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),fI=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),hI=function(){function e(e){var t=this;this.currentUser=B_.UNAUTHENTICATED,this.oc=new Qb,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){sg("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(sg("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(sg("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(hg("string"==typeof n.accessToken),new cI(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return Ff(n,void 0,void 0,(function(){return Uf(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return hg(null===e||"string"==typeof e),new B_(e)},e}(),dI=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=B_.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),pI=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new dI(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(B_.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function vI(e,t,n){if(!n)throw new ig(rg.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function gI(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ig(rg.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function yI(e,t,n,r){if(!0===t&&!0===r)throw new ig(rg.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function mI(e){if(!Vg.isDocumentKey(e))throw new ig(rg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function bI(e){if(Vg.isDocumentKey(e))throw new ig(rg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function wI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":fg()}function _I(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ig(rg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=wI(e);throw new ig(rg.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function EI(e,t){if(t<=0)throw new ig(rg.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var kI=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ig(rg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ig(rg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,yI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),II=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kI({}),this._settingsFrozen=!1,e instanceof sI?(this._databaseId=e,this._credentials=new lI):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ig(rg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sI(e.options.projectId)}(e),this._credentials=new hI(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new ig(rg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new ig(rg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kI(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new lI;switch(e.type){case"gapi":var t=e.client;return hg(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new pI(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ig(rg.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=uI.get(this))&&(sg("ComponentProvider","Removing Datastore"),uI.delete(this),e.terminate()),Promise.resolve();var e},e}(),SI=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new CI(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),TI=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),CI=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Ty(r))||this)._path=r,i.type="collection",i}return Mf(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new SI(this.firestore,null,new Vg(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(TI);function xI(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,Bf.getModularInstance)(e),vI("collection","path",t),e instanceof II)return bI(n=Sg.fromString.apply(Sg,Vf([t],r))),new CI(e,null,n);if(!(e instanceof SI||e instanceof CI))throw new ig(rg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return bI(n=Sg.fromString.apply(Sg,Vf([e.path],r)).child(Sg.fromString(t))),new CI(e.firestore,null,n)}function NI(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,Bf.getModularInstance)(e),1===arguments.length&&(t=vg.u()),vI("doc","path",t),e instanceof II)return mI(n=Sg.fromString.apply(Sg,Vf([t],r))),new SI(e,null,new Vg(n));if(!(e instanceof SI||e instanceof CI))throw new ig(rg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return mI(n=e._path.child(Sg.fromString.apply(Sg,Vf([t],r)))),new SI(e.firestore,e instanceof CI?e.converter:null,new Vg(n))}function PI(e,t){return e=(0,Bf.getModularInstance)(e),t=(0,Bf.getModularInstance)(t),(e instanceof SI||e instanceof CI)&&(t instanceof SI||t instanceof CI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function OI(e,t){return e=(0,Bf.getModularInstance)(e),t=(0,Bf.getModularInstance)(t),e instanceof TI&&t instanceof TI&&e.firestore===t.firestore&&Ly(e._query,t._query)&&e.converter===t.converter}var AI=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new aE(this,"async_queue_retry"),this.Ic=function(){var t=iE();t&&sg("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=iE();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=iE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Qb;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return Ff(this,void 0,void 0,(function(){var e,t=this;return Uf(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!nw(e=n.sent()))throw e;return sg("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,ug("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=FE.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&fg()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return Ff(this,void 0,void 0,(function(){var e;return Uf(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function RI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var DI=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Qb,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),LI=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new AI,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Mf(t,e),t.prototype._terminate=function(){return this._firestoreClient||MI(this),this._firestoreClient.terminate()},t}(II);function jI(e){return e._firestoreClient||MI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function MI(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new aI(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Yk(e._credentials,e._queue,r)}function FI(e,t,n){var r=this,i=new Qb;return e.asyncQueue.enqueue((function(){return Ff(r,void 0,void 0,(function(){var r;return Uf(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Xk(e,n)];case 1:return o.sent(),[4,Qk(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===rg.FAILED_PRECONDITION||e.code===rg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function UI(e){if(e._initialized||e._terminated)throw new ig(rg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var VI=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new ig(rg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cg(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),BI=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(Ng.fromBase64String(t))}catch(t){throw new ig(rg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Ng.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),qI=function(e){this._methodName=e},KI=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new ig(rg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ig(rg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return gg(this._lat,e._lat)||gg(this._long,e._long)},e}(),WI=/^__.*__$/,zI=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new dm(e,this.data,this.fieldMask,t,this.fieldTransforms):new hm(e,this.data,t,this.fieldTransforms)},e}(),HI=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new dm(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function GI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fg()}}var YI=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return pS(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(GI(this.Nc)&&WI.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),XI=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||oE(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new YI({Nc:e,methodName:t,qc:n,path:Cg.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function QI(e){var t=e._freezeSettings(),n=oE(e._databaseId);return new XI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function JI(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);lS("Data must be an object, but it was:",a,r);var s,u,c=uS(r,a);if(o.merge)s=new xg(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=fS(t,h[f],n);if(!a.contains(d))throw new ig(rg.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");vS(l,d)||l.push(d)}s=new xg(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new zI(new ty(c),s,u)}var ZI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mf(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(qI);function $I(e,t,n){return new YI({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var eS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mf(t,e),t.prototype._toFieldTransform=function(e){return new nm(e.path,new Yy)},t.prototype.isEqual=function(e){return e instanceof t},t}(qI),tS=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Mf(t,e),t.prototype._toFieldTransform=function(e){var t=$I(this,e,!0),n=this.Kc.map((function(e){return sS(e,t)})),r=new Xy(n);return new nm(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(qI),nS=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Mf(t,e),t.prototype._toFieldTransform=function(e){var t=$I(this,e,!0),n=this.Kc.map((function(e){return sS(e,t)})),r=new Jy(n);return new nm(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(qI),rS=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return Mf(t,e),t.prototype._toFieldTransform=function(e){var t=new $y(e.R,Ky(e.R,this.Qc));return new nm(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(qI);function iS(e,t,n,r){var i=e.Uc(1,t,n);lS("Data must be an object, but it was:",i,r);var o=[],a=ty.empty();Eg(r,(function(e,r){var s=dS(t,e,n);r=(0,Bf.getModularInstance)(r);var u=i.Oc(s);if(r instanceof ZI)o.push(s);else{var c=sS(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new xg(o);return new HI(a,s,i.fieldTransforms)}function oS(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[fS(t,r,n)],u=[i];if(o.length%2!=0)throw new ig(rg.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(fS(t,o[c])),u.push(o[c+1]);for(var l=[],f=ty.empty(),h=s.length-1;h>=0;--h)if(!vS(l,s[h])){var d=s[h],p=u[h];p=(0,Bf.getModularInstance)(p);var v=a.Oc(d);if(p instanceof ZI)l.push(d);else{var g=sS(p,v);null!=g&&(l.push(d),f.set(d,g))}}var y=new xg(l);return new HI(f,y,a.fieldTransforms)}function aS(e,t,n,r){return void 0===r&&(r=!1),sS(n,e.Uc(r?4:3,t))}function sS(e,t){if(cS(e=(0,Bf.getModularInstance)(e)))return lS("Unsupported field value:",t,e),uS(e,t);if(e instanceof qI)return function(e,t){if(!GI(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=sS(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,Bf.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ky(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=bg.fromDate(e);return{timestampValue:Jm(t.R,n)}}if(e instanceof bg)return n=new bg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Jm(t.R,n)};if(e instanceof KI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof BI)return{bytesValue:Zm(t.R,e._byteString)};if(e instanceof SI){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:tb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+wI(e))}(e,t)}function uS(e,t){var n={};return kg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Eg(e,(function(e,r){var i=sS(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function cS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof bg||e instanceof KI||e instanceof BI||e instanceof SI||e instanceof qI)}function lS(e,t,n){if(!cS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=wI(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function fS(e,t,n){if((t=(0,Bf.getModularInstance)(t))instanceof VI)return t._internalPath;if("string"==typeof t)return dS(e,t);throw pS("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var hS=new RegExp("[~\\*/\\[\\]]");function dS(e,t,n){if(t.search(hS)>=0)throw pS("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(VI.bind.apply(VI,Vf([void 0],t.split(".")))))._internalPath}catch(mT){throw pS("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function pS(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new ig(rg.INVALID_ARGUMENT,(s+=". ")+e+u)}function vS(e,t){return e.some((function(e){return e.isEqual(t)}))}var gS=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new SI(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new yS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(mS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),yS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mf(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(gS);function mS(e,t){return"string"==typeof t?dS(e,t):t instanceof VI?t._internalPath:t._delegate._internalPath}var bS=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),wS=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return Mf(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new _S(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(mS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(gS),_S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mf(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(wS),ES=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new bS(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new _S(n._firestore,n._userDataWriter,r.key,r,new bS(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ig(rg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new _S(e._firestore,e._userDataWriter,t.doc.key,t.doc,new bS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new _S(e._firestore,e._userDataWriter,t.doc.key,t.doc,new bS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:kS(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function kS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fg()}}function IS(e,t){return e instanceof wS&&t instanceof wS?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof ES&&t instanceof ES&&e._firestore===t._firestore&&OI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function SS(e){if(xy(e)&&0===e.explicitOrderBy.length)throw new ig(rg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var TS=function(){};function CS(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var xS=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return Mf(t,e),t.prototype._apply=function(e){var t=QI(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ig(rg.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){LS(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var f=l[c];u.push(DS(r,e,f))}s={arrayValue:{values:u}}}else s=DS(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||LS(a,o),s=aS(n,"where",a,"in"===o||"not-in"===o);var h=cy.create(i,o,s);return function(e,t){if(t.g()){var n=Py(e);if(null!==n&&!n.isEqual(t.field))throw new ig(rg.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Ny(e);null!==r&&jS(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new ig(rg.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new ig(rg.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new TI(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Iy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(TS),NS=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return Mf(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new ig(rg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ig(rg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new wy(t,n);return function(e,t){if(null===Ny(e)){var n=Py(e);null!==n&&jS(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new TI(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Iy(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(TS),PS=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return Mf(t,e),t.prototype._apply=function(e){return new TI(e.firestore,e.converter,Dy(e._query,this.Hc,this.Jc))},t}(TS),OS=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Mf(t,e),t.prototype._apply=function(e){var t=RS(e,this.type,this.Yc,this.Xc);return new TI(e.firestore,e.converter,function(e,t){return new Iy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(TS),AS=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Mf(t,e),t.prototype._apply=function(e){var t=RS(e,this.type,this.Yc,this.Xc);return new TI(e.firestore,e.converter,function(e,t){return new Iy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(TS);function RS(e,t,n,r){if(n[0]=(0,Bf.getModularInstance)(n[0]),n[0]instanceof gS)return function(e,t,n,r,i){if(!r)throw new ig(rg.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Ay(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Yg(t,r.key));else{var c=r.data.field(u.field);if(Dg(c))throw new ig(rg.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new ig(rg.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new my(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=QI(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new ig(rg.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new ig(rg.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Oy(e)&&-1!==c.indexOf("/"))throw new ig(rg.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Sg.fromString(c));if(!Vg.isDocumentKey(l))throw new ig(rg.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new Vg(l);s.push(Yg(t,f))}else{var h=aS(n,r,c);s.push(h)}}return new my(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function DS(e,t,n){if("string"==typeof(n=(0,Bf.getModularInstance)(n))){if(""===n)throw new ig(rg.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Oy(t)&&-1!==n.indexOf("/"))throw new ig(rg.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Sg.fromString(n));if(!Vg.isDocumentKey(r))throw new ig(rg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Yg(e,new Vg(r))}if(n instanceof SI)return Yg(e,n._key);throw new ig(rg.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+wI(n)+".")}function LS(e,t){if(!Array.isArray(e)||0===e.length)throw new ig(rg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new ig(rg.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function jS(e,t,n){if(!n.isEqual(t))throw new ig(rg.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var MS=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Bg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ag(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw fg()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Eg(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new KI(Ag(e.latitude),Ag(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=Lg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(jg(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Og(e);return new bg(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Sg.fromString(e);hg(Tb(n));var r=new sI(n.get(1),n.get(3)),i=new Vg(n.popFirst(5));return r.isEqual(t)||ug("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function FS(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var US=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Mf(t,e),t.prototype.convertBytes=function(e){return new BI(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new SI(this.firestore,null,t)},t}(MS),VS=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=QI(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=BS(e,this._firestore),i=FS(r.converter,t,n),o=JI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,im.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=BS(e,this._firestore);return o="string"==typeof(t=(0,Bf.getModularInstance)(t))||t instanceof VI?oS(this._dataReader,"WriteBatch.update",a._key,t,n,r):iS(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,im.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=BS(e,this._firestore);return this._mutations=this._mutations.concat(new bm(t._key,im.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new ig(rg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function BS(e,t){if((e=(0,Bf.getModularInstance)(e)).firestore!==t)throw new ig(rg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var qS=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Mf(t,e),t.prototype.convertBytes=function(e){return new BI(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new SI(this.firestore,null,t)},t}(MS);function KS(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=_I(e,SI);var o=_I(e.firestore,LI),a=QI(o);return zS(o,[("string"==typeof(t=(0,Bf.getModularInstance)(t))||t instanceof VI?oS(a,"updateDoc",e._key,t,n,r):iS(a,"updateDoc",e._key,t)).toMutation(e._key,im.exists(!0))])}function WS(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=(0,Bf.getModularInstance)(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||RI(i[s])||(a=i[s],s++);var u,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(RI(i[s])){var h=i[s];i[s]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(e instanceof SI)c=_I(e.firestore,LI),l=Ty(e._key.path),u={next:function(t){i[s]&&i[s](HS(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=_I(e,TI);c=_I(d.firestore,LI),l=d._query;var p=new qS(c);u={next:function(e){i[s]&&i[s](new ES(c,p,d,e))},error:i[s+1],complete:i[s+2]},SS(e._query)}return function(e,t,n,r){var i=this,o=new Wk(r),a=new QE(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return Ff(i,void 0,void 0,(function(){var t;return Uf(this,(function(n){switch(n.label){case 0:return t=zE,[4,rI(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return Ff(i,void 0,void 0,(function(){var t;return Uf(this,(function(n){switch(n.label){case 0:return t=HE,[4,rI(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(jI(c),l,f,u)}function zS(e,t){return function(e,t){var n=this,r=new Qb;return e.asyncQueue.enqueueAndForget((function(){return Ff(n,void 0,void 0,(function(){var n;return Uf(this,(function(i){switch(i.label){case 0:return n=lk,[4,nI(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(jI(e),t)}function HS(e,t,n){var r=n.docs.get(t._key),i=new qS(e);return new wS(e,i,t._key,r,new bS(n.hasPendingWrites,n.fromCache),t.converter)}var GS=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return Mf(t,e),t.prototype.get=function(t){var n=this,r=BS(t,this._firestore),i=new qS(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new wS(n._firestore,i,r._key,e._document,new bS(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=QI(e)}return e.prototype.get=function(e){var t=this,n=BS(e,this._firestore),r=new US(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return fg();var i=e[0];if(i.isFoundDocument())return new gS(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new gS(t._firestore,r,n._key,null,n.converter);throw fg()}))},e.prototype.set=function(e,t,n){var r=BS(e,this._firestore),i=FS(r.converter,t,n),o=JI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=BS(e,this._firestore);return o="string"==typeof(t=(0,Bf.getModularInstance)(t))||t instanceof VI?oS(this._dataReader,"Transaction.update",a._key,t,n,r):iS(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=BS(e,this._firestore);return this._transaction.delete(t._key),this},e}());function YS(){if("undefined"==typeof Uint8Array)throw new ig(rg.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function XS(){if("undefined"==typeof atob)throw new ig(rg.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var QS=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return XS(),new e(BI.fromBase64String(t))},e.fromUint8Array=function(t){return YS(),new e(BI.fromUint8Array(t))},e.prototype.toBase64=function(){return XS(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return YS(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),JS=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){UI(e=_I(e,LI));var n=jI(e),r=e._freezeSettings(),i=new qk;return FI(n,i,new Vk(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){UI(e=_I(e,LI));var t=jI(e),n=e._freezeSettings(),r=new qk;return FI(t,r,new Bk(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new ig(rg.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Qb;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return Ff(t,void 0,void 0,(function(){var t;return Uf(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return Ff(this,void 0,void 0,(function(){var t;return Uf(this,(function(n){switch(n.label){case 0:return $b.yt()?(t=e+"main",[4,$b.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(l_(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),ZS=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof sI||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||cg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=_I(e,II))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&cg("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=B_.MOCK_USER;else{a=(0,Bf.createMockUserToken)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ig(rg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new B_(u)}e._credentials=new fI(new cI(a,s))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Ff(t,void 0,void 0,(function(){var t,n;return Uf(this,(function(r){switch(r.label){case 0:return[4,$k(e)];case 1:return t=r.sent(),[4,tI(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=dg(e);return t.Or.delete(0),dE(t)}(n))]}}))}))}))}(jI(_I(this._delegate,LI)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Ff(t,void 0,void 0,(function(){var t,n;return Uf(this,(function(r){switch(r.label){case 0:return[4,$k(e)];case 1:return t=r.sent(),[4,tI(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return Ff(this,void 0,void 0,(function(){var t;return Uf(this,(function(n){switch(n.label){case 0:return(t=dg(e)).Or.add(0),[4,pE(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(jI(_I(this._delegate,LI)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&yI("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Qb;return e.asyncQueue.enqueueAndForget((function(){return Ff(t,void 0,void 0,(function(){var t;return Uf(this,(function(r){switch(r.label){case 0:return t=gk,[4,nI(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(jI(_I(this._delegate,LI)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Wk(t);return e.asyncQueue.enqueueAndForget((function(){return Ff(n,void 0,void 0,(function(){var t;return Uf(this,(function(n){switch(n.label){case 0:return t=function(e,t){dg(e).Gr.add(t),t.next()},[4,rI(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return Ff(n,void 0,void 0,(function(){var t;return Uf(this,(function(n){switch(n.label){case 0:return t=function(e,t){dg(e).Gr.delete(t)},[4,rI(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(jI(e=_I(e,LI)),RI(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new ig(rg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new hT(this,xI(this._delegate,e))}catch(e){throw iT(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new rT(this,NI(this._delegate,e))}catch(e){throw iT(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new cT(this,function(e,t){if(e=_I(e,II),vI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ig(rg.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new TI(e,null,function(e){return new Iy(Sg.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw iT(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Qb;return e.asyncQueue.enqueueAndForget((function(){return Ff(n,void 0,void 0,(function(){var n;return Uf(this,(function(i){switch(i.label){case 0:return[4,function(e){return Zk(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new Gk(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(jI(e),(function(n){return t(new GS(e,n))}))}(this._delegate,(function(n){return e(new eT(t,n))}))},e.prototype.batch=function(){var e=this;return jI(this._delegate),new tT(new VS(this._delegate,(function(t){return zS(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new ig(rg.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new ig(rg.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),$S=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Mf(t,e),t.prototype.convertBytes=function(e){return new QS(new BI(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return rT.eu(t,this.firestore,null)},t}(MS);var eT=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new $S(e)}return e.prototype.get=function(e){var t=this,n=dT(e);return this._delegate.get(n).then((function(e){return new sT(t._firestore,new wS(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=dT(e);return n?(gI("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=dT(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,Vf([a,t,n],i)),this},e.prototype.delete=function(e){var t=dT(e);return this._delegate.delete(t),this},e}(),tT=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=dT(e);return n?(gI("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=dT(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,Vf([a,t,n],i)),this},e.prototype.delete=function(e){var t=dT(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),nT=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new _S(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new uT(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new $S(t),n),i.set(n,o)),o},e}();nT.su=new WeakMap;var rT=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $S(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new ig(rg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new SI(n._delegate,r,new Vg(t)))},e.eu=function(t,n,r){return new e(n,new SI(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new hT(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new hT(this.firestore,xI(this._delegate,e))}catch(e){throw iT(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,Bf.getModularInstance)(e))instanceof SI&&PI(this._delegate,e)},e.prototype.set=function(e,t){t=gI("DocumentReference.set",t);try{return function(e,t,n){e=_I(e,SI);var r=_I(e.firestore,LI),i=FS(e.converter,t,n);return zS(r,[JI(QI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,im.none())])}(this._delegate,e,t)}catch(e){throw iT(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?KS(this._delegate,e):KS.apply(void 0,Vf([this._delegate,e,t],n))}catch(e){throw iT(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return zS(_I((e=this._delegate).firestore,LI),[new bm(e._key,im.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=oT(t),i=aT(t,(function(t){return new sT(e.firestore,new wS(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return WS(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=_I(e,SI);var t=_I(e.firestore,LI),n=jI(t),r=new qS(t);return function(e,t){var n=this,r=new Qb;return e.asyncQueue.enqueueAndForget((function(){return Ff(n,void 0,void 0,(function(){var n;return Uf(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Ff(this,void 0,void 0,(function(){var r,i;return Uf(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=dg(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new ig(rg.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=UE(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,eI(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new wS(t,r,e._key,n,new bS(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=_I(e,SI);var t=_I(e.firestore,LI);return iI(jI(t),e._key,{source:"server"}).then((function(n){return HS(t,e,n)}))}(this._delegate):function(e){e=_I(e,SI);var t=_I(e.firestore,LI);return iI(jI(t),e._key).then((function(n){return HS(t,e,n)}))}(this._delegate)).then((function(e){return new sT(t.firestore,new wS(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(nT.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function iT(e,t,n){return e.message=e.message.replace(t,n),e}function oT(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!RI(r))return r}return{}}function aT(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=RI(e[0])?e[0]:RI(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var sT=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new rT(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return IS(this._delegate,e._delegate)},e}(),uT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mf(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(sT),cT=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $S(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,CS(this._delegate,function(e,t,n){var r=t,i=mS("where",e);return new xS(i,r,n)}(t,n,r)))}catch(t){throw iT(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,CS(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=mS("orderBy",e);return new NS(r,n)}(t,n)))}catch(t){throw iT(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,CS(this._delegate,function(e){return EI("limit",e),new PS("limit",e,"F")}(t)))}catch(t){throw iT(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,CS(this._delegate,function(e){return EI("limitToLast",e),new PS("limitToLast",e,"L")}(t)))}catch(t){throw iT(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,CS(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new OS("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw iT(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,CS(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new OS("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw iT(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,CS(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new AS("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw iT(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,CS(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new AS("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw iT(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return OI(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=_I(e,TI);var t=_I(e.firestore,LI),n=jI(t),r=new qS(t);return function(e,t){var n=this,r=new Qb;return e.asyncQueue.enqueueAndForget((function(){return Ff(n,void 0,void 0,(function(){var n;return Uf(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Ff(this,void 0,void 0,(function(){var r,i,o,a,s;return Uf(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,S_(e,t,!0)];case 1:return s=u.sent(),r=new rk(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=UE(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,eI(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new ES(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=_I(e,TI);var t=_I(e.firestore,LI),n=jI(t),r=new qS(t);return oI(n,e._query,{source:"server"}).then((function(n){return new ES(t,r,e,n)}))}(this._delegate):function(e){e=_I(e,TI);var t=_I(e.firestore,LI),n=jI(t),r=new qS(t);return SS(e._query),oI(n,e._query).then((function(n){return new ES(t,r,e,n)}))}(this._delegate)).then((function(e){return new fT(t.firestore,new ES(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=oT(t),i=aT(t,(function(t){return new fT(e.firestore,new ES(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return WS(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(nT.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),lT=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new uT(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),fT=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new cT(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new uT(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new lT(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new uT(n._firestore,r))}))},e.prototype.isEqual=function(e){return IS(this._delegate,e._delegate)},e}(),hT=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return Mf(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new rT(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new rT(this.firestore,void 0===e?NI(this._delegate):NI(this._delegate,e))}catch(e){throw iT(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=_I(e.firestore,LI),r=NI(e),i=FS(e.converter,t);return zS(n,[JI(QI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,im.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new rT(t.firestore,e)}))},t.prototype.isEqual=function(e){return PI(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(nT.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(cT);function dT(e){return _I(e,SI)}var pT=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(VI.bind.apply(VI,Vf([void 0],e)))}return e.documentId=function(){return new e(Cg.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,Bf.getModularInstance)(e))instanceof VI&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),vT=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new eS("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new ZI("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new tS("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new nS("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new rS("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();function gT(e){return function(e,t){var n=jI(e=_I(e,LI)),r=new DI;return function(e,t,n,r){var i=this,o=function(e,t){return function(e,t){return new zk(e,t)}(function(e,t){if(e instanceof Uint8Array)return Kk(e,t);if(e instanceof ArrayBuffer)return Kk(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,oE(t));e.asyncQueue.enqueueAndForget((function(){return Ff(i,void 0,void 0,(function(){var t;return Uf(this,(function(n){switch(n.label){case 0:return t=Fk,[4,nI(e)];case 1:return t.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,e._databaseId,t,r),r}(this._delegate,e)}function yT(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return Ff(n,void 0,void 0,(function(){var n;return Uf(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=dg(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ke.getNamedQuery(e,t)}))},[4,eI(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(jI(t=_I(t,LI)),n).then((function(e){return e?new TI(t,null,e.query):null}))).then((function(e){return e?new cT(r,e):null}))}var mT,bT=n(181),wT={Firestore:ZS,GeoPoint:KI,Timestamp:bg,Blob:QS,Transaction:eT,WriteBatch:tT,DocumentReference:rT,DocumentSnapshot:sT,Query:cT,QueryDocumentSnapshot:uT,QuerySnapshot:fT,CollectionReference:hT,FieldPath:pT,FieldValue:vT,setLogLevel:function(e){var t;t=e,og.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new bT.Component("firestore",(function(e){return function(e,t){return new ZS(e,new LI(e,t),new JS)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},wT)))})(mT=Lf.default),mT.registerVersion("@firebase/firestore","2.4.0"),function(e){e.prototype.loadBundle=gT,e.prototype.namedQuery=yT}(ZS);var _T=function(e,t){return _T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},_T(e,t)};function ET(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(mT){o(mT)}}function s(e){try{u(r.throw(e))}catch(mT){o(mT)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function kT(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(mT){o=[6,mT],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;Object.create;var IT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ST=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}_T(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error);var TT=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return ET(this,void 0,void 0,(function(){var e;return kT(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return ET(this,void 0,void 0,(function(){return kT(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return ET(this,void 0,void 0,(function(){var e,t;return kT(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function CT(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var xT=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"===typeof e||"object"===typeof e)return CT(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"===typeof e||"object"===typeof e?CT(e,(function(e){return t.decode(e)})):e},e}();var NT=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new xT,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new TT(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(mT){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return ET(this,void 0,void 0,(function(){var r,i,o;return kT(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return ET(this,void 0,void 0,(function(){var e;return kT(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return ET(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h,d;return kT(this,(function(p){switch(p.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new ST("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([PT(c,this.postJSON(r,i,o)),l,PT(c,this.cancelAllRequests)])];case 2:if(!(f=p.sent()))throw new ST("cancelled","Firebase Functions instance was deleted.");if(h=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"===typeof s){if(!IT[s])return new ST("internal","internal");r=IT[s],i=s}var u=a.message;"string"===typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(mT){}return"ok"===r?null:new ST(r,i,o)}(f.status,f.json,this.serializer),h)throw h;if(!f.json)throw new ST("internal","Response is not valid JSON object.");if("undefined"===typeof(d=f.json.data)&&(d=f.json.result),"undefined"===typeof d)throw new ST("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},e}();function PT(e,t){return ET(this,void 0,void 0,(function(){var n;return kT(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:NT};e.INTERNAL.registerComponent(new bT.Component("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new NT(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(Lf.default,fetch.bind(self)),Lf.default.registerVersion("@firebase/functions","0.6.15");var OT=function(){return OT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},OT.apply(this,arguments)};function AT(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(mT){o(mT)}}function s(e){try{u(r.throw(e))}catch(mT){o(mT)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function RT(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(mT){o=[6,mT],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function DT(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function LT(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}Object.create;var jT,MT=n(494),FT="0.4.32",UT=1e4,VT="w:0.4.32",BT="FIS_v2",qT=36e5,KT=((jT={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',jT["not-registered"]="Firebase Installation is not registered.",jT["installation-not-found"]="Firebase Installation not found.",jT["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',jT["app-offline"]="Could not process request. Application offline.",jT["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",jT),WT=new Bf.ErrorFactory("installations","Installations",KT);function zT(e){return e instanceof Bf.FirebaseError&&e.code.includes("request-failed")}function HT(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function GT(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function YT(e,t){return AT(this,void 0,void 0,(function(){var n,r;return RT(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,WT.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function XT(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function QT(e,t){var n=t.refreshToken,r=XT(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function JT(e){return AT(this,void 0,void 0,(function(){var t;return RT(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function ZT(e,t){var n=t.fid;return AT(this,void 0,void 0,(function(){var t,r,i,o,a,s;return RT(this,(function(u){switch(u.label){case 0:return t=HT(e),r=XT(e),i={fid:n,authVersion:BT,appId:e.appId,sdkVersion:VT},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,JT((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:GT(s.authToken)}];case 3:return[4,YT("Create Installation",a)];case 4:throw u.sent()}}))}))}function $T(e){return new Promise((function(t){setTimeout(t,e)}))}function eC(e){var t=btoa(String.fromCharCode.apply(String,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],LT(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}var tC=/^[cdef][\w-]{21}$/;function nC(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return eC(e).substr(0,22)}(e);return tC.test(t)?t:""}catch(ql){return""}}function rC(e){return e.appName+"!"+e.appId}var iC=new Map;function oC(e,t){var n=rC(e);aC(n,t),function(e,t){var n=uC();n&&n.postMessage({key:e,fid:t});cC()}(n,t)}function aC(e,t){var n,r,i=iC.get(e);if(i)try{for(var o=DT(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var sC=null;function uC(){return!sC&&"BroadcastChannel"in self&&((sC=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){aC(e.data.key,e.data.fid)}),sC}function cC(){0===iC.size&&sC&&(sC.close(),sC=null)}var lC,fC="firebase-installations-store",hC=null;function dC(){return hC||(hC=(0,MT.openDb)("firebase-installations-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(fC)}))),hC}function pC(e,t){return AT(this,void 0,void 0,(function(){var n,r,i,o,a;return RT(this,(function(s){switch(s.label){case 0:return n=rC(e),[4,dC()];case 1:return r=s.sent(),i=r.transaction(fC,"readwrite"),[4,(o=i.objectStore(fC)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||oC(e,t.fid),[2,t]}}))}))}function vC(e){return AT(this,void 0,void 0,(function(){var t,n,r;return RT(this,(function(i){switch(i.label){case 0:return t=rC(e),[4,dC()];case 1:return n=i.sent(),[4,(r=n.transaction(fC,"readwrite")).objectStore(fC).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function gC(e,t){return AT(this,void 0,void 0,(function(){var n,r,i,o,a,s;return RT(this,(function(u){switch(u.label){case 0:return n=rC(e),[4,dC()];case 1:return r=u.sent(),i=r.transaction(fC,"readwrite"),[4,(o=i.objectStore(fC)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||oC(e,s.fid),[2,s]}}))}))}function yC(e){return AT(this,void 0,void 0,(function(){var t,n,r;return RT(this,(function(i){switch(i.label){case 0:return[4,gC(e,(function(n){var r=function(e){return wC(e||{fid:nC(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(WT.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return AT(this,void 0,void 0,(function(){var n,r;return RT(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,ZT(e,t)];case 1:return n=i.sent(),[2,pC(e,n)];case 2:return zT(r=i.sent())&&409===r.customData.serverCode?[4,vC(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,pC(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:mC(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function mC(e){return AT(this,void 0,void 0,(function(){var t,n,r,i;return RT(this,(function(o){switch(o.label){case 0:return[4,bC(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,$T(100)];case 3:return o.sent(),[4,bC(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,yC(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function bC(e){return gC(e,(function(e){if(!e)throw WT.create("installation-not-found");return wC(e)}))}function wC(e){return 1===(t=e).registrationStatus&&t.registrationTime+UT<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function _C(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return AT(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return RT(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return HT(e)+"/"+n+"/authTokens:generate"}(n,t),i=QT(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:VT}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,JT((function(){return fetch(e,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,GT(c)];case 3:return[4,YT("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function EC(e,t){return void 0===t&&(t=!1),AT(this,void 0,void 0,(function(){var n,r,i;return RT(this,(function(o){switch(o.label){case 0:return[4,gC(e.appConfig,(function(r){if(!IC(r))throw WT.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+qT}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return AT(this,void 0,void 0,(function(){var n,r;return RT(this,(function(i){switch(i.label){case 0:return[4,kC(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,$T(100)];case 3:return i.sent(),[4,kC(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,EC(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw WT.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return OT(OT({},e),{authToken:t})}(r);return n=function(e,t){return AT(this,void 0,void 0,(function(){var n,r,i;return RT(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,_C(e,t)];case 1:return n=o.sent(),i=OT(OT({},t),{authToken:n}),[4,pC(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!zT(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,vC(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=OT(OT({},t),{authToken:{requestStatus:0}}),[4,pC(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function kC(e){return gC(e,(function(e){if(!IC(e))throw WT.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+UT<Date.now()?OT(OT({},e),{authToken:{requestStatus:0}}):e}))}function IC(e){return void 0!==e&&2===e.registrationStatus}function SC(e){return AT(this,void 0,void 0,(function(){var t;return RT(this,(function(n){switch(n.label){case 0:return[4,yC(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function TC(e,t){return AT(this,void 0,void 0,(function(){var n,r,i,o;return RT(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return HT(e)+"/"+n}(e,t),r=QT(e,t),i={method:"DELETE",headers:r},[4,JT((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,YT("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function CC(e,t){var n=e.appConfig;return function(e,t){uC();var n=rC(e),r=iC.get(n);r||(r=new Set,iC.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=rC(e),r=iC.get(n);r&&(r.delete(t),0===r.size&&iC.delete(n),cC())}(n,t)}}function xC(e){return WT.create("missing-app-config-values",{valueName:e})}(lC=Lf.default).INTERNAL.registerComponent(new bT.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw xC("App Configuration");if(!e.name)throw xC("App Name");try{for(var r=DT(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw xC(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),r={appConfig:n,platformLoggerProvider:e.getProvider("platform-logger")},i={app:t,getId:function(){return function(e){return AT(this,void 0,void 0,(function(){var t,n,r;return RT(this,(function(i){switch(i.label){case 0:return[4,yC(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):EC(e).catch(console.error),[2,n.fid]}}))}))}(r)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),AT(this,void 0,void 0,(function(){return RT(this,(function(n){switch(n.label){case 0:return[4,SC(e.appConfig)];case 1:return n.sent(),[4,EC(e,t)];case 2:return[2,n.sent().token]}}))}))}(r,e)},delete:function(){return function(e){return AT(this,void 0,void 0,(function(){var t,n;return RT(this,(function(r){switch(r.label){case 0:return[4,gC(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw WT.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw WT.create("app-offline");case 3:return[4,TC(t,n)];case 4:return r.sent(),[4,vC(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(r)},onIdChange:function(e){return CC(r,e)}};return i}),"PUBLIC")),lC.registerVersion("@firebase/installations",FT);var NC=function(){return NC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},NC.apply(this,arguments)};function PC(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(mT){o(mT)}}function s(e){try{u(r.throw(e))}catch(mT){o(mT)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function OC(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(mT){o=[6,mT],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function AC(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function RC(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}Object.create;var DC,LC,jC=n(365),MC=((DC={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',DC["only-available-in-window"]="This method is available in a Window context.",DC["only-available-in-sw"]="This method is available in a service worker context.",DC["permission-default"]="The notification permission was not granted and dismissed instead.",DC["permission-blocked"]="The notification permission was not granted and blocked instead.",DC["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",DC["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",DC["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",DC["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",DC["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",DC["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",DC["token-update-no-token"]="FCM returned no token when updating the user to push.",DC["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",DC["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",DC["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",DC["invalid-vapid-key"]="The public VAPID key must be a string.",DC["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",DC),FC=new Bf.ErrorFactory("messaging","Messaging",MC),UC="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",VC="google.c.a.c_id";function BC(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],RC(t))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function qC(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(LC||(LC={}));var KC="fcm_token_details_db",WC="fcm_token_object_Store";function zC(e){return PC(this,void 0,void 0,(function(){var t,n,r,i=this;return OC(this,(function(o){switch(o.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=o.sent(),n=t.map((function(e){return e.name})),!n.includes(KC))return[2,null];o.label=2;case 2:return r=null,[4,(0,jC.openDb)(KC,5,(function(t){return PC(i,void 0,void 0,(function(){var n,i,o,a;return OC(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains(WC)?[4,(n=t.transaction.objectStore(WC)).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];r={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:BC(o.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(r={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:BC(o.auth),p256dh:BC(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:BC(o.vapidKey)}});return[2]}}))}))}))];case 3:return o.sent().close(),[4,(0,jC.deleteDb)(KC)];case 4:return o.sent(),[4,(0,jC.deleteDb)("fcm_vapid_details_db")];case 5:return o.sent(),[4,(0,jC.deleteDb)("undefined")];case 6:return o.sent(),[2,HC(r)?r:null]}}))}))}function HC(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var GC="firebase-messaging-store",YC=null;function XC(){return YC||(YC=(0,jC.openDb)("firebase-messaging-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(GC)}))),YC}function QC(e){return PC(this,void 0,void 0,(function(){var t,n,r;return OC(this,(function(i){switch(i.label){case 0:return t=$C(e),[4,XC()];case 1:return[4,i.sent().transaction(GC).objectStore(GC).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,zC(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,JC(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function JC(e,t){return PC(this,void 0,void 0,(function(){var n,r,i;return OC(this,(function(o){switch(o.label){case 0:return n=$C(e),[4,XC()];case 1:return r=o.sent(),[4,(i=r.transaction(GC,"readwrite")).objectStore(GC).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function ZC(e){return PC(this,void 0,void 0,(function(){var t,n,r;return OC(this,(function(i){switch(i.label){case 0:return t=$C(e),[4,XC()];case 1:return n=i.sent(),[4,(r=n.transaction(GC,"readwrite")).objectStore(GC).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function $C(e){return e.appConfig.appId}function ex(e,t){return PC(this,void 0,void 0,(function(){var n,r,i,o,a,s;return OC(this,(function(u){switch(u.label){case 0:return[4,ix(e)];case 1:n=u.sent(),r=ox(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(rx(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),FC.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,FC.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw FC.create("token-subscribe-no-token");return[2,o.token]}}))}))}function tx(e,t){return PC(this,void 0,void 0,(function(){var n,r,i,o,a,s;return OC(this,(function(u){switch(u.label){case 0:return[4,ix(e)];case 1:n=u.sent(),r=ox(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(rx(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),FC.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,FC.create("token-update-failed",{errorInfo:s});if(!o.token)throw FC.create("token-update-no-token");return[2,o.token]}}))}))}function nx(e,t){return PC(this,void 0,void 0,(function(){var n,r,i,o,a;return OC(this,(function(s){switch(s.label){case 0:return[4,ix(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(rx(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,FC.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),FC.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function rx(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function ix(e){var t=e.appConfig,n=e.installations;return PC(this,void 0,void 0,(function(){var e;return OC(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function ox(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==UC&&(o.web.applicationPubKey=i),o}function ax(e,t,n){return PC(this,void 0,void 0,(function(){var r,i,o,a;return OC(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw FC.create("permission-blocked");return[4,lx(t,n)];case 1:return r=s.sent(),[4,QC(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:BC(r.getKey("auth")),p256dh:BC(r.getKey("p256dh"))},i?[3,3]:[2,cx(e,o)];case 3:if(function(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(i.subscriptionOptions,o))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,nx(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,cx(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,ux({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}}))}))}function sx(e,t){return PC(this,void 0,void 0,(function(){var n,r;return OC(this,(function(i){switch(i.label){case 0:return[4,QC(e)];case 1:return(n=i.sent())?[4,nx(e,n.token)]:[3,4];case 2:return i.sent(),[4,ZC(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function ux(e,t,n){return PC(this,void 0,void 0,(function(){var r,i,o;return OC(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,tx(t,e)];case 1:return r=a.sent(),i=NC(NC({},e),{token:r,createTime:Date.now()}),[4,JC(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,sx(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function cx(e,t){return PC(this,void 0,void 0,(function(){var n,r;return OC(this,(function(i){switch(i.label){case 0:return[4,ex(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,JC(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function lx(e,t){return PC(this,void 0,void 0,(function(){var n;return OC(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:qC(t)})]}}))}))}function fx(e){return"object"===typeof e&&!!e&&VC in e}function hx(e){return new Promise((function(t){setTimeout(t,e)}))}var dx=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!==typeof e)throw FC.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return PC(this,void 0,void 0,(function(){var n;return OC(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,QC(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:UC,r.label=2;case 2:return[2,ax(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return sx(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw FC.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw FC.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw FC.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw FC.create("only-available-in-window")},e.prototype.onMessage=function(){throw FC.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw FC.create("only-available-in-window")},e.prototype.onPush=function(e){return PC(this,void 0,void 0,(function(){var t,n,r,i;return OC(this,(function(o){switch(o.label){case 0:return t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e),t?[4,yx()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,gx(n,t)]:(r=!1,t.notification?[4,mx(px(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,hx(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return PC(this,void 0,void 0,(function(){var r;return OC(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,sx(this.firebaseDependencies,self.registration)];case 1:case 5:return i.sent(),[2];case 2:return[4,QC(this.firebaseDependencies)];case 3:return r=i.sent(),[4,sx(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,ax(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:UC)]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return PC(this,void 0,void 0,(function(){var r,i,o,a,s;return OC(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return fx(e.data)?self.location.origin:null}(r),i?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,vx(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,hx(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=LC.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function px(e){var t,n=NC({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function vx(e){return PC(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return OC(this,(function(u){switch(u.label){case 0:return[4,yx()];case 1:t=u.sent();try{for(n=AC(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function gx(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=LC.PUSH_RECEIVED;try{for(var i=AC(e),o=i.next();!o.done;o=i.next()){o.value.postMessage(t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function yx(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function mx(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var bx=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return PC(this,void 0,void 0,(function(){var t,n;return OC(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===LC.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),fx(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return PC(this,void 0,void 0,(function(){return OC(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw FC.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,ax(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return PC(this,void 0,void 0,(function(){return OC(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=UC),[2]}))}))},e.prototype.updateSwReg=function(e){return PC(this,void 0,void 0,(function(){return OC(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw FC.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return PC(this,void 0,void 0,(function(){var e,t;return OC(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),FC.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return PC(this,void 0,void 0,(function(){return OC(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,sx(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return PC(this,void 0,void 0,(function(){var e;return OC(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?FC.create("permission-blocked"):FC.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw FC.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw FC.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw FC.create("invalid-sw-registration");if(this.swRegistration)throw FC.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw FC.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw FC.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return PC(this,void 0,void 0,(function(){var n;return OC(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case LC.NOTIFICATION_CLICKED:return"notification_open";case LC.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function wx(e){return FC.create("missing-app-config-values",{valueName:e})}var _x={isSupported:Ex};function Ex(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Lf.default.INTERNAL.registerComponent(new bT.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw wx("App Configuration Object");if(!e.name)throw wx("App Name");var r=e.options;try{for(var i=AC(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw wx(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),r={app:t,appConfig:n,installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!Ex())throw FC.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new dx(r):new bx(r)}),"PUBLIC").setServiceProps(_x));var kx=function(e,t){return kx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},kx(e,t)};var Ix=function(){return Ix=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ix.apply(this,arguments)};function Sx(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(mT){o(mT)}}function s(e){try{u(r.throw(e))}catch(mT){o(mT)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Tx(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(mT){o=[6,mT],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function Cx(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var xx="firebasestorage.googleapis.com",Nx=function(e){function t(n,r){var i=e.call(this,Px(n),"Firebase Storage: "+r+" ("+Px(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}kx(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype._codeEquals=function(e){return Px(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Bf.FirebaseError);function Px(e){return"storage/"+e}function Ox(){return new Nx("unknown","An unknown error occurred, please check the error payload for server response.")}function Ax(){return new Nx("canceled","User canceled the upload/download.")}function Rx(){return new Nx("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Dx(e){return new Nx("invalid-argument",e)}function Lx(){return new Nx("app-deleted","The Firebase app was deleted.")}function jx(e){return new Nx("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mx(e,t){return new Nx("invalid-format","String does not match format '"+e+"': "+t)}function Fx(e){throw new Nx("internal-error","Internal error: "+e)}var Ux={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Vx=function(e,t){this.data=e,this.contentType=t||null};function Bx(e,t){switch(e){case Ux.RAW:return new Vx(qx(t));case Ux.BASE64:case Ux.BASE64URL:return new Vx(Kx(e,t));case Ux.DATA_URL:return new Vx(function(e){var t=new Wx(e);return t.base64?Kx(Ux.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(mT){throw Mx(Ux.DATA_URL,"Malformed data URL.")}return qx(t)}(t.rest)}(t),new Wx(t).contentType)}throw Ox()}function qx(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Kx(e,t){switch(e){case Ux.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Mx(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Ux.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw Mx(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(mT){throw Mx(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var Wx=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw Mx(Ux.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)};var zx,Hx={STATE_CHANGED:"state_changed"},Gx={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Yx(e){switch(e){case"running":case"pausing":case"canceling":return Gx.RUNNING;case"paused":return Gx.PAUSED;case"success":return Gx.SUCCESS;case"canceled":return Gx.CANCELED;default:return Gx.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(zx||(zx={}));var Xx=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=zx.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=zx.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=zx.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw Fx("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Fx("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Fx("cannot .getStatus() before sending");try{return this.xhr_.status}catch(mT){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Fx("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();var Qx=function(){function e(){}return e.prototype.createConnection=function(){return new Xx},e}(),Jx=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(mT){return new e(t,"")}if(""===r.path)return r;throw new Nx("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===xx?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new Nx("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),Zx=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function $x(e){return"string"===typeof e||e instanceof String}function eN(e){return tN()&&e instanceof Blob}function tN(){return"undefined"!==typeof Blob}function nN(e,t,n,r){if(r<t)throw Dx("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Dx("Invalid value for '"+e+"'. Expected "+n+" or less.")}function rN(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function iN(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var oN=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var f=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){f.resolve_=e,f.reject_=t,f.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(mT){o(mT)}else null!==a?((r=Ox()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?Lx():Ax()):o(r=new Nx("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new aN(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function l(t){i=setTimeout((function(){i=null,e(f,s())}),t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)c.call.apply(c,Cx([null,e],t));else{var i;s()||o?c.call.apply(c,Cx([null,e],t)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i))}}var h=!1;function d(e){h||(h=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(t,n){if(n)t(!1,new aN(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===zx.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new aN(a,r))}else{var s=r.getErrorCode()===zx.ABORT;t(!1,new aN(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),aN=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function sN(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function uN(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=sN();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(tN())return new Blob(e);throw new Nx("unsupported-environment","This browser doesn't seem to support creating Blobs")}var cN=function(){function e(e,t){var n=0,r="";eN(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(eN(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(tN()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(uN.apply(null,r))}var i=t.map((function(e){return $x(e)?Bx(Ux.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function lN(e){var t;try{t=JSON.parse(e)}catch(mT){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function fN(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function hN(e,t){return t}var dN=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||hN},pN=null;function vN(){if(pN)return pN;var e=[];e.push(new dN("bucket")),e.push(new dN("generation")),e.push(new dN("metageneration")),e.push(new dN("name","fullPath",!0));var t=new dN("name");t.xform=function(e,t){return function(e){return!$x(e)||e.length<2?e:fN(e)}(t)},e.push(t);var n=new dN("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new dN("timeCreated")),e.push(new dN("updated")),e.push(new dN("md5Hash",null,!0)),e.push(new dN("cacheControl",null,!0)),e.push(new dN("contentDisposition",null,!0)),e.push(new dN("contentEncoding",null,!0)),e.push(new dN("contentLanguage",null,!0)),e.push(new dN("contentType",null,!0)),e.push(new dN("metadata","customMetadata",!0)),pN=e}function gN(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Jx(n,r);return t._makeStorageReference(i)}})}(r,e),r}function yN(e,t,n){var r=lN(t);return null===r?null:gN(e,r,n)}function mN(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function bN(e,t,n){var r=lN(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new Jx(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new Jx(t,l.name)),r.items.push(s)}return r}(e,t,r)}var wN=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function _N(e){if(!e)throw Ox()}function EN(e,t){return function(n,r){var i=yN(e,r,t);return _N(null!==i),i}}function kN(e,t){return function(n,r){var i=yN(e,r,t);return _N(null!==i),function(e,t,n){var r=lN(t);if(null===r)return null;if(!$x(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return rN("/b/"+o(r)+"/o/"+o(i),n)+iN({alt:"media",token:t})}))[0]}(i,r,e.host)}}function IN(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new Nx("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Nx("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Nx("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Nx("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function SN(e){var t=IN(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new Nx("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function TN(e,t,n){var r=rN(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new wN(r,"GET",EN(e,n),i);return o.errorHandler=SN(t),o}function CN(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=rN(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new wN(a,"GET",function(e,t){return function(n,r){var i=bN(e,t,r);return _N(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=IN(t),u}function xN(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var NN=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function PN(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(mT){_N(!1)}return _N(!!n&&-1!==(t||["active"]).indexOf(n)),n}var ON=262144;function AN(e,t,n,r,i,o,a,s){var u=new NN(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Nx("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},p=r.slice(f,h);if(null===p)throw Rx();var v=t.maxUploadRetryTime,g=new wN(n,"POST",(function(e,n){var i,a=PN(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?EN(t,o)(e,n):null,new NN(s,c,"final"===a,i)}),v);return g.headers=d,g.body=p.uploadData(),g.progressCallback=s||null,g.errorHandler=IN(e),g}var RN=function(e,t,n){var r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=t,this.complete=n;else{var i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}};function DN(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var LN=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=vN(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=xN(t,r,i),s={name:a.fullPath},u=rN(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=mN(a,n),f=e.maxUploadRetryTime,h=new wN(u,"POST",(function(e){var t;PN(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(mT){_N(!1)}return _N($x(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=IN(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new wN(n,"POST",(function(e){var t=PN(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(mT){_N(!1)}n||_N(!1);var i=Number(n);return _N(!isNaN(i)),new NN(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=IN(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=ON*this._chunkMultiplier,n=new NN(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=AN(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(mT){return e._error=mT,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){ON*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=TN(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=xN(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+mN(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=cN.getBlob(c,r,l);if(null===f)throw Rx();var h={name:u.fullPath},d=rN(o,e.host),p=e.maxUploadRetryTime,v=new wN(d,"POST",EN(e,n),p);return v.urlParams=h,v.headers=a,v.body=f.uploadData(),v.errorHandler=IN(t),v}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Ax(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=Yx(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new RN(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(Yx(this._state)){case Gx.SUCCESS:DN(this._resolve.bind(null,this.snapshot))();break;case Gx.CANCELED:case Gx.ERROR:DN(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(Yx(this._state)){case Gx.RUNNING:case Gx.PAUSED:e.next&&DN(e.next.bind(e,this.snapshot))();break;case Gx.SUCCESS:e.complete&&DN(e.complete.bind(e))();break;default:e.error&&DN(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),jN=function(){function e(e,t){this._service=e,this._location=t instanceof Jx?t:Jx.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new Jx(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return fN(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Jx(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw jx(e)},e}();function MN(e){var t={prefixes:[],items:[]};return FN(e,t).then((function(){return t}))}function FN(e,t,n){return Sx(this,void 0,void 0,(function(){var r,i,o;return Tx(this,(function(a){switch(a.label){case 0:return[4,UN(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,FN(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function UN(e,t){return Sx(this,void 0,void 0,(function(){var n,r;return Tx(this,(function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&nN("options.maxResults",1,1e3,t.maxResults),n=t||{},r=CN(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function VN(e,t){return Sx(this,void 0,void 0,(function(){var n;return Tx(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=rN(t.fullServerUrl(),e.host),o=mN(n,r),a=e.maxOperationRetryTime,s=new wN(i,"PATCH",EN(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=SN(t),s}(e.storage,e._location,t,vN()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function BN(e){return Sx(this,void 0,void 0,(function(){var t;return Tx(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=rN(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new wN(r,"GET",kN(e,n),i);return o.errorHandler=SN(t),o}(e.storage,e._location,vN()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new Nx("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function qN(e){return Sx(this,void 0,void 0,(function(){var t;return Tx(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=rN(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new wN(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=SN(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function KN(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Jx(e._location.bucket,n);return new jN(e.storage,r)}function WN(e){return/^[A-Za-z]+:\/\//.test(e)}function zN(e,t){if(e instanceof YN){var n=e;if(null==n._bucket)throw new Nx("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new jN(n,n._bucket);return null!=t?zN(r,t):r}return void 0!==t?KN(e,t):e}function HN(e,t){if(t&&WN(t)){if(e instanceof YN)return new jN(e,t);throw Dx("To use ref(service, url), the first argument must be a Storage instance.")}return zN(e,t)}function GN(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:Jx.makeFromBucketSpec(n,e)}var YN=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=xx,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Jx.makeFromBucketSpec(i,this._host):GN(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Jx.makeFromBucketSpec(this._url,e):this._bucket=GN(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){nN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){nN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return Sx(this,void 0,void 0,(function(){var e,t;return Tx(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return Sx(this,void 0,void 0,(function(){var e;return Tx(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new jN(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new Zx(Lx());var i=function(e,t,n,r,i,o){var a=iN(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new oN(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return Sx(this,void 0,void 0,(function(){var t,n,r;return Tx(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function XN(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new LN(e,new cN(t),n)}(e=(0,Bf.getModularInstance)(e),t,n)}function QN(e){return function(e){return Sx(this,void 0,void 0,(function(){var t;return Tx(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=TN(e.storage,e._location,vN()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=(0,Bf.getModularInstance)(e))}function JN(e,t){return HN(e=(0,Bf.getModularInstance)(e),t)}function ZN(e,t,n,r){void 0===r&&(r={}),function(e,t,n,r){void 0===r&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:(0,Bf.createMockUserToken)(i,e.app.options.projectId))}(e,t,n,r)}var $N=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),eP=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new $N(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new $N(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new $N(e,i,i._ref))}:{next:t.next?function(e){return t.next(new $N(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),tP=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new nP(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new nP(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),nP=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=function(e,t){return KN(e,t)}(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new eP(XN(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=Ux.RAW),this._throwIfRoot("putString");var r=Bx(t,e),i=Ix({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new eP(new LN(this._delegate,new cN(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return MN(e=(0,Bf.getModularInstance)(e))}(this._delegate).then((function(t){return new tP(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return UN(e=(0,Bf.getModularInstance)(e),t)}(this._delegate,e||void 0).then((function(e){return new tP(e,t.storage)}))},e.prototype.getMetadata=function(){return QN(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return VN(e=(0,Bf.getModularInstance)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return BN(e=(0,Bf.getModularInstance)(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return qN(e=(0,Bf.getModularInstance)(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw jx(e)},e}(),rP=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(WN(e))throw Dx("ref() expected a child path but got a URL, use refFromURL instead.");return new nP(JN(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!WN(e))throw Dx("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Jx.makeFromUrl(e,this._delegate.host)}catch(mT){throw Dx("refFromUrl() expected a valid full URL but got an invalid one.")}return new nP(JN(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),ZN(this._delegate,e,t,n)},e}();function iP(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new rP(r,new YN(r,i,o,new Qx,n,Lf.default.SDK_VERSION))}!function(e){var t={TaskState:Gx,TaskEvent:Hx,StringFormat:Ux,Storage:YN,Reference:nP};e.INTERNAL.registerComponent(new bT.Component("storage",iP,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.7.0")}(Lf.default);var oP=function(){return oP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},oP.apply(this,arguments)};Object.create;function aP(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var sP,uP,cP,lP="0.4.18",fP=lP,hP="FB-PERF-TRACE-MEASURE",dP="_wt_",pP="_fcp",vP="_fid",gP="@firebase/performance/config",yP="@firebase/performance/configexpire",mP="Performance",bP=((sP={})["trace started"]="Trace {$traceName} was started before.",sP["trace stopped"]="Trace {$traceName} is not running.",sP["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",sP["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",sP["no window"]="Window is not available.",sP["no app id"]="App id is not available.",sP["no project id"]="Project id is not available.",sP["no api key"]="Api key is not available.",sP["invalid cc log"]="Attempted to queue invalid cc event",sP["FB not default"]="Performance can only start when Firebase app instance is the default one.",sP["RC response not ok"]="RC response is not ok",sP["invalid attribute name"]="Attribute name {$attributeName} is invalid.",sP["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",sP["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",sP["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",sP),wP=new Bf.ErrorFactory("performance",mP,bP),_P=new qf.Logger(mP);_P.logLevel=qf.LogLevel.INFO;var EP,kP=function(){function e(e){if(this.window=e,!e)throw wP.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,Bf.isIndexedDBAvailable)()||(_P.info("IndexedDB is not supported by current browswer"),!1):(_P.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){if(this.PerformanceObserver){var n=new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}}));n.observe({entryTypes:[e]})}},e.getInstance=function(){return void 0===uP&&(uP=new e(cP)),uP},e}();function IP(e,t){var n=e.length-t.length;if(n<0||n>1)throw wP.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var SP,TP,CP=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=IP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=IP("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw wP.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw wP.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw wP.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===EP&&(EP=new e),EP},e}();function xP(){return SP}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(TP||(TP={}));var NP=["firebase_","google_","ga_"],PP=new RegExp("^[a-zA-Z]\\w*$");function OP(){var e=kP.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function AP(){switch(kP.getInstance().document.visibilityState){case"visible":return TP.VISIBLE;case"hidden":return TP.HIDDEN;default:return TP.UNKNOWN}}function RP(){var e=kP.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var DP="0.0.1",LP=!0,jP="FIREBASE_INSTALLATIONS_AUTH";function MP(e){var t=function(){var e=kP.getInstance().localStorage;if(!e)return;var t=e.getItem(yP);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(gP);if(!r)return;try{return JSON.parse(r)}catch(ql){return}}();return t?(UP(t),Promise.resolve()):function(e){return function(){var e=CP.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+CP.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+CP.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:jP+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:CP.getInstance().getAppId(),app_version:fP,sdk_version:DP})});return fetch(r).then((function(e){if(e.ok)return e.json();throw wP.create("RC response not ok")}))})).catch((function(){_P.info(FP)}))}(e).then(UP).then((function(e){return function(e){var t=kP.getInstance().localStorage;if(!e||!t)return;t.setItem(gP,JSON.stringify(e)),t.setItem(yP,String(Date.now()+60*CP.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var FP="Could not fetch config, will use default configs";function UP(e){if(!e)return e;var t=CP.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=LP,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=VP(t.tracesSamplingRate),t.logNetworkAfterSampling=VP(t.networkRequestsSamplingRate),e}function VP(e){return Math.random()<=e}var BP,qP=1;function KP(){return qP=2,BP=BP||function(){var e=kP.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(){var e=CP.getInstance().installationsService.getId();return e.then((function(e){SP=e})),e}()})).then((function(e){return MP(e)})).then((function(){return WP()}),(function(){return WP()}))}function WP(){qP=3}var zP,HP=1e4,GP=3,YP=[],XP=!1;function QP(e){setTimeout((function(){if(0!==GP)return YP.length?void function(){var e=YP.splice(0,1e3),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=CP.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||_P.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=HP;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(YP=aP(aP([],t),YP),_P.info("Retry transport request later.")),GP=3,QP(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:CP.getInstance().logSource,log_event:t},e).catch((function(){YP=aP(aP([],e),YP),GP--,_P.info("Tries left: "+GP+"."),QP(HP)}))}():QP(HP)}),e)}function JP(e){if(!e.eventTime||!e.message)throw wP.create("invalid cc log");YP=aP(aP([],YP),[e])}function ZP(e,t){zP||(zP=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];JP({message:e.apply(void 0,t),eventTime:Date.now()})}}(tO)),zP(e,t)}function $P(e){var t=CP.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&kP.getInstance().requiredApisAvailable()&&(e.isAuto&&AP()!==TP.VISIBLE||(3===qP?eO(e):KP().then((function(){return eO(e)}),(function(){return eO(e)}))))}function eO(e){if(xP()){var t=CP.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return ZP(e,1)}),0)}}function tO(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:nO(),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:nO(),trace_metric:t};return JSON.stringify(r)}(e)}function nO(){return{google_app_id:CP.getInstance().getAppId(),app_instance_id:xP(),web_app_info:{sdk_version:fP,page_url:kP.getInstance().getUrl(),service_worker_status:OP(),visibility_state:AP(),effective_connection_type:RP()},application_process_state:0}}var rO=["_fp",pP,vP];var iO=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=kP.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw wP.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw wP.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),$P(this)},e.prototype.record=function(e,t,n){if(e<=0)throw wP.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw wP.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=oP({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}$P(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith(dP)&&rO.indexOf(n)>-1)&&n.startsWith("_"))throw wP.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&_P.info("Metric value should be an Integer, setting the value as : "+t+"."),t}(t)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40)&&!NP.some((function(e){return n.startsWith(e)}))&&!!n.match(PP),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw wP.create("invalid attribute name",{attributeName:e});if(!i)throw wP.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return oP({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=kP.getInstance().getUrl();if(i){var o=new e(dP+i,!0),a=Math.floor(1e3*kP.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric(pP,Math.floor(1e3*u.startTime)),r&&o.putMetric(vP,Math.floor(1e3*r))}$P(o)}},e.createUserTimingTrace=function(t){$P(new e(t,!1,t))},e}();function oO(e){var t=e;if(t&&void 0!==t.responseStart){var n=kP.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=CP.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return ZP(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function aO(){xP()&&(setTimeout((function(){return function(){var e=kP.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){iO.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),iO.createOobTrace(t,n,e))}))}else iO.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=kP.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){oO(r[n])}e.setupObserver("resource",oO)}()}),0),setTimeout((function(){return function(){for(var e=kP.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){sO(r[n])}e.setupObserver("measure",sO)}()}),0))}function sO(e){var t=e.name;t.substring(0,hP.length)!==hP&&iO.createUserTimingTrace(t)}var uO=function(){function e(e){this.app=e,kP.getInstance().requiredApisAvailable()&&(0,Bf.validateIndexedDBOpenable)().then((function(e){e&&(XP||(QP(5500),XP=!0),KP().then(aO,aO))})).catch((function(e){_P.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new iO(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return CP.getInstance().instrumentationEnabled},set:function(e){CP.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return CP.getInstance().dataCollectionEnabled},set:function(e){CP.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw wP.create("FB not default");if("undefined"===typeof window)throw wP.create("no window");return function(e){cP=e}(window),CP.getInstance().firebaseAppInstance=e,CP.getInstance().installationsService=t,new uO(e)};e.INTERNAL.registerComponent(new bT.Component("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance",lP)}(Lf.default);var cO=function(){return cO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},cO.apply(this,arguments)};function lO(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(mT){o(mT)}}function s(e){try{u(r.throw(e))}catch(mT){o(mT)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function fO(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(mT){o=[6,mT],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;Object.create;var hO,dO,pO="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(hO||(hO={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(dO||(dO={}));var vO,gO=new qf.Logger("@firebase/analytics");function yO(e,t,n,r,i,o){return lO(this,void 0,void 0,(function(){var a,s,u,c;return fO(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),u=s.find((function(e){return e.measurementId===i})),u?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),gO.error(c),[3,8];case 8:return e(hO.CONFIG,i,o),[2]}}))}))}function mO(e,t,n,r,i){return lO(this,void 0,void 0,(function(){var o,a,s,u,c,l,f,h;return fO(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(f=l[c],"break"!==u(f));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return d.sent(),e(hO.EVENT,r,i||{}),[3,5];case 4:return h=d.sent(),gO.error(h),[3,5];case 5:return[2]}}))}))}function bO(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return lO(this,void 0,void 0,(function(){var s;return fO(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==hO.EVENT?[3,2]:[4,mO(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==hO.CONFIG?[3,4]:[4,yO(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(hO.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),gO.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var wO=((vO={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",vO["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",vO["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",vO["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",vO["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",vO["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",vO["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",vO["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',vO["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',vO),_O=new Bf.ErrorFactory("analytics","Analytics",wO),EO=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function kO(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function IO(e){var t;return lO(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return fO(this,(function(c){switch(c.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:kO(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw _O.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function SO(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=EO),lO(this,void 0,void 0,(function(){var t,a,s,u,c,l,f;return fO(this,(function(h){switch(h.label){case 0:t=e.appId,a=e.measurementId,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,TO(n,i)];case 2:return h.sent(),[3,4];case 3:if(s=h.sent(),a)return gO.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return h.trys.push([4,6,,7]),[4,IO(e)];case 5:return u=h.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(!function(e){if(!(e instanceof Bf.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=h.sent())){if(r.deleteThrottleMetadata(t),a)return gO.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?(0,Bf.calculateBackoffMillis)(o,r.intervalMillis,30):(0,Bf.calculateBackoffMillis)(o,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(t,f),gO.debug("Calling attemptFetch again in "+l+" millis"),[2,SO(e,f,n,r)];case 7:return[2]}}))}))}function TO(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(_O.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var CO=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function xO(e,t,n,r,i,o){return lO(this,void 0,void 0,(function(){var a,s,u,c,l,f,h;return fO(this,(function(d){switch(d.label){case 0:return a=function(e,t,n){return void 0===t&&(t=EO),lO(this,void 0,void 0,(function(){var r,i,o,a,s,u,c=this;return fO(this,(function(l){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw _O.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw _O.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new CO,setTimeout((function(){return lO(c,void 0,void 0,(function(){return fO(this,(function(e){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,SO({appId:i,apiKey:o,measurementId:a},s,u,t)]}))}))}(e),a.then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&gO.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return gO.error(e)})),t.push(a),s=function(){return lO(this,void 0,void 0,(function(){var e;return fO(this,(function(t){switch(t.label){case 0:return(0,Bf.isIndexedDBAvailable)()?[3,1]:(gO.warn(_O.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,(0,Bf.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),gO.warn(_O.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(pO))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=pO+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(h={}).origin="firebase",h.update=!0,f=h,null!=l&&(f.firebase_id=l),i(hO.CONFIG,c.measurementId,f),[2,c.measurementId]}}))}))}var NO,PO,OO={},AO=[],RO={},DO="dataLayer",LO="gtag",jO=!1;function MO(e){if(jO)throw _O.create("already-initialized");e.dataLayerName&&(DO=e.dataLayerName),e.gtagName&&(LO=e.gtagName)}function FO(e,t){!function(){var e=[];if((0,Bf.isBrowserExtension)()&&e.push("This is a browser extension environment."),(0,Bf.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=_O.create("invalid-analytics-context",{errorInfo:t});gO.warn(n.message)}}();var n=e.options.appId;if(!n)throw _O.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw _O.create("no-api-key");gO.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=OO[n])throw _O.create("already-exists",{id:n});if(!jO){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(DO);var r=bO(OO,AO,RO,DO,LO),i=r.wrappedGtag,o=r.gtagCore;PO=i,NO=o,jO=!0}OO[n]=xO(e,AO,RO,t,NO,DO);var a={app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return lO(this,void 0,void 0,(function(){var o,a;return fO(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(hO.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=cO(cO({},r),{send_to:o}),e(hO.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(PO,OO[n],e,t,r).catch((function(e){return gO.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return lO(this,void 0,void 0,(function(){var i;return fO(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(hO.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(hO.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(PO,OO[n],e,t).catch((function(e){return gO.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return lO(this,void 0,void 0,(function(){var i;return fO(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(hO.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(hO.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(PO,OO[n],e,t).catch((function(e){return gO.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return lO(this,void 0,void 0,(function(){var i,o,a,s,u;return fO(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(hO.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(hO.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(PO,OO[n],e,t).catch((function(e){return gO.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return lO(this,void 0,void 0,(function(){var n;return fO(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(OO[n],e).catch((function(e){return gO.error(e)}))},INTERNAL:{delete:function(){return delete OO[n],Promise.resolve()}}};return a}var UO="analytics";function VO(){return lO(this,void 0,void 0,(function(){return fO(this,(function(e){switch(e.label){case 0:if((0,Bf.isBrowserExtension)())return[2,!1];if(!(0,Bf.areCookiesEnabled)())return[2,!1];if(!(0,Bf.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,Bf.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new bT.Component(UO,(function(e){return FO(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:MO,EventName:dO,isSupported:VO})),e.INTERNAL.registerComponent(new bT.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider(UO).getImmediate().logEvent}}catch(mT){throw _O.create("interop-component-reg-failed",{reason:mT})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.18")}(Lf.default);var BO=function(){return BO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},BO.apply(this,arguments)};function qO(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(mT){o(mT)}}function s(e){try{u(r.throw(e))}catch(mT){o(mT)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function KO(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(mT){o=[6,mT],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;Object.create;var WO,zO=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return qO(this,void 0,void 0,(function(){var t,n,r,i,o;return KO(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),HO=((WO={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",WO["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",WO["registration-api-key"]="Undefined API key. Check Firebase app initialization.",WO["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",WO["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",WO["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",WO["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",WO["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",WO["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",WO["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',WO["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',WO["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",WO["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",WO),GO=new Bf.ErrorFactory("remoteconfig","Remote Config",HO);var YO=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return qO(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,f,h,d,p,v,g,y,m,b;return KO(this,(function(w){switch(w.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=w.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),w.label=2;case 2:return w.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return w.sent(),[4,c];case 4:return f=w.sent(),[3,6];case 5:throw h=w.sent(),d="fetch-client-network","AbortError"===h.name&&(d="fetch-timeout"),GO.create(d,{originalErrorMessage:h.message});case 6:if(p=f.status,v=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];m=void 0,w.label=7;case 7:return w.trys.push([7,9,,10]),[4,f.json()];case 8:return m=w.sent(),[3,10];case 9:throw b=w.sent(),GO.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:g=m.entries,y=m.state,w.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===y?p=500:"NO_CHANGE"===y?p=304:"NO_TEMPLATE"!==y&&"EMPTY_CONFIG"!==y||(g={}),304!==p&&200!==p)throw GO.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:v,config:g}]}var _}))}))},e}(),XO=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),QO=["1","true","t","yes","y","on"],JO=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&QO.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),ZO=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=qf.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=qf.LogLevel.SILENT;break;default:this._logger.logLevel=qf.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return qO(this,void 0,void 0,(function(){var e,t,n;return KO(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return qO(this,void 0,void 0,(function(){var e,t,n,r=this;return KO(this,(function(i){switch(i.label){case 0:e=new XO,setTimeout((function(){return qO(r,void 0,void 0,(function(){return KO(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof Bf.FirebaseError&&-1!==e.code.indexOf(t)}(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return qO(this,void 0,void 0,(function(){return KO(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys(BO(BO({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new JO("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new JO("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new JO("static"))},e}();function $O(e,t){var n=e.target.error||void 0;return GO.create(t,{originalErrorMessage:n&&n.message})}var eA="app_namespace_store";var tA=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t($O(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(eA,{keyPath:"compositeKey"})}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return qO(this,void 0,void 0,(function(){var t,n=this;return KO(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([eA],"readonly").objectStore(eA),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i($O(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(mT){i(GO.create("storage-get",{originalErrorMessage:mT&&mT.message}))}}))]}}))}))},e.prototype.set=function(e,t){return qO(this,void 0,void 0,(function(){var n,r=this;return KO(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([eA],"readwrite").objectStore(eA),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o($O(e,"storage-set"))},u.onsuccess=function(){i()}}catch(mT){o(GO.create("storage-set",{originalErrorMessage:mT&&mT.message}))}}))]}}))}))},e.prototype.delete=function(e){return qO(this,void 0,void 0,(function(){var t,n=this;return KO(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([eA],"readwrite").objectStore(eA),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i($O(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(mT){i(GO.create("storage-delete",{originalErrorMessage:mT&&mT.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),nA=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return qO(this,void 0,void 0,(function(){var e,t,n,r,i,o;return KO(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function rA(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(GO.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var iA,oA=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return qO(this,void 0,void 0,(function(){var t;return KO(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return qO(this,void 0,void 0,(function(){var t,i,o;return KO(this,(function(a){switch(a.label){case 0:return[4,rA(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof Bf.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+(0,Bf.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}(),aA="@firebase/remote-config";(iA=Lf.default).INTERNAL.registerComponent(new bT.Component("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw GO.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw GO.create("registration-project-id");if(!s)throw GO.create("registration-api-key");if(!u)throw GO.create("registration-app-id");n=n||"firebase";var c=new tA(u,r.name,n),l=new nA(c),f=new qf.Logger(aA);f.logLevel=qf.LogLevel.ERROR;var h=new YO(i,iA.SDK_VERSION,n,a,s,u),d=new oA(h,c),p=new zO(d,c,l,f),v=new ZO(r,p,l,c,f);return v.ensureInitialized(),v}),"PUBLIC").setMultipleInstances(!0)),iA.registerVersion(aA,"0.1.43");n(446);var sA="8.10.0";Lf.default.registerVersion("firebase",sA,"app"),Lf.default.SDK_VERSION=sA;console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),Lf.default.registerVersion("firebase","8.10.0");var uA=["as","className","type","tooltip"],cA={type:tn().string,tooltip:tn().bool,as:tn().elementType},lA=e.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,o=e.type,a=void 0===o?"valid":o,s=e.tooltip,u=void 0!==s&&s,c=$(e,uA);return(0,ne.jsx)(r,J(J({},c),{},{ref:t,className:te()(i,"".concat(a,"-").concat(u?"tooltip":"feedback"))}))}));lA.displayName="Feedback",lA.propTypes=cA;var fA=lA,hA=e.createContext({}),dA=["id","bsPrefix","className","type","isValid","isInvalid","as"],pA=e.forwardRef((function(t,n){var r=t.id,i=t.bsPrefix,o=t.className,a=t.type,s=void 0===a?"checkbox":a,u=t.isValid,c=void 0!==u&&u,l=t.isInvalid,f=void 0!==l&&l,h=t.as,d=void 0===h?"input":h,p=$(t,dA),v=(0,e.useContext)(hA).controlId;return i=ie(i,"form-check-input"),(0,ne.jsx)(d,J(J({},p),{},{ref:n,type:s,id:r||v,className:te()(o,i,c&&"is-valid",f&&"is-invalid")}))}));pA.displayName="FormCheckInput";var vA=pA,gA=["bsPrefix","className","htmlFor"],yA=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.htmlFor,a=$(t,gA),s=(0,e.useContext)(hA).controlId;return r=ie(r,"form-check-label"),(0,ne.jsx)("label",J(J({},a),{},{ref:n,htmlFor:o||s,className:te()(i,r)}))}));yA.displayName="FormCheckLabel";var mA=yA;var bA=["id","bsPrefix","bsSwitchPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],wA=e.forwardRef((function(t,n){var r=t.id,i=t.bsPrefix,o=t.bsSwitchPrefix,a=t.inline,s=void 0!==a&&a,u=t.disabled,c=void 0!==u&&u,l=t.isValid,f=void 0!==l&&l,h=t.isInvalid,d=void 0!==h&&h,p=t.feedbackTooltip,v=void 0!==p&&p,g=t.feedback,y=t.feedbackType,m=t.className,b=t.style,w=t.title,_=void 0===w?"":w,E=t.type,k=void 0===E?"checkbox":E,I=t.label,S=t.children,T=t.as,C=void 0===T?"input":T,x=$(t,bA);i=ie(i,"form-check"),o=ie(o,"form-switch");var N=(0,e.useContext)(hA).controlId,P=(0,e.useMemo)((function(){return{controlId:r||N}}),[N,r]),O=!S&&null!=I&&!1!==I||function(t,n){return e.Children.toArray(t).some((function(t){return e.isValidElement(t)&&t.type===n}))}(S,mA),A=(0,ne.jsx)(vA,J(J({},x),{},{type:"switch"===k?"checkbox":k,ref:n,isValid:f,isInvalid:d,disabled:c,as:C}));return(0,ne.jsx)(hA.Provider,{value:P,children:(0,ne.jsx)("div",{style:b,className:te()(m,O&&i,s&&"".concat(i,"-inline"),"switch"===k&&o),children:S||(0,ne.jsxs)(ne.Fragment,{children:[A,O&&(0,ne.jsx)(mA,{title:_,children:I}),g&&(0,ne.jsx)(fA,{type:y,tooltip:v,children:g})]})})})}));wA.displayName="FormCheck";var _A=Object.assign(wA,{Input:vA,Label:mA}),EA=(n(391),["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]),kA=e.forwardRef((function(t,n){var r,i,o=t.bsPrefix,a=t.type,s=t.size,u=t.htmlSize,c=t.id,l=t.className,f=t.isValid,h=void 0!==f&&f,d=t.isInvalid,p=void 0!==d&&d,v=t.plaintext,g=t.readOnly,y=t.as,m=void 0===y?"input":y,b=$(t,EA),w=(0,e.useContext)(hA).controlId;(o=ie(o,"form-control"),v)?r=X({},"".concat(o,"-plaintext"),!0):(X(i={},o,!0),X(i,"".concat(o,"-").concat(s),s),r=i);return(0,ne.jsx)(m,J(J({},b),{},{type:a,size:u,ref:n,readOnly:g,id:c||w,className:te()(l,r,h&&"is-valid",p&&"is-invalid","color"===a&&"".concat(o,"-color"))}))}));kA.displayName="FormControl";var IA=Object.assign(kA,{Feedback:fA}),SA=be("form-floating"),TA=["controlId","as"],CA=e.forwardRef((function(t,n){var r=t.controlId,i=t.as,o=void 0===i?"div":i,a=$(t,TA),s=(0,e.useMemo)((function(){return{controlId:r}}),[r]);return(0,ne.jsx)(hA.Provider,{value:s,children:(0,ne.jsx)(o,J(J({},a),{},{ref:n}))})}));CA.displayName="FormGroup";var xA=CA,NA=["as","bsPrefix","className"],PA=["className"],OA=["xxl","xl","lg","md","sm","xs"];var AA=e.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=$(e,NA);n=ie(n,"col");var o=[],a=[];return OA.forEach((function(e){var t,r,s,u=i[e];delete i[e],"object"===typeof u&&null!=u?(t=u.span,r=u.offset,s=u.order):t=u;var c="xs"!==e?"-".concat(e):"";t&&o.push(!0===t?"".concat(n).concat(c):"".concat(n).concat(c,"-").concat(t)),null!=s&&a.push("order".concat(c,"-").concat(s)),null!=r&&a.push("offset".concat(c,"-").concat(r))})),[J(J({},i),{},{className:te().apply(void 0,[r].concat(o,a))}),{as:t,bsPrefix:n,spans:o}]}(e),r=o(n,2),i=r[0],a=i.className,s=$(i,PA),u=r[1],c=u.as,l=void 0===c?"div":c,f=u.bsPrefix,h=u.spans;return(0,ne.jsx)(l,J(J({},s),{},{ref:t,className:te()(a,!h.length&&f)}))}));AA.displayName="Col";var RA=AA,DA=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],LA=e.forwardRef((function(t,n){var r=t.as,i=void 0===r?"label":r,o=t.bsPrefix,a=t.column,s=t.visuallyHidden,u=t.className,c=t.htmlFor,l=$(t,DA),f=(0,e.useContext)(hA).controlId;o=ie(o,"form-label");var h="col-form-label";"string"===typeof a&&(h="".concat(h," ").concat(h,"-").concat(a));var d=te()(u,o,s&&"visually-hidden",a&&h);return c=c||f,a?(0,ne.jsx)(RA,J({ref:n,as:"label",className:d,htmlFor:c},l)):(0,ne.jsx)(i,J({ref:n,className:d,htmlFor:c},l))}));LA.displayName="FormLabel",LA.defaultProps={column:!1,visuallyHidden:!1};var jA=LA,MA=["bsPrefix","className","id"],FA=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.id,a=$(t,MA),s=(0,e.useContext)(hA).controlId;return r=ie(r,"form-range"),(0,ne.jsx)("input",J(J({},a),{},{type:"range",ref:n,className:te()(i,r),id:o||s}))}));FA.displayName="FormRange";var UA=FA,VA=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],BA=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.size,o=t.htmlSize,a=t.className,s=t.isValid,u=void 0!==s&&s,c=t.isInvalid,l=void 0!==c&&c,f=t.id,h=$(t,VA),d=(0,e.useContext)(hA).controlId;return r=ie(r,"form-select"),(0,ne.jsx)("select",J(J({},h),{},{size:o,ref:n,className:te()(a,r,i&&"".concat(r,"-").concat(i),u&&"is-valid",l&&"is-invalid"),id:f||d}))}));BA.displayName="FormSelect";var qA=BA,KA=["bsPrefix","className","as","muted"],WA=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,o=void 0===i?"small":i,a=e.muted,s=$(e,KA);return n=ie(n,"form-text"),(0,ne.jsx)(o,J(J({},s),{},{ref:t,className:te()(r,n,a&&"text-muted")}))}));WA.displayName="FormText";var zA=WA,HA=e.forwardRef((function(e,t){return(0,ne.jsx)(_A,J(J({},e),{},{ref:t,type:"switch"}))}));HA.displayName="Switch";var GA=Object.assign(HA,{Input:_A.Input,Label:_A.Label}),YA=["bsPrefix","className","children","controlId","label"],XA=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,o=e.controlId,a=e.label,s=$(e,YA);return n=ie(n,"form-floating"),(0,ne.jsxs)(xA,J(J({ref:t,className:te()(r,n),controlId:o},s),{},{children:[i,(0,ne.jsx)("label",{htmlFor:o,children:a})]}))}));XA.displayName="FloatingLabel";var QA=XA,JA=["className","validated","as"],ZA={_ref:tn().any,validated:tn().bool,as:tn().elementType},$A=e.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,o=void 0===i?"form":i,a=$(e,JA);return(0,ne.jsx)(o,J(J({},a),{},{ref:t,className:te()(n,r&&"was-validated")}))}));$A.displayName="Form",$A.propTypes=ZA;var eR=Object.assign($A,{Group:xA,Control:IA,Floating:SA,Check:_A,Switch:GA,Label:jA,Text:zA,Range:UA,Select:qA,FloatingLabel:QA}),tR=["bsPrefix","className","variant","as"],nR=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,o=e.as,a=void 0===o?"img":o,s=$(e,tR),u=ie(n,"card-img");return(0,ne.jsx)(a,J({ref:t,className:te()(i?"".concat(u,"-").concat(i):u,r)},s))}));nR.displayName="CardImg";var rR=nR,iR=["bsPrefix","className","as"],oR=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.as,a=void 0===o?"div":o,s=$(t,iR),u=ie(r,"card-header"),c=(0,e.useMemo)((function(){return{cardHeaderBsPrefix:u}}),[u]);return(0,ne.jsx)(ir.Provider,{value:c,children:(0,ne.jsx)(a,J(J({ref:n},s),{},{className:te()(i,u)}))})}));oR.displayName="CardHeader";var aR=oR,sR=["bsPrefix","className","bg","text","border","body","children","as"],uR=dn("h5"),cR=dn("h6"),lR=be("card-body"),fR=be("card-title",{Component:uR}),hR=be("card-subtitle",{Component:cR}),dR=be("card-link",{Component:"a"}),pR=be("card-text",{Component:"p"}),vR=be("card-footer"),gR=be("card-img-overlay"),yR=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,o=e.text,a=e.border,s=e.body,u=e.children,c=e.as,l=void 0===c?"div":c,f=$(e,sR),h=ie(n,"card");return(0,ne.jsx)(l,J(J({ref:t},f),{},{className:te()(r,h,i&&"bg-".concat(i),o&&"text-".concat(o),a&&"border-".concat(a)),children:s?(0,ne.jsx)(lR,{children:u}):u}))}));yR.displayName="Card",yR.defaultProps={body:!1};var mR=Object.assign(yR,{Img:rR,Title:fR,Subtitle:hR,Body:lR,Link:dR,Text:pR,Header:aR,Footer:vR,ImgOverlay:gR}),bR=n(574),wR=n(706),_R=function(t){var n=["Polska","Dolno\u015bl\u0105skie","Kujawsko-pomorskie","Lubelskie","Lubuskie","\u0141\xf3dzkie","Ma\u0142opolskie","Mazowieckie","Opolskie","Podkarpackie","Podlaskie","Pomorskie","\u015al\u0105skie","\u015awi\u0119tokrzyskie","Warmi\u0144sko-mazurskie","Wielkopolskie","Zachodniopomorskie"],r=Af(),i=r.user,a=(r.isAuthenticated,r.isLoading,o((0,e.useState)(n),2)),s=a[0],u=a[1],c=o((0,e.useState)(["kotek","kotka"]),2),l=c[0],f=c[1],h=o((0,e.useState)([0,50]),2),d=h[0],p=h[1],v=o((0,e.useState)([]),2),g=(v[0],v[1],o((0,e.useState)([]),2)),y=g[0],m=g[1],b=o((0,e.useState)([]),2),w=b[0],_=b[1];(0,e.useEffect)((function(){E()}),[]);var E=function(){Lf.default.database().ref("/users").on("value",(function(e){var t=e.val();m(t),_(t.length)}))};console.log(y),console.log(w);var k=function(){y.filter((function(e){return e.user===i.name})).length<1?Lf.default.database().ref("/users").child(w).set({id:w+1,user:i.name,favourites:t.data0}):i&&Lf.default.database().ref("/users").child(w).set({favourites:t.data0})};return(0,ne.jsxs)("div",{children:[(0,ne.jsx)("div",{className:"display-6 w-75 m-auto",children:"Znajd\u017a swojego towarzysza"}),(0,ne.jsx)(se,{children:(0,ne.jsxs)(se,{className:"search-box bg-green mx-0 my-4 p-3 position-relative",children:[(0,ne.jsxs)(se,{className:"w-lg-75 w-sm-100 m-0",children:[(0,ne.jsx)(eR.Select,{id:"form1",className:"my-3 w-100","aria-label":"Default select example",onChange:function(e){"Polska"===e.target.value?u(n):u(e.target.value)},children:n.map((function(e){return(0,ne.jsx)("option",{value:e,children:e})}))}),(0,ne.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,ne.jsxs)(eR.Select,{onChange:function(){var e=document.getElementById("form2");"1"===e.value?p([0,25]):"2"===e.value?p([0,2]):"3"===e.value?p([3,5]):"4"===e.value?p([6,10]):"5"===e.value&&p([11,50])},id:"form2","aria-label":"Default select example",children:[(0,ne.jsx)("option",{value:"1",children:"W ka\u017cdym wieku"}),(0,ne.jsx)("option",{value:"2",children:"0-2 lata"}),(0,ne.jsx)("option",{value:"3",children:"3-5 lat"}),(0,ne.jsx)("option",{value:"4",children:"6-10 lat"}),(0,ne.jsx)("option",{value:"5",children:"11+ lat"})]}),(0,ne.jsxs)(eR.Select,{onChange:function(){var e=document.getElementById("form3");"1"===e.value?f(["kotek","kotka"]):"2"===e.value?f(["kotka"]):"3"===e.value&&f(["kotek"])},id:"form3",className:"","aria-label":"Default select example",children:[(0,ne.jsx)("option",{value:"1",children:"Obie p\u0142cie"}),(0,ne.jsx)("option",{value:"2",children:"kotka"}),(0,ne.jsx)("option",{value:"3",children:"kotek"})]})]}),(0,ne.jsx)("button",{onClick:function(){var e=document.getElementById("cat-box1"),t=document.getElementById("cat-box2"),n=document.getElementById("cat-box-name");e.style.display="none",t.style.display="block",n.innerHTML="Znalezione koty:"},type:"button",className:"btn bg-green-button text-white w-100 my-3",children:"ZNAJD\u0179"})]}),(0,ne.jsx)(se,{children:(0,ne.jsx)("img",{className:"cat-background",alt:"",src:bR})})]})}),(0,ne.jsxs)("div",{id:"cat-box1",children:[(0,ne.jsx)("div",{id:"cat-box-name",className:"display-6 w-75 m-auto",children:"Ostatnio dodane"}),(0,ne.jsx)(se,{className:"w-75 mx-5 my-4 d-flex flex-wrap fading",children:t.data0.map((function(e){return(0,ne.jsxs)(mR,{className:"card card-hover",children:[(0,ne.jsxs)("div",{className:"position-relative",children:[(0,ne.jsx)(Y,{className:"link-unstyled",to:"/profiles/"+e.id,children:(0,ne.jsx)(mR.Img,{className:"card-photo",variant:"top",src:e.image})}),(0,ne.jsx)("img",{className:"fav",onClick:k,src:wR,alt:""})]}),(0,ne.jsxs)(mR.Body,{children:[(0,ne.jsx)(mR.Title,{children:e.name}),(0,ne.jsx)(mR.Text,{children:e.city+", "+e.region}),(0,ne.jsxs)(mR.Text,{className:"text-secondary",children:["dodane: ",e.created]}),(0,ne.jsxs)(mR.Text,{className:"text-secondary",children:["dodane przez: ",e.user]})]})]})})).reverse()})]}),(0,ne.jsx)("div",{id:"cat-box2",children:(0,ne.jsx)(se,{className:"w-75 mx-5 my-4 d-flex flex-wrap fading",children:t.data0.filter((function(e){return s.includes(e.region)})).filter((function(e){return e.age>d[0]&&e.age<=d[1]})).filter((function(e){return l.includes(e.sex)})).map((function(e){return(0,ne.jsxs)(mR,{className:"card card-hover",children:[(0,ne.jsxs)("div",{className:"position-relative",children:[(0,ne.jsx)(Y,{className:"link-unstyled",to:"/profiles/"+e.id,children:(0,ne.jsx)(mR.Img,{className:"card-photo",variant:"top",src:e.image})}),(0,ne.jsx)("img",{className:"fav",src:wR,alt:""})]}),(0,ne.jsxs)(mR.Body,{children:[(0,ne.jsx)(mR.Title,{children:e.name}),(0,ne.jsx)(mR.Text,{children:e.city+", "+e.region}),(0,ne.jsxs)(mR.Text,{className:"text-secondary",children:["dodane: ",e.created]}),(0,ne.jsxs)(mR.Text,{className:"text-secondary",children:["dodane przez: ",e.user]})]})]})})).reverse()})})]})},ER=function(t){var n=["Dolno\u015bl\u0105skie","Kujawsko-pomorskie","Lubelskie","Lubuskie","\u0141\xf3dzkie","Ma\u0142opolskie","Mazowieckie","Opolskie","Podkarpackie","Podlaskie","Pomorskie","\u015al\u0105skie","\u015awi\u0119tokrzyskie","Warmi\u0144sko-mazurskie","Wielkopolskie","Zachodniopomorskie"],r=o((0,e.useState)(n),2),i=r[0],a=r[1],s=o((0,e.useState)(["kotek","kotka"]),2),u=s[0],c=s[1],l=o((0,e.useState)([0,50]),2),f=l[0],h=l[1],d=function(e){e.target.checked?a(e.target.value):a([]),console.log(i)},p=function(e){e.target.checked?c(e.target.value):c([])};return console.log(t.data0.map((function(e){return e}))),(0,ne.jsxs)("div",{className:"position-relative d-flex flex-column flex-lg-row ",children:[(0,ne.jsxs)(se,{className:"checkboxes w-sm-100",children:[(0,ne.jsxs)("form",{className:"d-flex flex-column m-3",children:[(0,ne.jsx)("div",{className:"text-uppercase",children:"Lokalizacja"}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("input",{type:"radio",onClick:function(){return a(n)},id:"region1",name:"region",value:"Mazowieckie"}),(0,ne.jsx)("label",{className:"mx-1",for:"region",children:"Wszystkie"})]}),n.map((function(e){return(0,ne.jsxs)("div",{children:[(0,ne.jsx)("input",{type:"radio",onClick:d,name:"region",value:e}),(0,ne.jsx)("label",{className:"mx-1",for:"region",children:e})]})}))]}),(0,ne.jsxs)("form",{className:"d-flex flex-column m-3",children:[(0,ne.jsx)("div",{className:"text-uppercase",children:"Wiek"}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("input",{type:"radio",onClick:function(){return h([0,50])},id:"age1",name:"age",value:"baby"}),(0,ne.jsx)("label",{className:"mx-1",for:"age",children:"Wszystkie"})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("input",{type:"radio",onClick:function(){return h([0,2])},id:"age1",name:"age",value:"baby"}),(0,ne.jsx)("label",{className:"mx-1",for:"age",children:"0-2 lata"})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("input",{type:"radio",onClick:function(){return h([3,5])},id:"age2",name:"age",value:"young"}),(0,ne.jsx)("label",{className:"mx-1",for:"age",children:"3-5 lat"})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("input",{type:"radio",onClick:function(){return h([6,10])},id:"age3",name:"age",value:"adult"}),(0,ne.jsx)("label",{className:"mx-1",for:"age",children:"6-10 lat"})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("input",{type:"radio",onClick:function(){return h([11,50])},id:"age4",name:"age",value:"older"}),(0,ne.jsx)("label",{className:"mx-1",for:"age",children:"11+ lat"})]})]}),(0,ne.jsxs)("form",{className:"d-flex flex-column m-3",children:[(0,ne.jsx)("div",{className:"text-uppercase",children:"P\u0142e\u0107"}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("input",{type:"radio",onClick:function(){return c(["kotek","kotka"])},id:"sex",name:"vehicle1",value:"kot"}),(0,ne.jsx)("label",{className:"mx-1",for:"sex",children:"Obie p\u0142cie"})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("input",{type:"radio",onClick:p,id:"sex",name:"vehicle1",value:"kotek"}),(0,ne.jsx)("label",{className:"mx-1",for:"sex",children:"kotek"})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("input",{type:"radio",onClick:p,id:"sex",name:"vehicle1",value:"kotka"}),(0,ne.jsx)("label",{className:"mx-1",for:"sex",children:"Kotka"})]})]})]}),(0,ne.jsxs)(se,{children:[(0,ne.jsx)("div",{className:"display-6",children:"Koty czekaj\u0105ce na nowy dom"}),(0,ne.jsx)(se,{className:"w-lg-75 w-sm-100 mt-5 d-flex flex-wrap fading m-0",children:t.data0.filter((function(e){return i.includes(e.region)})).filter((function(e){return e.age>f[0]&&e.age<=f[1]})).filter((function(e){return u.includes(e.sex)})).map((function(e){return(0,ne.jsx)(mR,{className:"card card-hover",children:(0,ne.jsxs)(Y,{className:"link-unstyled",to:"/profiles/"+e.id,children:[(0,ne.jsxs)("div",{className:"position-relative",children:[(0,ne.jsx)(mR.Img,{className:"card-photo",variant:"top",src:e.image}),(0,ne.jsx)("img",{className:"fav",src:wR,alt:""})]}),(0,ne.jsxs)(mR.Body,{children:[(0,ne.jsx)(mR.Title,{children:e.name}),(0,ne.jsx)(mR.Text,{children:e.city+", "+e.region}),(0,ne.jsxs)(mR.Text,{className:"text-secondary",children:["dodane: ",e.created]}),(0,ne.jsxs)(mR.Text,{className:"text-secondary",children:["dodane przez: ",e.user]})]})]})})})).reverse()})]})]})};Lf.default.initializeApp({apiKey:"AIzaSyCzbm-cfG_WG1vXftwpXqcuYXuZ8Ifvsyk",authDomain:"cats-a081b.firebaseapp.com",databaseURL:"https://cats-a081b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"cats-a081b",storageBucket:"cats-a081b.appspot.com",messagingSenderId:"639433979518",appId:"1:639433979518:web:d815f83bcc4097c1d14a2f"});Lf.default.firestore();var kR=Lf.default.storage(),IR=(n(724),function(t){x().id;var n=Af(),r=n.user,i=(n.isAuthenticated,n.isLoading,o((0,e.useState)(null),2)),a=i[0],s=i[1],u=o((0,e.useState)("https://i.postimg.cc/ncPdBCCp/4dadbbe6d6872bbeee3e69a46b70bdd8.jpg"),2),c=u[0],l=u[1];return console.log(c),(0,ne.jsxs)(se,{children:[(0,ne.jsx)("div",{className:"display-6",children:"Stw\xf3rz nowe og\u0142oszenie"}),(0,ne.jsxs)(mR,{className:"card-profile",children:[(0,ne.jsx)("label",{for:"fname",children:"Imi\u0119 kota"}),(0,ne.jsx)("input",{onChange:function(){return console.log(document.getElementById("name").value)},id:"name",className:"my-3",type:"text",name:"firstname",placeholder:"Wpisz imi\u0119 kota.."}),(0,ne.jsxs)("div",{className:"d-flex flex-row align-bottom",children:[(0,ne.jsx)(mR.Img,{className:"card-profile-photo",variant:"top",src:c}),(0,ne.jsx)("div",{className:"buttons w-50 m-4"})]}),(0,ne.jsxs)("form",{className:"d-flex flex-row",onSubmit:function(e){e.preventDefault();var t=kR.ref("/images/".concat(a.name));t.put(a).on("state_changed",console.log,console.error,(function(){t.getDownloadURL().then((function(e){s(null),l(e)}))}))},children:[(0,ne.jsx)("input",{type:"file",onChange:function(e){s(e.target.files[0])}}),(0,ne.jsx)("button",{disabled:!a,children:"wy\u015blij zdj\u0119cie"})]}),(0,ne.jsxs)(mR.Body,{children:[(0,ne.jsxs)("form",{className:"d-flex flex-column w-25",action:"/action_page.php",children:[(0,ne.jsx)("label",{for:"age",children:"Wiek"}),(0,ne.jsxs)("select",{id:"age",name:"age",onChange:function(){return console.log(document.getElementById("age").value)},children:[(0,ne.jsx)("option",{value:"0",children:"Mniej ni\u017c rok"}),(0,ne.jsx)("option",{value:"1",children:"1 rok"}),(0,ne.jsx)("option",{value:"2",children:"2 lata"}),(0,ne.jsx)("option",{value:"3",children:"3 lata"}),(0,ne.jsx)("option",{value:"4",children:"4 lata"}),(0,ne.jsx)("option",{value:"5",children:"5 lat"}),(0,ne.jsx)("option",{value:"6",children:"6 lat"}),(0,ne.jsx)("option",{value:"7",children:"7 lat"}),(0,ne.jsx)("option",{value:"8",children:"8 lat"}),(0,ne.jsx)("option",{value:"9",children:"9 lat"}),(0,ne.jsx)("option",{value:"10",children:"10 lat"}),(0,ne.jsx)("option",{value:"11",children:"11 lat"}),(0,ne.jsx)("option",{value:"12",children:"12 lat"}),(0,ne.jsx)("option",{value:"13",children:"13 lat"}),(0,ne.jsx)("option",{value:"14",children:"14 lat"}),(0,ne.jsx)("option",{value:"15",children:"15 lat"}),(0,ne.jsx)("option",{value:"16",children:"16 lat"}),(0,ne.jsx)("option",{value:"17",children:"17 lat"}),(0,ne.jsx)("option",{value:"18",children:"18 lat"}),(0,ne.jsx)("option",{value:"19",children:"19 lat"})]})]}),(0,ne.jsxs)("form",{className:"d-flex flex-column w-25",children:[(0,ne.jsx)("label",{for:"sex",children:"P\u0142e\u0107"}),(0,ne.jsxs)("select",{id:"sex",name:"sex",onChange:function(){return console.log(document.getElementById("sex").value)},children:[(0,ne.jsx)("option",{value:"kotek",children:"Kot"}),(0,ne.jsx)("option",{value:"kotka",children:"Kotka"})]})]}),(0,ne.jsxs)("form",{className:"d-flex flex-column w-25",children:[(0,ne.jsx)("label",{for:"color",children:"Kolor sier\u015bci"}),(0,ne.jsxs)("select",{id:"color",name:"color",onChange:function(){return console.log(document.getElementById("color").value)},children:[(0,ne.jsx)("option",{value:"szary",children:"Szary"}),(0,ne.jsx)("option",{value:"czarny",children:"Czarny"}),(0,ne.jsx)("option",{value:"bia\u0142y",children:"Bia\u0142y"}),(0,ne.jsx)("option",{value:"rudy",children:"Rudy"}),(0,ne.jsx)("option",{value:"wielokolorowy",children:"Wielokolorowy"})]})]}),(0,ne.jsxs)("div",{className:"d-flex flex-column",children:[(0,ne.jsx)("label",{for:"fname",children:"Podaj sw\xf3j kontaktowy numer telefonu"}),(0,ne.jsx)("textarea",{onChange:function(){return console.log(document.getElementById("phone").value)},className:"w-100 text-wrap",type:"text",id:"phone",name:"firstname",placeholder:"numer telefonu.."})]}),(0,ne.jsxs)("div",{className:"d-flex flex-column",children:[(0,ne.jsx)("label",{for:"fname",children:"Podaj wojew\xf3dztwo"}),(0,ne.jsx)("textarea",{onChange:function(){return console.log(document.getElementById("region").value)},className:"w-100 text-wrap",type:"text",id:"region",name:"firstname",placeholder:"Wpisz wojew\xf3dztwo.."})]}),(0,ne.jsxs)("div",{className:"d-flex flex-column",children:[(0,ne.jsx)("label",{for:"fname",children:"Podaj miasto"}),(0,ne.jsx)("textarea",{onChange:function(){return console.log(document.getElementById("city").value)},className:"w-100 text-wrap",type:"text",id:"city",name:"firstname",placeholder:"Wpisz miasto.."})]}),(0,ne.jsxs)("div",{className:"d-flex flex-column",children:[(0,ne.jsx)("label",{for:"fname",children:"Stw\xf3rz kr\xf3tki opis kota"}),(0,ne.jsx)("textarea",{onChange:function(){return console.log(document.getElementById("description").value)},className:"w-100 height-20vh text-wrap",type:"text",id:"description",name:"firstname",placeholder:"Napisz histori\u0119 kota.."})]})]}),(0,ne.jsx)(mr,{onClick:function(){document.getElementById("name").value&&document.getElementById("age").value&&document.getElementById("color").value&&document.getElementById("sex").value&&document.getElementById("region").value&&document.getElementById("city").value&&document.getElementById("phone").value?(Lf.default.database().ref("/cats").child(t.childnum).set({id:t.childnum+1,name:document.getElementById("name").value,age:document.getElementById("age").value,color:document.getElementById("color").value,image:c,sex:document.getElementById("sex").value,region:document.getElementById("region").value,city:document.getElementById("city").value,phone:document.getElementById("phone").value,description:document.getElementById("description").value,created:(new Date).toLocaleString(),user:r.name}),document.getElementsByClassName("success-box")[0].style.visibility="visible",window.location.href="https://michalgornicki.github.io/cats"):window.alert("Prosz\u0119 uzupe\u0142ni\u0107 wszystkie pola")},className:"my-3 w-50",variant:"success",children:"Zatwierd\u017a"})]}),(0,ne.jsx)("div",{className:"success-box",onClick:function(){return document.getElementsByClassName("success-box")[0].style.visibility="hidden"},children:"Og\u0142oszenie zosta\u0142o opublikowane!"})]})}),SR=function(e){return(0,ne.jsx)("div",{children:(0,ne.jsxs)(se,{children:[(0,ne.jsx)("div",{className:"display-6",children:"Ulubione koty"}),(0,ne.jsx)(se,{className:"w-75 my-4 mx-auto d-flex flex-wrap fading"})]})})},TR=function(e){var t=Af(),n=t.user;t.isAuthenticated,t.isLoading;return(0,ne.jsxs)("div",{children:[(0,ne.jsx)("img",{className:"user-photo-large",src:n.picture,alt:n.name}),(0,ne.jsx)("div",{className:"text-center my-3 display-7",children:n.name}),(0,ne.jsx)("div",{className:"text-center my-3 display-7",children:n.email}),(0,ne.jsx)("div",{className:"display-5",children:"Moje og\u0142oszenia"}),(0,ne.jsx)(se,{className:"d-flex flex-wrap",children:e.data0.filter((function(e){return n.name.includes(e.user)})).map((function(e){return(0,ne.jsxs)(mR,{className:"card card-hover",children:[(0,ne.jsx)("div",{className:"position-relative",children:(0,ne.jsx)(Y,{className:"link-unstyled",to:"/profiles/"+e.id,children:(0,ne.jsx)(mR.Img,{className:"card-photo",variant:"top",src:e.image})})}),(0,ne.jsxs)(mR.Body,{children:[(0,ne.jsx)(mR.Title,{children:e.name}),(0,ne.jsx)(mR.Text,{children:e.city+", "+e.region})]})]})}))})]})},CR=function(e){var t=Af(),n=(t.user,t.isAuthenticated),r=(t.isLoading,x().id);return(0,ne.jsxs)(se,{className:"fading",children:[(0,ne.jsx)("div",{className:"display-6",children:"Profil kota"}),(0,ne.jsxs)(mR,{className:"card-profile",children:[(0,ne.jsxs)(mR.Title,{className:"display-6 mb-5",children:["Cze\u015b\u0107, nazywam si\u0119 ",e.data0[r-1].name,"!"]}),(0,ne.jsxs)("div",{className:"d-flex flex-row align-bottom",children:[(0,ne.jsx)(mR.Img,{className:"card-profile-photo",variant:"top",src:e.data0[r-1].image}),(0,ne.jsxs)("div",{className:"buttons w-50 m-4",children:[(0,ne.jsxs)(mr,{className:"m-1 w-50 bg-green-button",variant:"success",children:["Telefon: ",n?e.data0[r-1].phone:"***-***-***"]}),(0,ne.jsx)(mr,{className:"m-1 w-50 bg-green-button",variant:"success",children:n?"Dodaj do ulubionych \u2764\ufe0f":"Zaloguj si\u0119 aby \u2764\ufe0f"}),(0,ne.jsx)(mr,{className:"m-1 w-50 bg-green-button",variant:"success",onClick:function(){window.navigator.clipboard.writeText("https://michalgornicki.github.io/cats/#/profiles/"+e.data0[r-1].id)},children:"Kopiuj link \ud83d\udcec"})]})]}),(0,ne.jsxs)(mR.Body,{children:[(0,ne.jsx)("div",{className:"display-6 my-3",children:"O mnie:"}),(0,ne.jsxs)("div",{className:"div",children:["Wiek: ",e.data0[r-1].age," lat"]}),(0,ne.jsxs)("div",{className:"div",children:["P\u0142e\u0107: ",e.data0[r-1].sex]}),(0,ne.jsxs)("div",{className:"div",children:["Kolor sier\u015bci: ",e.data0[r-1].color]}),(0,ne.jsx)("div",{className:"display-6 my-3",children:"Moja historia:"}),(0,ne.jsx)("div",{className:"div",children:e.data0[r-1].description})]})]})]})},xR=function(){var t=Af(),n=(t.user,t.isAuthenticated,t.isLoading,o((0,e.useState)([]),2)),r=n[0],i=n[1],a=o((0,e.useState)([]),2),s=a[0],u=a[1];(0,e.useEffect)((function(){c()}),[]);var c=function(){Lf.default.database().ref("/cats").on("value",(function(e){var t=e.val();i(t),u(t.length)}))};return console.log(r),(0,ne.jsx)(G,{children:(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Df,{}),(0,ne.jsxs)(E,{children:[(0,ne.jsx)(w,{path:"/",element:(0,ne.jsx)(_R,{data0:r})}),(0,ne.jsx)(w,{path:"/Database",element:(0,ne.jsx)(ER,{data0:r})}),(0,ne.jsx)(w,{path:"/Create",element:(0,ne.jsx)(IR,{data0:r,childnum:s})}),(0,ne.jsx)(w,{path:"/Dashboard",element:(0,ne.jsx)(TR,{data0:r})}),(0,ne.jsx)(w,{path:"/Favourite",element:(0,ne.jsx)(SR,{data0:r})}),(0,ne.jsx)(w,{path:"/profiles/:id",element:(0,ne.jsx)(CR,{data0:r})})]})]})})},NR=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))};t.render((0,ne.jsxs)(e.StrictMode,{children:[(0,ne.jsx)(Of,{domain:"dev-vsmi61io.us.auth0.com",clientId:"Da5qawwo5IJU5rOFgpun7cPVVkv4j66S",redirectUri:"http://localhost:3000/",children:(0,ne.jsx)(xR,{})}),","]}),document.getElementById("root")),NR()}()}();
//# sourceMappingURL=main.20066547.js.map