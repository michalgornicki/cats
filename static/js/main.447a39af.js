/*! For license information please see main.447a39af.js.LICENSE.txt */
!function(){var e={446:function(e,t,n){"use strict";var r=n(740),i=n(181),o=n(933),a=n(293),s=n(386);function u(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var c,l=u(r),f=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),h=new a.ErrorFactory("appCheck","AppCheck",f),d=new Map,p={activated:!1,tokenObservers:[]},v={enabled:!1};function m(e){return d.get(e)||p}function g(e,t){d.set(e,t)}function y(){return v}var b="https://content-firebaseappcheck.googleapis.com/v1beta",w=3e4,_=96e4,E=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function k(){return self.grecaptcha}function I(e){if(!m(e).activated)throw h.create("use-before-activation",{appName:e.name})}function S(e){return a.base64.encodeString(JSON.stringify(e),!1)}function T(e,t){var n=e.url,r=e.body;return o.__awaiter(this,void 0,void 0,(function(){var e,i,a,s,u,c,l,f,d,p;return o.__generator(this,(function(o){switch(o.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:e},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw u=o.sent(),h.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw h.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),h.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(f=c.ttl.match(/^([\d.]+)(s)$/))||!f[2]||isNaN(Number(f[1])))throw h.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return d=1e3*Number(f[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}}))}))}function x(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":exchangeRecaptchaToken?key="+o,body:{recaptcha_token:t}}}function C(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":exchangeDebugToken?key="+o,body:{debug_token:t}}}var N="firebase-app-check-store",P="debug-token",O=null;function A(){return O||(O=new Promise((function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(h.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(N,{keyPath:"compositeKey"})}}catch(r){t(h.create("storage-open",{originalErrorMessage:r.message}))}})),O)}function R(e){return j(L(e))}function D(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,a;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,A()];case 1:return n=o.sent(),r=n.transaction(N,"readwrite"),i=r.objectStore(N),a=i.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){a.onsuccess=function(t){e()},r.onerror=function(e){var n;t(h.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function j(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,A()];case 1:return t=o.sent(),n=t.transaction(N,"readonly"),r=n.objectStore(N),i=r.get(e),[2,new Promise((function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(h.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function L(e){return e.options.appId+"-"+e.name}var M=new s.Logger("@firebase/app-check");function F(e,t){return a.isIndexedDBAvailable()?function(e,t){return D(L(e),t)}(e,t).catch((function(e){M.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function U(){return o.__awaiter(this,void 0,void 0,(function(){var e,t;return o.__generator(this,(function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,j(P)];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),(r=t,D(P,r)).catch((function(e){return M.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r}))}))}function V(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){if((e=y()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var q={error:"UNKNOWN_ERROR"};function B(e,t,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,a,s,u,c,l,f,h,d;return o.__generator(this,(function(p){switch(p.label){case 0:return I(e),r=m(e),i=r.token,a=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:(s=p.sent())&&H(s)&&(i=s,g(e,o.__assign(o.__assign({},r),{token:i})),W(e,{token:i.token})),p.label=2;case 2:return!n&&i&&H(i)?[2,{token:i.token}]:y().enabled?(c=T,l=C,f=[e],[4,V()]):[3,6];case 3:return[4,c.apply(void 0,[l.apply(void 0,f.concat([p.sent()])),t])];case 4:return u=p.sent(),[4,F(e,u)];case 5:return p.sent(),g(e,o.__assign(o.__assign({},r),{token:u})),[2,{token:u.token}];case 6:return p.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=p.sent(),[3,9];case 8:return h=p.sent(),M.error(h),a=h,[3,9];case 9:return i?[3,10]:(d=function(e){return{token:S(q),error:e}}(a),[3,12]);case 10:return d={token:i.token},g(e,o.__assign(o.__assign({},r),{token:i})),[4,F(e,i)];case 11:p.sent(),p.label=12;case 12:return W(e,d),[2,d]}}))}))}function K(e,t,n,r,i){var a=m(e),s={next:r,error:i,type:n},u=o.__assign(o.__assign({},a),{tokenObservers:o.__spreadArray(o.__spreadArray([],a.tokenObservers),[s])});if(!u.tokenRefresher){var c=function(e,t){var n=this;return new E((function(){return o.__awaiter(n,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return m(e).token?[3,2]:[4,B(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,B(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var t=m(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5,r=t.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),w,_)}(e,t);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),a.token&&H(a.token)){var l=a.token;Promise.resolve().then((function(){return r({token:l.token})})).catch((function(){}))}else null==a.token&&a.cachedTokenPromise.then((function(e){e&&H(e)&&r({token:e.token})})).catch((function(){}));g(e,u)}function z(e,t){var n=m(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),g(e,o.__assign(o.__assign({},n),{tokenObservers:r}))}function W(e,t){for(var n=0,r=m(e).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}}function H(e){return e.expireTimeMillis-Date.now()>0}var G="https://www.google.com/recaptcha/api.js";function Y(e,t){var n=m(e),r=new a.Deferred;g(e,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u=k();return u?u.ready((function(){Q(e,t,u,i),r.resolve(u)})):function(e){var t=document.createElement("script");t.src=""+G,t.onload=e,document.head.appendChild(t)}((function(){var n=k();if(!n)throw new Error("no recaptcha");n.ready((function(){Q(e,t,n,i),r.resolve(n)}))})),r.promise}function X(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:return I(e),[4,m(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var i=m(e).reCAPTCHAState;t.ready((function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function Q(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=m(e);g(e,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var Z=function(){function e(e){this._siteKey=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:if(!this._app||!this._platformLoggerProvider)throw h.create("use-before-activation",{appName:""});t.label=1;case 1:return t.trys.push([1,3,,4]),[4,X(this._app)];case 2:return e=t.sent(),[3,4];case 3:throw t.sent(),h.create("recaptcha-error");case 4:return[2,T(x(this._app,e),this._platformLoggerProvider)]}}))}))},e.prototype.initialize=function(e,t){this._app=e,this._platformLoggerProvider=t,Y(e,this._siteKey).catch((function(){}))},e}(),J=function(){function e(e){this._customProviderOptions=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!this._app)throw h.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=r.sent(),t=a.issuedAtTime(e.token),n=null!==t&&t<Date.now()&&t>0?1e3*t:Date.now(),[2,o.__assign(o.__assign({},e),{issuedAtTimeMillis:n})]}}))}))},e.prototype.initialize=function(e){this._app=e},e}();function $(e,t,n,r){var i=m(e);if(i.activated)throw h.create("already-activated",{appName:e.name});var s=o.__assign(o.__assign({},i),{activated:!0});s.cachedTokenPromise=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,R(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),M.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}(e).then((function(t){return t&&H(t)&&g(e,o.__assign(o.__assign({},m(e)),{token:t})),t})),s.provider="string"===typeof t?new Z(t):t instanceof Z||t instanceof J?t:new J({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=void 0===r?e.automaticDataCollectionEnabled:r,g(e,s),s.provider.initialize(e,n)}function ee(e,t){return{app:e,activate:function(n,r){return $(e,n,t,r)},setTokenAutoRefreshEnabled:function(t){return function(e,t){var n=m(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),g(e,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:t}))}(e,t)},getToken:function(n){return function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,B(e,t,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(e,t,n)},onTokenChanged:function(n,r,i){return function(e,t,n,r,i){var o=function(){},a=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),K(e,t,"EXTERNAL",o,a),function(){return z(e,o)}}(e,t,n,r)},INTERNAL:{delete:function(){for(var t=0,n=m(e).tokenObservers;t<n.length;t++){var r=n[t];z(e,r.next)}return Promise.resolve()}}}}var te="app-check-internal";!function(e){e.INTERNAL.registerComponent(new i.Component("appCheck",(function(e){return ee(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setServiceProps({ReCaptchaV3Provider:Z,CustomProvider:J}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider(te).initialize()}))),e.INTERNAL.registerComponent(new i.Component(te,(function(e){return function(e,t){return{getToken:function(n){return B(e,t,n)},addTokenListener:function(n){return K(e,t,"INTERNAL",n)},removeTokenListener:function(t){return z(e,t)}}}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.3.2")}(l.default),function(){var e=a.getGlobal();if("string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=y();t.enabled=!0;var n=new a.Deferred;t.token=n,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(U())}}()},933:function(e,t,n){"use strict";n.r(t),n.d(t,{__extends:function(){return i},__assign:function(){return o},__rest:function(){return a},__decorate:function(){return s},__param:function(){return u},__metadata:function(){return c},__awaiter:function(){return l},__generator:function(){return f},__createBinding:function(){return h},__exportStar:function(){return d},__values:function(){return p},__read:function(){return v},__spread:function(){return m},__spreadArrays:function(){return g},__spreadArray:function(){return y},__await:function(){return b},__asyncGenerator:function(){return w},__asyncDelegator:function(){return _},__asyncValues:function(){return E},__makeTemplateObject:function(){return k},__importStar:function(){return S},__importDefault:function(){return T},__classPrivateFieldGet:function(){return x},__classPrivateFieldSet:function(){return C}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var h=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function d(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||h(t,e,n)}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function w(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var I=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&h(t,e,n);return I(t,e),t}function T(e){return e&&e.__esModule?e:{default:e}}function x(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function C(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}},740:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _},firebase:function(){return w}});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.create;Object.create;var i,o,a=n(293),s=n(181),u=n(386),c=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),l=new a.ErrorFactory("app","Firebase",c),f="@firebase/app",h="[DEFAULT]",d=((o={})[f]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/app-check"]="fire-app-check",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),p=new u.Logger("@firebase/app"),v=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.deepCopy)(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=h),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=h),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var m=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=h);var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.contains)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument");(0,u.setUserLogHandler)(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||h,!(0,a.contains)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.deepExtend)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,f=Object.keys(t);c<f.length;c++){var h=f[c];t[h]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(v);return t.INTERNAL=r(r({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.deepExtend)(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),g=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if((0,a.isBrowser)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.isNode)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var w=m;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new g(e)}),"PRIVATE")),e.registerVersion(f,"0.6.30",t),e.registerVersion("fire-js","")}(w);var _=w},181:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return c},ComponentContainer:function(){return h},Provider:function(){return f}});function r(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function o(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function s(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var u=n(293),c=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),l="[DEFAULT]",f=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new u.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:l})}catch(d){}try{for(var r=o(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var s=a(i.value,2),u=s[0],c=s[1],f=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:f});c.resolve(h)}catch(d){}}}catch(p){t={error:p}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=l),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(s(s([],a(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),a(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=l),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=l),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:i});try{for(var c=o(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var f=a(l.value,2),h=f[0],d=f[1];s===this.normalizeInstanceIdentifier(h)&&d.resolve(u)}}catch(p){t={error:p}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return u},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var a=o(i),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===l?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=l),this.component?this.component.multipleInstances?e:l:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var h=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new f(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},172:function(e,t,n){"use strict";var r=n(740),i=n(181),o=n(293),a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)};function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u.apply(this,arguments)};function c(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function f(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(O){i={error:O}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function d(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var p=n(386);e=n.hmd(e);var v="";function m(e){v=e}var g=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.stringify)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.jsonEval)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),y=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.contains)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),b=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new g(t)}}catch(n){}return new y},w=b("localStorage"),_=b("sessionStorage"),E=new p.Logger("@firebase/database"),k=function(){var e=1;return function(){return e++}}(),I=function(e){var t=(0,o.stringToByteArray)(e),n=new o.Sha1;n.update(t);var r=n.digest();return o.base64.encodeByteArray(r)},S=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var a=t[i];Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length?r+=e.apply(null,a):r+="object"===typeof a?(0,o.stringify)(a):a,r+=" "}return r},T=null,x=!0,C=function(e,t){(0,o.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(E.logLevel=p.LogLevel.VERBOSE,T=E.log.bind(E),t&&_.set("logging_enabled",!0)):"function"===typeof e?T=e:(T=null,_.remove("logging_enabled"))},N=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===x&&(x=!1,null===T&&!0===_.get("logging_enabled")&&C(!0)),T){var n=S.apply(null,e);T(n)}},P=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];N.apply(void 0,d([e],h(t)))}},O=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+S.apply(void 0,d([],h(e)));E.error(n)},A=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+S.apply(void 0,d([],h(e)));throw E.error(n),new Error(n)},R=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+S.apply(void 0,d([],h(e)));E.warn(n)},D=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},j="[MIN_NAME]",L="[MAX_NAME]",M=function(e,t){if(e===t)return 0;if(e===j||t===L)return-1;if(t===j||e===L)return 1;var n=G(e),r=G(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},F=function(e,t){return e===t?0:e<t?-1:1},U=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.stringify)(t))},V=function e(t){if("object"!==typeof t||null===t)return(0,o.stringify)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=(0,o.stringify)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},q=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function B(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var K=function(e){(0,o.assert)(!D(e),"Invalid JSON number");var t,n,r,i,a,s=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var c=u.join(""),l="";for(a=0;a<64;a+=8){var f=parseInt(c.substr(a,8),2).toString(16);1===f.length&&(f="0"+f),l+=f}return l.toLowerCase()};var z=new RegExp("^-?(0*)\\d{1,10}$"),W=-2147483648,H=2147483647,G=function(e){if(z.test(e)){var t=Number(e);if(t>=W&&t<=H)return t}return null},Y=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw R("Exception was thrown by user callback.",e),t}),Math.floor(0))}},X=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},Q=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){R('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),Z=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(N("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',R(e)},e}(),J=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),$="5",ee=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,te="websocket",ne="long_polling",re=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=w.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&w.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function ie(e,t,n){var r;if((0,o.assert)("string"===typeof t,"typeof type must == string"),(0,o.assert)("object"===typeof n,"typeof params must == object"),t===te)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ne)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return B(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var oe=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.deepCopy)(this.counters_)},e}(),ae={},se={};function ue(e){var t=e.toString();return ae[t]||(ae[t]=new oe),ae[t]}var ce=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&Y((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),le="start",fe="close",he=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=P(e),this.stats_=ue(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),ie(t,ne,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ce(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,o.isNodeSdk)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new de((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=h(e,5),i=r[0],o=r[1],a=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===le)n.id=o,n.password=a;else{if(i!==fe)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=h(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=$,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&ee.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(0,o.isNodeSdk)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.base64Encode)(t),r=q(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),de=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.isNodeSdk)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=k(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){N("frame writing exception"),u.stack&&N(u.stack),N(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||N("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;(0,o.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){N("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),pe=null;"undefined"!==typeof MozWebSocket?pe=MozWebSocket:"undefined"!==typeof WebSocket&&(pe=WebSocket);var ve=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=P(this.connId),this.stats_=ue(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={};return i.v=$,!(0,o.isNodeSdk)()&&"undefined"!==typeof location&&location.hostname&&ee.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),ie(e,te,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,w.set("previous_websocket_failure",!0);try{if((0,o.isNodeSdk)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+v+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/cats",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new pe(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new pe(this.connURL,[],i)}}catch(c){this.log_("Error instantiating WebSocket.");var u=c.message||c.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==pe&&!e.forceDisallow_},e.previouslyFailed=function(){return w.isInMemoryStorage||!0===w.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){w.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.jsonEval)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=q(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),me=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[he,ve]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ve&&ve.isAvailable(),o=i&&!ve.previouslyFailed();if(t.webSocketOnly&&(i||R("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ve];else{var a=this.transports_=[];try{for(var s=f(e.ALL_TRANSPORTS),u=s.next();!u.done;u=s.next()){var c=u.value;c&&c.isAvailable()&&a.push(c)}}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),ge=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=P("c:"+this.id+":"),this.transportManager_=new me(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=X((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=U("t",e),n=U("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=U("t",e),n=U("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=U("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?O("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):O("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),$!==n&&R("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),X((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):X((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(w.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),ye=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),be=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=d([],h(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.assert)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),we=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,o.isMobileCordova)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return s(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(be),_e=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function Ee(){return new _e("")}function ke(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ie(e){return e.pieces_.length-e.pieceNum_}function Se(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new _e(e.pieces_,t)}function Te(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function xe(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function Ce(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new _e(t,0)}function Ne(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof _e)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new _e(n,0)}function Pe(e){return e.pieceNum_>=e.pieces_.length}function Oe(e,t){var n=ke(e),r=ke(t);if(null===n)return t;if(n===r)return Oe(Se(e),Se(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ae(e,t){for(var n=xe(e,0),r=xe(t,0),i=0;i<n.length&&i<r.length;i++){var o=M(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Re(e,t){if(Ie(e)!==Ie(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function De(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Ie(e)>Ie(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var je=function(e,t){this.errorPrefix_=t,this.parts_=xe(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.stringLength)(this.parts_[n]);Le(this)};function Le(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Me(e))}function Me(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Fe,Ue,Ve=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return s(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(be),qe=1e3,Be=function(e){function t(n,r,i,a,s,u,c,l){var f=e.call(this)||this;if(f.repoInfo_=n,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=a,f.onServerInfoUpdate_=s,f.authTokenProvider_=u,f.appCheckTokenProvider_=c,f.authOverride_=l,f.id=t.nextPersistentConnectionId_++,f.log_=P("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=qe,f.maxReconnectDelay_=3e5,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,l&&!(0,o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Ve.getInstance().on("visible",f.onVisible_,f),-1===n.host.indexOf("fblocal")&&we.getInstance().on("online",f.onOnline_,f),f}return s(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,o.stringify)(i)),(0,o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.Deferred,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.assert)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&(0,o.contains)(e,"w")){var n=(0,o.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();R("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.isValidFormat)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.stringify)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):O("Unrecognized action received from server: "+(0,o.stringify)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qe,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=qe,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=qe),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return c(this,void 0,void 0,(function(){var e,n,r,i,a,s,u,c,f,d,p,v,m,g,y=this;return l(this,(function(l){switch(l.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,r())},f=function(e){(0,o.assert)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:f},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)])];case 2:return p=h.apply(void 0,[l.sent(),2]),v=p[0],m=p[1],s?N("getToken() completed but was canceled"):(N("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,u=new ge(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){R(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),a)),[3,4];case 3:return g=l.sent(),this.log_("Failed to get token: "+g),s||(this.repoInfo_.nodeAdmin&&R(g),c()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){N("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){N("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=qe,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return V(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new _e(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){N("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){N("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=f(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,f(a.values())),u=s.next();!u.done;u=s.next()){var c=u.value;this.sendListen_(c)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+v.replace(/\./g,"-")]=1,(0,o.isMobileCordova)()?e["framework.cordova"]=1:(0,o.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=we.getInstance().currentlyOnline();return(0,o.isEmpty)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(ye),Ke=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),ze=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Ke(j,e),r=new Ke(j,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Ke.MIN},e}(),We=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Fe},set:function(e){Fe=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return M(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Ke.MIN},t.prototype.maxPost=function(){return new Ke(L,Fe)},t.prototype.makePost=function(e,t){return(0,o.assert)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Ke(e,Fe)},t.prototype.toString=function(){return".key"},t}(ze),He=new We,Ge=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Ye=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Qe.EMPTY_NODE,this.right=null!=o?o:Qe.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Qe.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Qe.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Xe=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ye(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Qe=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ye.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ye.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Ge(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Ge(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Ge(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Ge(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Xe,e}();function Ze(e,t){return M(e.name,t.name)}function Je(e,t){return M(e,t)}var $e,et,tt,nt=function(e){return"number"===typeof e?"number:"+K(e):"string:"+e},rt=function(e){if(e.isLeafNode()){var t=e.val();(0,o.assert)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,o.contains)(t,".sv"),"Priority must be a string or number.")}else(0,o.assert)(e===Ue||e.isEmpty(),"priority of unexpected type.");(0,o.assert)(e===Ue||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},it=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),rt(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return $e},set:function(e){$e=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Pe(t)?this:".priority"===ke(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ke(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.assert)(".priority"!==r||1===Ie(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Se(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+nt(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?K(this.value_):this.value_,this.lazyHash_=I(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.assert)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.assert)(i>=0,"Unknown leaf type: "+n),(0,o.assert)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var ot,at,st=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?M(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Ke.MIN},t.prototype.maxPost=function(){return new Ke(L,new it("[PRIORITY-POST]",tt))},t.prototype.makePost=function(e,t){var n=et(e);return new Ke(t,new it("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(ze),ut=new st,ct=Math.log(2),lt=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/ct,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),ft=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new Ye(a,o.node,Ye.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new Ye(a,o.node,Ye.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],f=n?n(l):l;u(new Ye(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,Ye.BLACK):(s(f,Ye.BLACK),s(f,Ye.RED))}return o}(new lt(e.length));return new Qe(r||t,o)},ht={},dt=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.assert)(ht&&ut,"ChildrenNode.ts has not been loaded"),ot=ot||new e({".priority":ht},{".priority":ut})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Qe?t:null},e.prototype.hasIndex=function(e){return(0,o.contains)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.assert)(t!==He,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,s=n.getIterator(Ke.Wrap),c=s.getNext();c;)a=a||t.isDefinedOn(c.node),i.push(c),c=s.getNext();r=a?ft(i,t.getCompare()):ht;var l=t.toString(),f=u({},this.indexSet_);f[l]=t;var h=u({},this.indexes_);return h[l]=r,new e(h,f)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,o.map)(this.indexes_,(function(e,i){var a=(0,o.safeGet)(r.indexSet_,i);if((0,o.assert)(a,"Missing index implementation for "+i),e===ht){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Ke.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),ft(s,a.getCompare())}return ht}var l=n.get(t.name),f=e;return l&&(f=f.remove(new Ke(t.name,l))),f.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,o.map)(this.indexes_,(function(e){if(e===ht)return e;var r=n.get(t.name);return r?e.remove(new Ke(t.name,r)):e})),this.indexSet_)},e}(),pt=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&rt(this.priorityNode_),this.children_.isEmpty()&&(0,o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return at||(at=new e(new Qe(Je),null,dt.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||at},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?at:t},e.prototype.getChild=function(e){var t=ke(e);return null===t?this:this.getImmediateChild(t).getChild(Se(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.assert)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Ke(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?at:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=ke(e);if(null===n)return t;(0,o.assert)(".priority"!==ke(e)||1===Ie(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Se(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(ut,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+nt(this.getPriority().val())+":"),this.forEachChild(ut,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":I(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ke(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Ke(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Ke(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Ke.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Ke.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vt?-1:0},e.prototype.withIndex=function(t){if(t===He||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===He||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(ut),r=t.getIterator(ut),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===He?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),vt=new(function(e){function t(){return e.call(this,new Qe(Je),pt.EMPTY_NODE,dt.Default)||this}return s(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return pt.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(pt));Object.defineProperties(Ke,{MIN:{value:new Ke(j,pt.EMPTY_NODE)},MAX:{value:new Ke(L,vt)}}),We.__EMPTY_NODE=pt.EMPTY_NODE,it.__childrenNodeConstructor=pt,Ue=vt,function(e){tt=e}(vt);function mt(e,t){if(void 0===t&&(t=null),null===e)return pt.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.assert)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new it(e,mt(t));if(e instanceof Array){var n=pt.EMPTY_NODE;return B(e,(function(t,r){if((0,o.contains)(e,t)&&"."!==t.substring(0,1)){var i=mt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(mt(t))}var r=[],i=!1;if(B(e,(function(e,t){if("."!==e.substring(0,1)){var n=mt(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ke(e,n)))}})),0===r.length)return pt.EMPTY_NODE;var a=ft(r,Ze,(function(e){return e.name}),Je);if(i){var s=ft(r,ut.getCompare());return new pt(a,mt(t),new dt({".priority":s},{".priority":ut}))}return new pt(a,mt(t),dt.Default)}!function(e){et=e}(mt);var gt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.assert)(!Pe(t)&&".priority"!==ke(t),"Can't create PathIndex with empty path or .priority key"),n}return s(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?M(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=mt(e),r=pt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ke(t,r)},t.prototype.maxPost=function(){var e=pt.EMPTY_NODE.updateChild(this.indexPath_,vt);return new Ke(L,e)},t.prototype.toString=function(){return xe(this.indexPath_,0).join("/")},t}(ze),yt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?M(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Ke.MIN},t.prototype.maxPost=function(){return Ke.MAX},t.prototype.makePost=function(e,t){var n=mt(e);return new Ke(t,n)},t.prototype.toString=function(){return".value"},t}(ze),bt=new yt,wt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",_t=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=wt.charAt(n%64),n=Math.floor(n/64);(0,o.assert)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=wt.charAt(t[r]);return(0,o.assert)(20===s.length,"nextPushId: Length should be 20."),s}}(),Et=function(e){if("2147483647"===e)return"-";var t=G(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return L;var o=n[i],a=wt.charAt(wt.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},kt=function(e){if("-2147483648"===e)return j;var t=G(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=wt.charAt(wt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function It(e){return{type:"value",snapshotNode:e}}function St(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Tt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function xt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Ct=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(Tt(t,s)):(0,o.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(St(t,n)):a.trackChildChange(xt(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(ut,(function(e,r){t.hasChild(e)||n.trackChildChange(Tt(e,r))})),t.isLeafNode()||t.forEachChild(ut,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(xt(t,r,i))}else n.trackChildChange(St(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?pt.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),Nt=function(){function e(t){this.indexedFilter_=new Ct(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Ke(t,n))||(n=pt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=pt.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(pt.EMPTY_NODE);var i=this;return t.forEachChild(ut,(function(e,t){i.matches(new Ke(e,t))||(r=r.updateImmediateChild(e,pt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),Pt=function(){function e(e){this.rangedFilter_=new Nt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Ke(t,n))||(n=pt.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=pt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=pt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(pt.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var f=!1;i.hasNext();){a=i.getNext();!f&&c(s,a)<=0&&(f=!0),f&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,pt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;(0,o.assert)(u.numChildren()===this.limit_,"");var c=new Ke(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),f=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var h=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(f&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(xt(t,n,h)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Tt(t,h));var v=u.updateImmediateChild(t,pt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(St(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:f&&a(l,c)>=0?(null!=i&&(i.trackChildChange(Tt(l.name,l.node)),i.trackChildChange(St(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,pt.EMPTY_NODE)):e},e}(),Ot=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ut}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:j},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:L},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===ut},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function At(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Rt(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Dt(e,t){var n=e.copy();return n.index_=t,n}function jt(e){var t,n={};return e.isDefault()||(e.index_===ut?t="$priority":e.index_===bt?t="$value":e.index_===He?t="$key":((0,o.assert)(e.index_ instanceof gt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,o.stringify)(t),e.startSet_&&(n.startAt=(0,o.stringify)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.stringify)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.stringify)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.stringify)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Lt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==ut&&(t.i=e.index_.toString()),t}var Mt=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=P("p:rest:"),o.listens_={},o}return s(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=jt(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,o.safeGet)(a.listens_,u)===c)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=jt(e._queryParams),r=e._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=h(i,2),s=a[0],u=a[1];s&&s.accessToken&&(t.auth=s.accessToken),u&&u.token&&(t.ac=u.token);var c=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.querystring)(t);r.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(n&&4===l.readyState){r.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=(0,o.jsonEval)(l.responseText)}catch(t){R("Failed to parse JSON response for "+c+": "+l.responseText)}n(null,e)}else 401!==l.status&&404!==l.status&&R("Got unsuccessful REST response for "+c+" Status: "+l.status),n(l.status);n=null}},l.open("GET",c,!0),l.send()}))},t}(ye),Ft=function(){function e(){this.rootNode_=pt.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Ut(){return{value:null,children:new Map}}function Vt(e,t,n){if(Pe(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ke(t);e.children.has(r)||e.children.set(r,Ut()),Vt(e.children.get(r),t=Se(t),n)}}function qt(e,t){if(Pe(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(ut,(function(t,n){Vt(e,new _e(t),n)})),qt(e,t)}if(e.children.size>0){var r=ke(t);if(t=Se(t),e.children.has(r))qt(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Bt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Bt(r,new _e(t.toString()+"/"+e),n)}))}var Kt,zt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=u({},e);return this.last_&&B(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Wt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new zt(e);var n=1e4+2e4*Math.random();X(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;B(t,(function(t,i){i>0&&(0,o.contains)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),X(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function Ht(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Kt||(Kt={}));var Gt,Yt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Kt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(Pe(this.path)){if(null!=this.affectedTree.value)return(0,o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new _e(t));return new e(Ee(),n,this.revert)}return(0,o.assert)(ke(this.path)===t,"operationForChild called for unrelated child."),new e(Se(this.path),this.affectedTree,this.revert)},e}(),Xt=function(){function e(e,t){this.source=e,this.path=t,this.type=Kt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Pe(this.path)?new e(this.source,Ee()):new e(this.source,Se(this.path))},e}(),Qt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Kt.OVERWRITE}return e.prototype.operationForChild=function(t){return Pe(this.path)?new e(this.source,Ee(),this.snap.getImmediateChild(t)):new e(this.source,Se(this.path),this.snap)},e}(),Zt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Kt.MERGE}return e.prototype.operationForChild=function(t){if(Pe(this.path)){var n=this.children.subtree(new _e(t));return n.isEmpty()?null:n.value?new Qt(this.source,Ee(),n.value):new e(this.source,Ee(),n)}return(0,o.assert)(ke(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Se(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Jt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(Pe(e))return this.isFullyInitialized()&&!this.filtered_;var t=ke(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),$t=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function en(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.assertionError)("Should only compare child_ events.");var r=new Ke(t.childName,t.snapshotNode),i=new Ke(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function tn(e,t){return{eventCache:e,serverCache:t}}function nn(e,t,n,r){return tn(new Jt(t,n,r),e.serverCache)}function rn(e,t,n,r){return tn(e.eventCache,new Jt(t,n,r))}function on(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function an(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var sn=function(){function e(e,t){void 0===t&&(Gt||(Gt=new Qe(F)),t=Gt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return B(t,(function(e,t){n=n.set(new _e(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:Ee(),value:this.value};if(Pe(e))return null;var n=ke(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Se(e),t);return null!=i?{path:Ne(new _e(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(Pe(t))return this;var n=ke(t),r=this.children.get(n);return null!==r?r.subtree(Se(t)):new e(null)},e.prototype.set=function(t,n){if(Pe(t))return new e(n,this.children);var r=ke(t),i=(this.children.get(r)||new e(null)).set(Se(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(Pe(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ke(t),r=this.children.get(n);if(r){var i=r.remove(Se(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(Pe(e))return this.value;var t=ke(e),n=this.children.get(t);return n?n.get(Se(e)):null},e.prototype.setTree=function(t,n){if(Pe(t))return n;var r=ke(t),i=(this.children.get(r)||new e(null)).setTree(Se(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(Ee(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Ne(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,Ee(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Pe(e))return null;var i=ke(e),o=this.children.get(i);return o?o.findOnPath_(Se(e),Ne(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,Ee(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(Pe(t))return this;this.value&&r(n,this.value);var i=ke(t),o=this.children.get(i);return o?o.foreachOnPath_(Se(t),Ne(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(Ee(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Ne(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),un=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new sn(null))},e}();function cn(e,t,n){if(Pe(t))return new un(new sn(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Oe(i,t);return o=o.updateChild(a,n),new un(e.writeTree_.set(i,o))}var s=new sn(n),u=e.writeTree_.setTree(t,s);return new un(u)}function ln(e,t,n){var r=e;return B(n,(function(e,n){r=cn(r,Ne(t,e),n)})),r}function fn(e,t){if(Pe(t))return un.empty();var n=e.writeTree_.setTree(t,new sn(null));return new un(n)}function hn(e,t){return null!=dn(e,t)}function dn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Oe(n.path,t)):null}function pn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ut,(function(e,n){t.push(new Ke(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ke(e,n.value))})),t}function vn(e,t){if(Pe(t))return e;var n=dn(e,t);return new un(null!=n?new sn(n):e.writeTree_.subtree(t))}function mn(e){return e.writeTree_.isEmpty()}function gn(e,t){return yn(Ee(),e.writeTree_,t)}function yn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=yn(Ne(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Ne(e,".priority"),r)),n}function bn(e,t){return An(t,e)}function wn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&_n(u,r.path)?i=!1:De(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return function(e){e.visibleWrites=kn(e.allWrites,En,Ee()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=fn(e.visibleWrites,r.path):B(r.children,(function(t){e.visibleWrites=fn(e.visibleWrites,Ne(r.path,t))}));return!0}return!1}function _n(e,t){if(e.snap)return De(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&De(Ne(e.path,n),t))return!0;return!1}function En(e){return e.visible}function kn(e,t,n){for(var r=un.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)De(n,s)?r=cn(r,u=Oe(n,s),a.snap):De(s,n)&&(u=Oe(s,n),r=cn(r,Ee(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.assertionError)("WriteRecord should have .snap or .children");if(De(n,s))r=ln(r,u=Oe(n,s),a.children);else if(De(s,n))if(Pe(u=Oe(s,n)))r=ln(r,Ee(),a.children);else{var c=(0,o.safeGet)(a.children,ke(u));if(c){var l=c.getChild(Se(u));r=cn(r,Ee(),l)}}}}}return r}function In(e,t,n,r,i){if(r||i){var o=vn(e.visibleWrites,t);if(!i&&mn(o))return n;if(i||null!=n||hn(o,Ee())){return gn(kn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(De(e.path,t)||De(t,e.path))}),t),n||pt.EMPTY_NODE)}return null}var a=dn(e.visibleWrites,t);if(null!=a)return a;var s=vn(e.visibleWrites,t);return mn(s)?n:null!=n||hn(s,Ee())?gn(s,n||pt.EMPTY_NODE):null}function Sn(e,t,n,r){return In(e.writeTree,e.treePath,t,n,r)}function Tn(e,t){return function(e,t,n){var r=pt.EMPTY_NODE,i=dn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ut,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=vn(e.visibleWrites,t);return n.forEachChild(ut,(function(e,t){var n=gn(vn(o,new _e(e)),t);r=r.updateImmediateChild(e,n)})),pn(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return pn(vn(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function xn(e,t,n,r){return function(e,t,n,r,i){(0,o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Ne(t,n);if(hn(e.visibleWrites,a))return null;var s=vn(e.visibleWrites,a);return mn(s)?i.getChild(n):gn(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Cn(e,t){return function(e,t){return dn(e.visibleWrites,t)}(e.writeTree,Ne(e.treePath,t))}function Nn(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=vn(e.visibleWrites,t),c=dn(u,Ee());if(null!=c)s=c;else{if(null==n)return[];s=gn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=a.getCompare(),h=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function Pn(e,t,n){return function(e,t,n,r){var i=Ne(t,n),o=dn(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?gn(vn(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function On(e,t){return An(Ne(e.treePath,t),e.writeTree)}function An(e,t){return{treePath:e,writeTree:t}}var Rn=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,xt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Tt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,St(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.assertionError)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,xt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Dn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),jn=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Jt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Pn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:an(this.viewCache_),i=Nn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function Ln(e,t,n,r,i){var a,s,u=new Rn;if(n.type===Kt.OVERWRITE){var c=n;c.source.fromUser?a=Un(e,t,c.path,c.snap,r,i,u):((0,o.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!Pe(c.path),a=Fn(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===Kt.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=Ne(n,r);Vn(t,ke(c))&&(s=Un(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=Ne(n,r);Vn(t,ke(c))||(s=Un(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):((0,o.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Bn(e,t,l.path,l.children,r,i,s,u))}else if(n.type===Kt.ACK_USER_WRITE){var f=n;a=f.revert?function(e,t,n,r,i,a){var s;if(null!=Cn(r,n))return t;var u=new jn(r,t,i),c=t.eventCache.getNode(),l=void 0;if(Pe(n)||".priority"===ke(n)){var f=void 0;if(t.serverCache.isFullyInitialized())f=Sn(r,an(t));else{var h=t.serverCache.getNode();(0,o.assert)(h instanceof pt,"serverChildren would be complete if leaf node"),f=Tn(r,h)}f=f,l=e.filter.updateFullNode(c,f,a)}else{var d=ke(n),p=Pn(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,Se(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,pt.EMPTY_NODE,Se(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Sn(r,an(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=Cn(r,Ee()),nn(t,l,s,e.filter.filtersNodes())}(e,t,f.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=Cn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Pe(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Fn(e,t,n,u.getNode().getChild(n),i,o,s,a);if(Pe(n)){var c=new sn(null);return u.getNode().forEachChild(He,(function(e,t){c=c.set(new _e(e),t)})),Bn(e,t,n,c,i,o,s,a)}return t}var l=new sn(null);return r.foreach((function(e,t){var r=Ne(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Bn(e,t,n,l,i,o,s,a)}(e,t,f.path,f.affectedTree,r,i,u)}else{if(n.type!==Kt.LISTEN_COMPLETE)throw(0,o.assertionError)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache,a=rn(t,o.getNode(),o.isFullyInitialized()||Pe(n),o.isFiltered());return Mn(e,a,n,r,Dn,i)}(e,t,n.path,r,u)}var h=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=on(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(It(on(t)))}}(t,a,h),{viewCache:a,changes:h}}function Mn(e,t,n,r,i,a){var s=t.eventCache;if(null!=Cn(r,n))return t;var u=void 0,c=void 0;if(Pe(n))if((0,o.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=an(t),f=Tn(r,l instanceof pt?l:pt.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=Sn(r,an(t));u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var d=ke(n);if(".priority"===d){(0,o.assert)(1===Ie(n),"Can't have a priority with additional path components");var p=s.getNode(),v=xn(r,n,p,c=t.serverCache.getNode());u=null!=v?e.filter.updatePriority(p,v):s.getNode()}else{var m=Se(n),g=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var y=xn(r,n,s.getNode(),c);g=null!=y?s.getNode().getImmediateChild(d).updateChild(m,y):s.getNode().getImmediateChild(d)}else g=Pn(r,d,t.serverCache);u=null!=g?e.filter.updateChild(s.getNode(),d,g,m,i,a):s.getNode()}}return nn(t,u,s.isFullyInitialized()||Pe(n),e.filter.filtersNodes())}function Fn(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(Pe(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=ke(n);if(!c.isCompleteForPath(n)&&Ie(n)>1)return t;var d=Se(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,Dn,null)}var v=rn(t,u,c.isFullyInitialized()||Pe(n),l.filtersNodes());return Mn(e,v,n,i,new jn(i,v,o),s)}function Un(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new jn(i,t,o);if(Pe(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=nn(t,u,!0,e.filter.filtersNodes());else{var f=ke(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=nn(t,u,c.isFullyInitialized(),c.isFiltered());else{var h=Se(n),d=c.getNode().getImmediateChild(f),p=void 0;if(Pe(h))p=r;else{var v=l.getCompleteChild(f);p=null!=v?".priority"===Te(h)&&v.getChild(Ce(h)).isEmpty()?v:v.updateChild(h,r):pt.EMPTY_NODE}if(d.equals(p))s=t;else s=nn(t,e.filter.updateChild(c.getNode(),f,p,h,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Vn(e,t){return e.eventCache.isCompleteForChild(t)}function qn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Bn(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Pe(n)?r:new sn(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=qn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Fn(e,c,new _e(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var f=qn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Fn(e,c,new _e(n),f,i,o,a,s)}})),c}var Kn,zn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new Ct(r.getIndex()),o=(n=r).loadsAllData()?new Ct(n.getIndex()):n.hasLimit()?new Pt(n):new Nt(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(pt.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(pt.EMPTY_NODE,s.getNode(),null),l=new Jt(u,a.isFullyInitialized(),i.filtersNodes()),f=new Jt(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=tn(f,l),this.eventGenerator_=new $t(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Wn(e,t){var n=an(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Pe(t)&&!n.getImmediateChild(ke(t)).isEmpty())?n.getChild(t):null}function Hn(e){return 0===e.eventRegistrations_.length}function Gn(e,t,n){var r=[];if(n){(0,o.assert)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Yn(e,t,n,r){t.type===Kt.MERGE&&null!==t.source.queryId&&((0,o.assert)(an(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.assert)(on(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=Ln(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,(0,o.assert)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.assert)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.assert)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Xn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Xn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),en(e,i,"child_removed",t,r,n),en(e,i,"child_added",t,r,n),en(e,i,"child_moved",o,r,n),en(e,i,"child_changed",t,r,n),en(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Qn,Zn=function(){this.views=new Map};function Jn(e,t,n,r){var i,a,s=t.source.queryId;if(null!==s){var u=e.views.get(s);return(0,o.assert)(null!=u,"SyncTree gave us an op for an invalid query."),Yn(u,t,n,r)}var c=[];try{for(var l=f(e.views.values()),h=l.next();!h.done;h=l.next()){u=h.value;c=c.concat(Yn(u,t,n,r))}}catch(d){i={error:d}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return c}function $n(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=Sn(n,i?r:null),u=!1;s?u=!0:r instanceof pt?(s=Tn(n,r),u=!1):(s=pt.EMPTY_NODE,u=!1);var c=tn(new Jt(s,u,!1),new Jt(r,i,!1));return new zn(t,c)}return a}function er(e,t,n,r,i,o){var a=$n(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ut,(function(e,t){r.push(St(e,t))})),n.isFullyInitialized()&&r.push(It(n.getNode())),Xn(e,r,n.getNode(),t)}(a,n)}function tr(e,t,n,r){var i,a,s=t._queryIdentifier,u=[],c=[],l=ar(e);if("default"===s)try{for(var d=f(e.views.entries()),p=d.next();!p.done;p=d.next()){var v=h(p.value,2),m=v[0],g=v[1];c=c.concat(Gn(g,n,r)),Hn(g)&&(e.views.delete(m),g.query._queryParams.loadsAllData()||u.push(g.query))}}catch(y){i={error:y}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}else(g=e.views.get(s))&&(c=c.concat(Gn(g,n,r)),Hn(g)&&(e.views.delete(s),g.query._queryParams.loadsAllData()||u.push(g.query)));return l&&!ar(e)&&u.push(new((0,o.assert)(Kn,"Reference.ts has not been loaded"),Kn)(t._repo,t._path)),{removed:u,events:c}}function nr(e){var t,n,r=[];try{for(var i=f(e.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function rr(e,t){var n,r,i=null;try{for(var o=f(e.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;i=i||Wn(s,t)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function ir(e,t){if(t._queryParams.loadsAllData())return sr(e);var n=t._queryIdentifier;return e.views.get(n)}function or(e,t){return null!=ir(e,t)}function ar(e){return null!=sr(e)}function sr(e){var t,n;try{for(var r=f(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var ur=1,cr=function(e){this.listenProvider_=e,this.syncPointTree_=new sn(null),this.pendingWriteTree_={visibleWrites:un.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function lr(e,t,n,r,i){return function(e,t,n,r,i){(0,o.assert)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=cn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?yr(e,new Qt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function fr(e,t,n,r){!function(e,t,n,r){(0,o.assert)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=ln(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=sn.fromObject(n);return yr(e,new Zt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function hr(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(wn(e.pendingWriteTree_,t)){var i=new sn(null);return null!=r.snap?i=i.set(Ee(),!0):B(r.children,(function(e){i=i.set(new _e(e),!0)})),yr(e,new Yt(r.path,i,n))}return[]}function dr(e,t,n){return yr(e,new Qt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function pr(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||or(o,t))){var s=tr(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return ar(t)}));if(c&&!l){var f=e.syncPointTree_.subtree(i);if(!f.isEmpty())for(var h=function(e){return e.fold((function(e,t,n){if(t&&ar(t))return[sr(t)];var r=[];return t&&(r=nr(t)),B(n,(function(e,t){r=r.concat(t)})),r}))}(f),d=0;d<h.length;++d){var p=h[d],v=p.query,m=_r(e,p);e.listenProvider_.startListening(xr(v),Er(e,v),m.hashFn,m.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(xr(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(kr(t));e.listenProvider_.stopListening(xr(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=kr(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function vr(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Oe(e,r);i=i||rr(t,n),a=a||ar(t)}));var s,u=e.syncPointTree_.get(r);(u?(a=a||ar(u),i=i||rr(u,Ee())):(u=new Zn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=pt.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=rr(t,Ee());n&&(i=i.updateImmediateChild(e,n))})));var c=or(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=kr(t);(0,o.assert)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var f=ur++;e.queryToTagMap.set(l,f),e.tagToQueryMap.set(f,l)}var h=er(u,t,n,bn(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=ir(u,t);h=h.concat(function(e,t,n){var r=t._path,i=Er(e,t),a=_r(e,n),s=e.listenProvider_.startListening(xr(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)(0,o.assert)(!ar(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!Pe(e)&&t&&ar(t))return[sr(t).query];var r=[];return t&&(r=r.concat(nr(t).map((function(e){return e.query})))),B(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var f=c[l];e.listenProvider_.stopListening(xr(f),Er(e,f))}return s}(e,t,d))}return h}function mr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=rr(n,Oe(e,t));if(r)return r}));return In(r,t,i,n,!0)}function gr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Oe(e,n);r=r||rr(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||rr(i,Ee()):(i=new Zn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Jt(r,!0,!1):null;return function(e){return on(e.viewCache_)}($n(i,t,bn(e.pendingWriteTree_,t._path),o?a.getNode():pt.EMPTY_NODE,o))}function yr(e,t){return br(t,e.syncPointTree_,null,bn(e.pendingWriteTree_,Ee()))}function br(e,t,n,r){if(Pe(e.path))return wr(e,t,n,r);var i=t.get(Ee());null==n&&null!=i&&(n=rr(i,Ee()));var o=[],a=ke(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=On(r,a);o=o.concat(br(s,u,c,l))}return i&&(o=o.concat(Jn(i,e,r,n))),o}function wr(e,t,n,r){var i=t.get(Ee());null==n&&null!=i&&(n=rr(i,Ee()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=On(r,t),u=e.operationForChild(t);u&&(o=o.concat(wr(u,i,a,s)))})),i&&(o=o.concat(Jn(i,e,r,n))),o}function _r(e,t){var n=t.query,r=Er(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||pt.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Ir(e,n);if(r){var i=Sr(r),o=i.path,a=i.queryId,s=Oe(o,t);return Tr(e,o,new Xt(Ht(a),s))}return[]}(e,n._path,r):function(e,t){return yr(e,new Xt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return pr(e,n,null,i)}}}function Er(e,t){var n=kr(t);return e.queryToTagMap.get(n)}function kr(e){return e._path.toString()+"$"+e._queryIdentifier}function Ir(e,t){return e.tagToQueryMap.get(t)}function Sr(e){var t=e.indexOf("$");return(0,o.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new _e(e.substr(0,t))}}function Tr(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.assert)(r,"Missing sync point for query tag that we're tracking"),Jn(r,n,bn(e.pendingWriteTree_,t),null)}function xr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,o.assert)(Qn,"Reference.ts has not been loaded"),Qn)(e._repo,e._path):e}var Cr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),Nr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=Ne(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return mr(this.syncTree_,this.path_)},e}(),Pr=function(e,t,n){return e&&"object"===typeof e?((0,o.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Or(e[".sv"],t,n):"object"===typeof e[".sv"]?Ar(e[".sv"],t):void(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Or=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,o.assert)(!1,"Unexpected server value: "+e)},Ar=function(e,t,n){e.hasOwnProperty("increment")||(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&(0,o.assert)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.assert)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Rr=function(e,t,n,r){return jr(t,new Nr(n,e),r)},Dr=function(e,t,n){return jr(e,new Cr(t),n)};function jr(e,t,n){var r,i=e.getPriority().val(),o=Pr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=Pr(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new it(s,mt(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new it(o))),u.forEachChild(ut,(function(e,i){var o=jr(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var Lr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Mr(e,t){for(var n=t instanceof _e?t:new _e(t),r=e,i=ke(n);null!==i;){var a=(0,o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new Lr(i,r,a),i=ke(n=Se(n))}return r}function Fr(e){return e.node.value}function Ur(e,t){e.node.value=t,zr(e)}function Vr(e){return e.node.childCount>0}function qr(e,t){B(e.node.children,(function(n,r){t(new Lr(n,e,r))}))}function Br(e,t,n,r){n&&!r&&t(e),qr(e,(function(e){Br(e,t,!0,r)})),n&&r&&t(e)}function Kr(e){return new _e(null===e.parent?e.name:Kr(e.parent)+"/"+e.name)}function zr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Fr(e)&&!Vr(e)}(n),i=(0,o.contains)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,zr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,zr(e))}(e.parent,e.name,e)}var Wr=/[\[\].#$\/\u0000-\u001F\u007F]/,Hr=/[\[\].#$\u0000-\u001F\u007F]/,Gr=10485760,Yr=function(e){return"string"===typeof e&&0!==e.length&&!Wr.test(e)},Xr=function(e){return"string"===typeof e&&0!==e.length&&!Hr.test(e)},Qr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!D(e)||e&&"object"===typeof e&&(0,o.contains)(e,".sv")},Zr=function(e,t,n,r){r&&void 0===t||Jr((0,o.errorPrefix)(e,"value"),t,n)},Jr=function e(t,n,r){var i=r instanceof _e?new je(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Me(i));if("function"===typeof n)throw new Error(t+"contains a function "+Me(i)+" with contents = "+n.toString());if(D(n))throw new Error(t+"contains "+n.toString()+" "+Me(i));if("string"===typeof n&&n.length>Gr/3&&(0,o.stringLength)(n)>Gr)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Me(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(B(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Yr(n)))throw new Error(t+" contains an invalid key ("+n+") "+Me(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.stringLength)(t),Le(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=(0,o.stringLength)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&s)throw new Error(t+' contains ".value" child '+Me(i)+" in addition to actual children.")}},$r=function(e,t,n,r){if(!r||void 0!==t){var i=(0,o.errorPrefix)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];B(t,(function(e,t){var r=new _e(e);if(Jr(i,t,Ne(n,r)),".priority"===Te(r)&&!Qr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=xe(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Yr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Ae);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&De(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},ei=function(e,t,n){if(!n||void 0!==t){if(D(t))throw new Error((0,o.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Qr(t))throw new Error((0,o.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ti=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.errorPrefix)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ni=function(e,t,n,r){if((!r||void 0!==n)&&!Yr(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ri=function(e,t,n,r){if((!r||void 0!==n)&&!Xr(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ii=function(e,t){if(".info"===ke(t))throw new Error(e+" failed = Can't modify data under /.info/")},oi=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Yr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Xr(e)}(n))throw new Error((0,o.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ai=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error((0,o.errorPrefix)(e,t)+"must be a boolean.")},si=function(){this.eventLists_=[],this.recursionDepth_=0};function ui(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Re(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function ci(e,t,n){ui(e,n),fi(e,(function(e){return Re(e,t)}))}function li(e,t,n){ui(e,n),fi(e,(function(e){return De(e,t)||De(t,e)}))}function fi(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(hi(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function hi(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();T&&N("event: "+n.toString()),Y(r)}}}var di="repo_interrupt",pi=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new si,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ut(),this.transactionQueueTree_=new Lr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function vi(e,t,n){if(e.stats_=ue(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Mt(e.repoInfo_,(function(t,n,r,i){yi(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return bi(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.stringify)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Be(e.repoInfo_,t,(function(t,n,r,i){yi(e,t,n,r,i)}),(function(t){bi(e,t)}),(function(t){!function(e,t){B(t,(function(t,n){wi(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return se[n]||(se[n]=t()),se[n]}(e.repoInfo_,(function(){return new Wt(e.stats_,e.server_)})),e.infoData_=new Ft,e.infoSyncTree_=new cr({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=dr(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),wi(e,"connected",!1),e.serverSyncTree_=new cr({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);li(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function mi(e){var t=e.infoData_.getNode(new _e(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function gi(e){return(t=(t={timestamp:mi(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function yi(e,t,n,r,i){e.dataUpdateCount++;var a=new _e(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=(0,o.map)(n,(function(e){return mt(e)}));s=function(e,t,n,r){var i=Ir(e,r);if(i){var o=Sr(i),a=o.path,s=o.queryId,u=Oe(a,t),c=sn.fromObject(n);return Tr(e,a,new Zt(Ht(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=mt(n);s=function(e,t,n,r){var i=Ir(e,r);if(null!=i){var o=Sr(i),a=o.path,s=o.queryId,u=Oe(a,t);return Tr(e,a,new Qt(Ht(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.map)(n,(function(e){return mt(e)}));s=function(e,t,n){var r=sn.fromObject(n);return yr(e,new Zt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var f=mt(n);s=dr(e.serverSyncTree_,a,f)}var h=a;s.length>0&&(h=Oi(e,a)),li(e.eventQueue_,h,s)}function bi(e,t){wi(e,"connected",t),!1===t&&function(e){xi(e,"onDisconnectEvents");var t=gi(e),n=Ut();Bt(e.onDisconnect_,Ee(),(function(r,i){var o=Rr(r,i,e.serverSyncTree_,t);Vt(n,r,o)}));var r=[];Bt(n,Ee(),(function(t,n){r=r.concat(dr(e.serverSyncTree_,t,n));var i=Li(e,t);Oi(e,i)})),e.onDisconnect_=Ut(),li(e.eventQueue_,Ee(),r)}(e)}function wi(e,t,n){var r=new _e("/.info/"+t),i=mt(n);e.infoData_.updateSnapshot(r,i);var o=dr(e.infoSyncTree_,r,i);li(e.eventQueue_,r,o)}function _i(e){return e.nextWriteId_++}function Ei(e,t,n,r,i){xi(e,"set",{path:t.toString(),value:n,priority:r});var o=gi(e),a=mt(n,r),s=mr(e.serverSyncTree_,t),u=Dr(a,s,o),c=_i(e),l=lr(e.serverSyncTree_,t,u,c,!0);ui(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||R("set at "+t+" failed: "+n);var a=hr(e.serverSyncTree_,c,!o);li(e.eventQueue_,t,a),Ci(e,i,n,r)}));var f=Li(e,t);Oi(e,f),li(e.eventQueue_,f,[])}function ki(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&qt(e.onDisconnect_,t),Ci(e,n,r,i)}))}function Ii(e,t,n,r){var i=mt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Vt(e.onDisconnect_,t,i),Ci(e,r,n,o)}))}function Si(e,t,n){var r;r=".info"===ke(t._path)?pr(e.infoSyncTree_,t,n):pr(e.serverSyncTree_,t,n),ci(e.eventQueue_,t._path,r)}function Ti(e){e.persistentConnection_&&e.persistentConnection_.interrupt(di)}function xi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),N.apply(void 0,d([r],h(t)))}function Ci(e,t,n,r){t&&Y((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function Ni(e,t,n){return mr(e.serverSyncTree_,t,n)||pt.EMPTY_NODE}function Pi(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||ji(e,t),Fr(t)){var n=Ri(e,t);(0,o.assert)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Ni(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Oe(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var f=a.val(!0),h=t;e.server_.put(h.toString(),f,(function(r){xi(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(hr(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);ji(e,Mr(e.transactionQueueTree_,t)),Pi(e,e.transactionQueueTree_),li(e.eventQueue_,t,i);for(s=0;s<o.length;s++)Y(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{R("transaction at "+h.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}Oi(e,t)}}),s)}(e,Kr(t),n)}else Vr(t)&&qr(t,(function(t){Pi(e,t)}))}function Oi(e,t){var n=Ai(e,t),r=Kr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c,l=t[s],f=Oe(n,l.path),h=!1;if((0,o.assert)(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)h=!0,u=l.abortReason,i=i.concat(hr(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)h=!0,u="maxretry",i=i.concat(hr(e.serverSyncTree_,l.currentWriteId,!0));else{var d=Ni(e,l.path,a);l.currentInputSnapshot=d;var p=t[s].update(d.val());if(void 0!==p){Jr("transaction failed: Data returned ",p,l.path);var v=mt(p);"object"===typeof p&&null!=p&&(0,o.contains)(p,".priority")||(v=v.updatePriority(d.getPriority()));var m=l.currentWriteId,g=gi(e),y=Dr(v,d,g);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=y,l.currentWriteId=_i(e),a.splice(a.indexOf(m),1),i=(i=i.concat(lr(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat(hr(e.serverSyncTree_,m,!0))}else h=!0,u="nodata",i=i.concat(hr(e.serverSyncTree_,l.currentWriteId,!0))}li(e.eventQueue_,n,i),i=[],h&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);ji(e,e.transactionQueueTree_);for(u=0;u<r.length;u++)Y(r[u]);Pi(e,e.transactionQueueTree_)}(e,Ri(e,n),r),r}function Ai(e,t){var n,r=e.transactionQueueTree_;for(n=ke(t);null!==n&&void 0===Fr(r);)r=Mr(r,n),n=ke(t=Se(t));return r}function Ri(e,t){var n=[];return Di(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Di(e,t,n){var r=Fr(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);qr(t,(function(t){Di(e,t,n)}))}function ji(e,t){var n=Fr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Ur(t,n.length>0?n:void 0)}qr(t,(function(t){ji(e,t)}))}function Li(e,t){var n=Kr(Ai(e,t)),r=Mr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Mi(e,t)})),Mi(e,r),Br(r,(function(t){Mi(e,t)})),n}function Mi(e,t){var n=Fr(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(hr(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Ur(t,void 0):n.length=a+1,li(e.eventQueue_,Kr(t),i);for(s=0;s<r.length;s++)Y(r[s])}}var Fi=function(e,t){var n=Ui(e),r=n.namespace;"firebase.com"===n.domain&&A(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||A("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&R("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new re(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new _e(n.pathString)}},Ui=function(e){var t="",n="",r="",i="",o="",a=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(l,h)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=f(e.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var s=a.split("=");2===s.length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):R("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(a="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},Vi=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.stringify)(this.snapshot.exportVal())},e}(),qi=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Bi=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),Ki=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.Deferred;return ki(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){ii("OnDisconnect.remove",this._path);var e=new o.Deferred;return Ii(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){ii("OnDisconnect.set",this._path),Zr("OnDisconnect.set",e,this._path,!1);var t=new o.Deferred;return Ii(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){ii("OnDisconnect.setWithPriority",this._path),Zr("OnDisconnect.setWithPriority",e,this._path,!1),ei("OnDisconnect.setWithPriority",t,!1);var n=new o.Deferred;return function(e,t,n,r,i){var o=mt(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Vt(e.onDisconnect_,t,o),Ci(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){ii("OnDisconnect.update",this._path),$r("OnDisconnect.update",e,this._path,!1);var t=new o.Deferred;return function(e,t,n,r){if((0,o.isEmpty)(n))return N("onDisconnect().update() called with empty data.  Don't do anything."),void Ci(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&B(n,(function(n,r){var i=mt(r);Vt(e.onDisconnect_,Ne(t,n),i)})),Ci(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),zi=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return Pe(this._path)?null:Te(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Yi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Lt(this._queryParams),t=V(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Lt(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=(0,o.getModularInstance)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Re(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function Wi(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Hi(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===He){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==j)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==L)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===ut){if(null!=t&&!Qr(t)||null!=n&&!Qr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.assert)(e.getIndex()instanceof gt||e.getIndex()===bt,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Gi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Yi=function(e){function t(t,n){return e.call(this,t,n,new Ot,!1)||this}return s(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=Ce(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(zi),Xi=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new _e(t),r=Ji(this.ref,t);return new e(this._node.getChild(n),r,ut)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Ji(n.ref,r),ut))}))},e.prototype.hasChild=function(e){var t=new _e(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Qi(e,t){return(e=(0,o.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?Ji(e._root,t):e._root}function Zi(e,t){(e=(0,o.getModularInstance)(e))._checkNotDeleted("refFromURL");var n=Fi(t,e._repo.repoInfo_.nodeAdmin);oi("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||A("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Qi(e,n.path.toString())}function Ji(e,t){var n,r,i,a;return null===ke((e=(0,o.getModularInstance)(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ri(n,r,i,a)):ri("child","path",t,!1),new Yi(e._repo,Ne(e._path,t))}function $i(e,t){e=(0,o.getModularInstance)(e),ii("push",e._path),Zr("push",t,e._path,!0);var n,r=mi(e._repo),i=_t(r),a=Ji(e,i),s=Ji(e,i);return n=null!=t?to(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function eo(e){return ii("remove",e._path),to(e,null)}function to(e,t){e=(0,o.getModularInstance)(e),ii("set",e._path),Zr("set",t,e._path,!1);var n=new o.Deferred;return Ei(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function no(e,t){e=(0,o.getModularInstance)(e),ii("setPriority",e._path),ei("setPriority",t,!1);var n=new o.Deferred;return Ei(e._repo,Ne(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function ro(e,t,n){if(ii("setWithPriority",e._path),Zr("setWithPriority",t,e._path,!1),ei("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.Deferred;return Ei(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function io(e,t){$r("update",t,e._path,!1);var n=new o.Deferred;return function(e,t,n,r){xi(e,"update",{path:t.toString(),value:n});var i=!0,o=gi(e),a={};if(B(n,(function(n,r){i=!1,a[n]=Rr(Ne(t,n),mt(r),e.serverSyncTree_,o)})),i)N("update() called with empty data.  Don't do anything."),Ci(0,r,"ok",void 0);else{var s=_i(e),u=fr(e.serverSyncTree_,t,a,s);ui(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||R("update at "+t+" failed: "+n);var a=hr(e.serverSyncTree_,s,!o),u=a.length>0?Oi(e,t):t;li(e.eventQueue_,u,a),Ci(0,r,n,i)})),B(n,(function(n){var r=Li(e,Ne(t,n));Oi(e,r)})),li(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function oo(e){return function(e,t){var n=gr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=mt(n).withIndex(t._queryParams.getIndex()),i=dr(e.serverSyncTree_,t._path,r);return ci(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return xi(e,"get for query "+(0,o.stringify)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=(0,o.getModularInstance)(e))._repo,e).then((function(t){return new Xi(t,new Yi(e._repo,e._path),e._queryParams.getIndex())}))}var ao=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Vi("value",this,new Xi(e.snapshotNode,new Yi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new qi(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),so=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new qi(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.assert)(null!=e.childName,"Child events should have a childName.");var n=Ji(new Yi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Vi(e.type,this,new Xi(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function uo(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){Si(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Bi(n,o||void 0),c="value"===t?new ao(u):new so(t,u);return function(e,t,n){var r;r=".info"===ke(t._path)?vr(e.infoSyncTree_,t,n):vr(e.serverSyncTree_,t,n),ci(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return Si(e._repo,e,c)}}function co(e,t,n,r){return uo(e,"value",t,n,r)}function lo(e,t,n,r){return uo(e,"child_added",t,n,r)}function fo(e,t,n,r){return uo(e,"child_changed",t,n,r)}function ho(e,t,n,r){return uo(e,"child_moved",t,n,r)}function po(e,t,n,r){return uo(e,"child_removed",t,n,r)}function vo(e,t,n){var r=null,i=n?new Bi(n):null;"value"===t?r=new ao(i):t&&(r=new so(t,i)),Si(e._repo,e,r)}var mo=function(){},go=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return s(t,e),t.prototype._apply=function(e){Zr("endAt",this._value,e._path,!0);var t=Rt(e._queryParams,this._value,this._key);if(Gi(t),Hi(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new zi(e._repo,e._path,t,e._orderByCalled)},t}(mo);function yo(e,t){return ni("endAt","key",t,!0),new go(e,t)}var bo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return s(t,e),t.prototype._apply=function(e){Zr("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===He?("string"===typeof t&&(t=kt(t)),r=Rt(e,t,n)):r=Rt(e,t,null==n?j:kt(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Gi(t),Hi(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new zi(e._repo,e._path,t,e._orderByCalled)},t}(mo);function wo(e,t){return ni("endBefore","key",t,!0),new bo(e,t)}var _o=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return s(t,e),t.prototype._apply=function(e){Zr("startAt",this._value,e._path,!0);var t=At(e._queryParams,this._value,this._key);if(Gi(t),Hi(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new zi(e._repo,e._path,t,e._orderByCalled)},t}(mo);function Eo(e,t){return void 0===e&&(e=null),ni("startAt","key",t,!0),new _o(e,t)}var ko=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return s(t,e),t.prototype._apply=function(e){Zr("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===He?("string"===typeof t&&(t=Et(t)),r=At(e,t,n)):r=At(e,t,null==n?L:Et(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Gi(t),Hi(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new zi(e._repo,e._path,t,e._orderByCalled)},t}(mo);function Io(e,t){return ni("startAfter","key",t,!0),new ko(e,t)}var So=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return s(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new zi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)},t}(mo);function To(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new So(e)}var xo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return s(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new zi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)},t}(mo);function Co(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new xo(e)}var No=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return s(t,e),t.prototype._apply=function(e){Wi(e,"orderByChild");var t=new _e(this._path);if(Pe(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new gt(t),r=Dt(e._queryParams,n);return Hi(r),new zi(e._repo,e._path,r,!0)},t}(mo);function Po(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ri("orderByChild","path",e,!1),new No(e)}var Oo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype._apply=function(e){Wi(e,"orderByKey");var t=Dt(e._queryParams,He);return Hi(t),new zi(e._repo,e._path,t,!0)},t}(mo);function Ao(){return new Oo}var Ro=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype._apply=function(e){Wi(e,"orderByPriority");var t=Dt(e._queryParams,ut);return Hi(t),new zi(e._repo,e._path,t,!0)},t}(mo);function Do(){return new Ro}var jo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype._apply=function(e){Wi(e,"orderByValue");var t=Dt(e._queryParams,bt);return Hi(t),new zi(e._repo,e._path,t,!0)},t}(mo);function Lo(){return new jo}var Mo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return s(t,e),t.prototype._apply=function(e){if(Zr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new go(this._value,this._key)._apply(new _o(this._value,this._key)._apply(e))},t}(mo);function Fo(e,t){return ni("equalTo","key",t,!0),new Mo(e,t)}function Uo(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=(0,o.getModularInstance)(e);try{for(var s=f(r),u=s.next();!u.done;u=s.next()){var c=u.value;a=c._apply(a)}}catch(l){t={error:l}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a}!function(e){(0,o.assert)(!Kn,"__referenceConstructor has already been defined"),Kn=e}(Yi),function(e){(0,o.assert)(!Qn,"__referenceConstructor has already been defined"),Qn=e}(Yi);var Vo={},qo=!1;function Bo(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||A("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),N("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=Fi(o,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/cats",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,o="http://"+c+"?ns="+u.namespace,u=(s=Fi(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new J(J.OWNER):new Z(e.name,e.options,t);oi("Invalid Firebase Database URL",s),Pe(s.path)||A("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=Vo[t.name];i||(i={},Vo[t.name]=i);var o=i[e.toURLString()];o&&A("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new pi(e,qo,n,r),i[e.toURLString()]=o,o}(u,e,l,new Q(e.name,n));return new Ko(f,e)}var Ko=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(vi(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Yi(this._repo,Ee())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return null!==this._rootInternal&&(!function(e,t){var n=Vo[t];n&&n[e.key]===e||A("Database "+t+"("+e.repoInfo_+") has already been deleted."),Ti(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&A("Cannot call "+e+" on a deleted database.")},e}();function zo(e,t,n,r){void 0===r&&(r={}),(e=(0,o.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&A("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&A('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new J(J.OWNER);else if(r.mockUserToken){var s="string"===typeof r.mockUserToken?r.mockUserToken:(0,o.createMockUserToken)(r.mockUserToken,e.app.options.projectId);a=new J(s)}!function(e,t,n,r){e.repoInfo_=new re(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function Wo(e){(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOffline"),Ti(e._repo)}function Ho(e){var t;(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(di)}var Go={".sv":"timestamp"};var Yo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Xo(e,t,n){var r;if(e=(0,o.getModularInstance)(e),ii("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.Deferred,s=co(e,(function(){}));return function(e,t,n,r,i,a){xi(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:k(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=Ni(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Jr("transaction failed: Data returned ",c,s.path),s.status=0;var l=Mr(e.transactionQueueTree_,t),f=Fr(l)||[];f.push(s),Ur(l,f);var h=void 0;"object"===typeof c&&null!==c&&(0,o.contains)(c,".priority")?(h=(0,o.safeGet)(c,".priority"),(0,o.assert)(Qr(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(mr(e.serverSyncTree_,t)||pt.EMPTY_NODE).getPriority().val();var d=gi(e),p=mt(c,h),v=Dr(p,u,d);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=v,s.currentWriteId=_i(e);var m=lr(e.serverSyncTree_,t,v,s.currentWriteId,s.applyLocally);li(e.eventQueue_,t,m),Pi(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new Xi(r,new Yi(e._repo,e._path),ut),a.resolve(new Yo(n,i)))}),s,i),a.promise}var Qo=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){(0,o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){(0,o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,o.validateCallback)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if((0,o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,R("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.validateCallback)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Zo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Jo=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),t=String(t),ri("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),ri("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,o.validateCallback)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return(0,o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new ea(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),$o=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;(0,o.validateArgCount)("Query.on",2,4,arguments.length),(0,o.validateCallback)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(u.context,new Jo(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return co(this._delegate,c,l),n;case"child_added":return lo(this._delegate,c,l),n;case"child_removed":return po(this._delegate,c,l),n;case"child_changed":return fo(this._delegate,c,l),n;case"child_moved":return ho(this._delegate,c,l),n;default:throw new Error((0,o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,o.validateArgCount)("Query.off",0,3,arguments.length),ti("Query.off",e,!0),(0,o.validateCallback)("Query.off","callback",t,!0),(0,o.validateContextObject)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,vo(this._delegate,e,r)}else vo(this._delegate,e)},e.prototype.get=function(){var e=this;return oo(this._delegate).then((function(t){return new Jo(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;(0,o.validateArgCount)("Query.once",1,4,arguments.length),(0,o.validateCallback)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(e,t){var r=new Jo(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":co(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":lo(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":po(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":fo(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":ho(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return(0,o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Uo(this._delegate,To(t)))},e.prototype.limitToLast=function(t){return(0,o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new e(this.database,Uo(this._delegate,Co(t)))},e.prototype.orderByChild=function(t){return(0,o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new e(this.database,Uo(this._delegate,Po(t)))},e.prototype.orderByKey=function(){return(0,o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new e(this.database,Uo(this._delegate,Ao()))},e.prototype.orderByPriority=function(){return(0,o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Uo(this._delegate,Do()))},e.prototype.orderByValue=function(){return(0,o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new e(this.database,Uo(this._delegate,Lo()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAt",0,2,arguments.length),new e(this.database,Uo(this._delegate,Eo(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAfter",0,2,arguments.length),new e(this.database,Uo(this._delegate,Io(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endAt",0,2,arguments.length),new e(this.database,Uo(this._delegate,yo(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endBefore",0,2,arguments.length),new e(this.database,Uo(this._delegate,wo(t,n)))},e.prototype.equalTo=function(t,n){return(0,o.validateArgCount)("Query.equalTo",1,2,arguments.length),new e(this.database,Uo(this._delegate,Fo(t,n)))},e.prototype.toString=function(){return(0,o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.validateCallback)(e,"cancel",r.cancel,!0),r.context=n,(0,o.validateContextObject)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error((0,o.errorPrefix)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new ea(this.database,new Yi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),ea=function(e){function t(t,n){var r=e.call(this,t,new zi(n._repo,n._path,new Ot,!1))||this;return r.database=t,r._delegate=n,r}return s(t,e),t.prototype.getKey=function(){return(0,o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,o.validateArgCount)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,Ji(this._delegate,e))},t.prototype.getParent=function(){(0,o.validateArgCount)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,o.validateArgCount)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,o.validateArgCount)("Reference.set",1,2,arguments.length),(0,o.validateCallback)("Reference.set","onComplete",t,!0);var n=to(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if((0,o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,R("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ii("Reference.update",this._delegate._path),(0,o.validateCallback)("Reference.update","onComplete",t,!0);var i=io(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=ro(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){(0,o.validateArgCount)("Reference.remove",0,1,arguments.length),(0,o.validateCallback)("Reference.remove","onComplete",e,!0);var t=eo(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;(0,o.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,o.validateCallback)("Reference.transaction","transactionUpdate",e,!1),(0,o.validateCallback)("Reference.transaction","onComplete",t,!0),ai("Reference.transaction","applyLocally",n,!0);var i=Xo(this._delegate,e,{applyLocally:n}).then((function(e){return new Zo(e.committed,new Jo(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){(0,o.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,o.validateCallback)("Reference.setPriority","onComplete",t,!0);var n=no(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;(0,o.validateArgCount)("Reference.push",0,2,arguments.length),(0,o.validateCallback)("Reference.push","onComplete",n,!0);var i=$i(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return ii("Reference.onDisconnect",this._delegate._path),new Qo(new Ki(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}($o),ta=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),zo(this._delegate,e,t,n)},e.prototype.ref=function(e){if((0,o.validateArgCount)("database.ref",0,1,arguments.length),e instanceof ea){var t=Zi(this._delegate,e.toString());return new ea(this,t)}t=Qi(this._delegate,e);return new ea(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";(0,o.validateArgCount)(t,1,1,arguments.length);var n=Zi(this._delegate,e);return new ea(this,n)},e.prototype.goOffline=function(){return(0,o.validateArgCount)("database.goOffline",0,0,arguments.length),Wo(this._delegate)},e.prototype.goOnline=function(){return(0,o.validateArgCount)("database.goOnline",0,0,arguments.length),Ho(this._delegate)},e.ServerValue={TIMESTAMP:Go,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();var na=Object.freeze({__proto__:null,forceLongPolling:function(){ve.forceDisallow(),he.forceAllow()},forceWebSockets:function(){he.forceDisallow()},isWebSocketsAvailable:function(){return ve.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new zt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);B(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;m(r);var c=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return c.setComponent(new i.Component("auth-internal",(function(){return o}),"PRIVATE")),{instance:new ta(Bo(t,c,void 0,n,u),t),namespace:a}}}),ra=Be;Be.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Be.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var ia=ge,oa=re,aa=Object.freeze({__proto__:null,DataConnection:ra,RealTimeConnection:ia,hijackHash:function(e){var t=Be.prototype.put;return Be.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Be.prototype.put=t}},ConnectionTarget:oa,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){qo=e}(e)}}),sa=ta.ServerValue;!function(t){m(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.Component("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new ta(Bo(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:ea,Query:$o,Database:ta,DataSnapshot:Jo,enableLogging:C,INTERNAL:na,ServerValue:sa,TEST_ACCESS:aa}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.11.0"),(0,o.isNodeSdk)()&&(e.exports=n)}(r.default)},494:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function m(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(h,"_tx",["objectStoreNames","mode"]),s(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)},386:function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,{LogLevel:function(){return o},Logger:function(){return f},setLogLevel:function(){return h},setUserLogHandler:function(){return d}});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},f=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function h(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},365:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function m(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(h,"_tx",["objectStoreNames","mode"]),s(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)},293:function(e,t,n){"use strict";n.r(t),n.d(t,{CONSTANTS:function(){return o},Deferred:function(){return v},ErrorFactory:function(){return R},FirebaseError:function(){return A},MAX_VALUE_MILLIS:function(){return le},RANDOM_FACTOR:function(){return fe},Sha1:function(){return J},areCookiesEnabled:function(){return P},assert:function(){return a},assertionError:function(){return s},async:function(){return te},base64:function(){return c},base64Decode:function(){return h},base64Encode:function(){return l},base64urlEncodeWithoutPadding:function(){return f},calculateBackoffMillis:function(){return he},contains:function(){return K},createMockUserToken:function(){return m},createSubscribe:function(){return $},decode:function(){return F},deepCopy:function(){return d},deepEqual:function(){return G},deepExtend:function(){return p},errorPrefix:function(){return ie},extractQuerystring:function(){return Z},getGlobal:function(){return O},getModularInstance:function(){return pe},getUA:function(){return g},isAdmin:function(){return B},isBrowser:function(){return w},isBrowserExtension:function(){return _},isElectron:function(){return k},isEmpty:function(){return W},isIE:function(){return I},isIndexedDBAvailable:function(){return C},isMobileCordova:function(){return y},isNode:function(){return b},isNodeSdk:function(){return T},isReactNative:function(){return E},isSafari:function(){return x},isUWP:function(){return S},isValidFormat:function(){return q},isValidTimestamp:function(){return U},issuedAtTime:function(){return V},jsonEval:function(){return L},map:function(){return H},ordinal:function(){return de},querystring:function(){return X},querystringDecode:function(){return Q},safeGet:function(){return z},stringLength:function(){return ce},stringToByteArray:function(){return ue},stringify:function(){return M},validateArgCount:function(){return re},validateCallback:function(){return ae},validateContextObject:function(){return se},validateIndexedDBOpenable:function(){return N},validateNamespace:function(){return oe}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.create;Object.create;var o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},a=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},u=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(u(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},l=function(e){var t=u(e);return c.encodeByteArray(t,!0)},f=function(e){return l(e).replace(/\./g,"")},h=function(e){try{return c.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function d(e){return p(void 0,e)}function p(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=p(e[n],t[n]));return e}var v=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function m(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=i({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[f(JSON.stringify({alg:"none",type:"JWT"})),f(JSON.stringify(a)),""].join(".")}function g(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function y(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function b(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function w(){return"object"===typeof self&&self.self===self}function _(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function E(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function k(){return g().indexOf("Electron/")>=0}function I(){var e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function S(){return g().indexOf("MSAppHost/")>=0}function T(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN}function x(){return!b()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C(){return"indexedDB"in self&&null!=indexedDB}function N(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function P(){return!(!navigator||!navigator.cookieEnabled)}function O(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}var A=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,R.prototype.create),o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),R=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?D(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new A(i,s,r);return u},e}();function D(e,t){return e.replace(j,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var j=/\{\$([^}]+)}/g;function L(e){return JSON.parse(e)}function M(e){return JSON.stringify(e)}var F=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=L(h(o[0])||""),n=L(h(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},U=function(e){var t=F(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},V=function(e){var t=F(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},q=function(e){var t=F(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},B=function(e){var t=F(e).claims;return"object"===typeof t&&!0===t.admin};function K(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function W(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function H(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function G(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var s=e[a],u=t[a];if(Y(s)&&Y(u)){if(!G(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){a=l[c];if(!n.includes(a))return!1}return!0}function Y(e){return null!==e&&"object"===typeof e}function X(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}function Q(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Z(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var J=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function $(e,t){var n=new ee(e,t);return n.subscribe.bind(n)}var ee=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ne),void 0===r.error&&(r.error=ne),void 0===r.complete&&(r.complete=ne);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function te(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}}function ne(){}var re=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function ie(e,t){return e+" failed: "+t+" argument "}function oe(e,t,n){if((!n||t)&&"string"!==typeof t)throw new Error(ie(e,"namespace")+"must be a valid firebase namespace.")}function ae(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(ie(e,t)+"must be a valid function.")}function se(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(ie(e,t)+"must be a valid context object.")}var ue=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,a(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ce=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},le=144e5,fe=.5;function he(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(fe*r*(Math.random()-.5)*2);return Math.min(le,r+i)}function de(e){return Number.isFinite(e)?e+function(e){var t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";var n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e):""+e}function pe(e){return e&&e._delegate?e._delegate:e}},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var f=0;f<s.length;f++)r.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,o.default)(r)};var r,i=n(54),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,o,a){var s=i||"<<anonymous>>",u=a||r;if(null==n[r])return t?new Error("Required "+o+" `"+u+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,s,o,u].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),o=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,k=60106,I=60107,S=60108,T=60114,x=60109,C=60110,N=60112,P=60113,O=60120,A=60115,R=60116,D=60121,j=60128,L=60129,M=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),k=U("react.portal"),I=U("react.fragment"),S=U("react.strict_mode"),T=U("react.profiler"),x=U("react.provider"),C=U("react.context"),N=U("react.forward_ref"),P=U("react.suspense"),O=U("react.suspense_list"),A=U("react.memo"),R=U("react.lazy"),D=U("react.block"),U("react.scope"),j=U("react.opaque.id"),L=U("react.debug_trace_mode"),M=U("react.offscreen"),F=U("react.legacy_hidden")}var V,q="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=q&&e[q]||e["@@iterator"])?e:null}function K(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var z=!1;function W(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?K(e):""}function H(e){switch(e.tag){case 5:return K(e.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case k:return"Portal";case T:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case A:return G(e.type);case D:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ce(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ge=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function _e(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=_e(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var ke=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ce=null,Ne=null;function Pe(e){if(e=ri(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),xe(e.stateNode,e.type,t))}}function Oe(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Ae(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Pe(e),t)for(e=0;e<t.length;e++)Pe(t[e])}}function Re(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function je(){}var Le=Re,Me=!1,Fe=!1;function Ue(){null===Ce&&null===Ne||(je(),Ae())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var qe=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){qe=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){qe=!1}function Ke(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var ze=!1,We=null,He=!1,Ge=null,Ye={onError:function(e){ze=!0,We=e}};function Xe(e,t,n,r,i,o,a,s,u){ze=!1,We=null,Ke.apply(Ye,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Qe(e)!==e)throw Error(a(188))}function $e(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ze(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function wt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==ct&&yt(ct)&&(ct=null),lt.forEach(bt),ft.forEach(bt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,wt)))}function Et(e){function t(t){return _t(t,e)}if(0<at.length){_t(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&_t(st,e),null!==ut&&_t(ut,e),null!==ct&&_t(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function kt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},St={},Tt={};function xt(e){if(St[e])return St[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return St[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Ct=xt("animationend"),Nt=xt("animationiteration"),Pt=xt("animationstart"),Ot=xt("transitionend"),At=new Map,Rt=new Map,Dt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",Pt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function jt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),At.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Mt(u),i=Lt):0!==(s&=o)&&(r=Mt(s),i=Lt)}else 0!==(o=n&~a)?(r=Mt(o),i=Lt):0!==s&&(r=Mt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?Vt(10,t):e;case 10:return 0===(e=qt(192&~t))?Vt(8,t):e;case 8:return 0===(e=qt(3584&~t))&&(0===(e=qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function qt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Kt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ht|0)|0},Wt=Math.log,Ht=Math.LN2;var Gt=o.unstable_UserBlockingPriority,Yt=o.unstable_runWithPriority,Xt=!0;function Qt(e,t,n,r){Me||je();var i=Jt,o=Me;Me=!0;try{De(i,e,t,n,r)}finally{(Me=o)||Ue()}}function Zt(e,t,n,r){Yt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Xt)if((i=0===(4&t))&&0<at.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=$t(e,t,n,r);if(null===o)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,mt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ft.set(o,mt(ft.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;vt(e,r)}jr(e,t,r,null,n)}}}function $t(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var o=Qe(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ze(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return jr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=un(mn),yn=un(i({},mn,{dataTransfer:0})),bn=un(i({},pn,{relatedTarget:0})),wn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=un(_n),kn=un(i({},hn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Cn(){return xn}var Nn=i({},pn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=un(Nn),On=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=un(Dn),Ln=[9,13,27,32],Mn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Un=f&&"TextEvent"in window&&!Fn,Vn=f&&(!Mn||Fn&&8<Fn&&11>=Fn),qn=String.fromCharCode(32),Bn=!1;function Kn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Yn(e,t,n,r){Oe(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,Qn=null;function Zn(e){Nr(e,0)}function Jn(e){if(Z(ii(e)))return e}function $n(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Xn&&(Xn.detachEvent("onpropertychange",or),Qn=Xn=null)}function or(e){if("value"===e.propertyName&&Jn(Qn)){var t=[];if(Yn(t,Qn,e,Te(e)),e=Zn,Me)e(t);else{Me=!0;try{Re(e,t)}finally{Me=!1,Ue()}}}}function ar(e,t,n){"focusin"===e?(ir(),Qn=n,(Xn=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Qn)}function ur(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,br=null,wr=null,_r=null,Er=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==br||br!==J(r)||("selectionStart"in(r=br)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_r&&hr(_r,r)||(_r=r,0<(r=Mr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}jt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),jt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),jt(Dt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Ir.length;Sr++)Rt.set(Ir[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Xe.apply(this,arguments),ze){if(!ze)throw Error(a(198));var l=We;ze=!1,We=null,He||(He=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Cr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Cr(i,s,c),o=u}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Pr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Ar(e){e[Or]||(e[Or]=!0,s.forEach((function(t){xr.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&xr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Dr(o,e,i,t),a.add(s))}function Dr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Qt;break;case 1:i=Zt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Le(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=o,i=Te(n),a=[];e:{var s=At.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=Pn;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Ct:case Nt:case Pt:u=wn;break;case Ot:u=Rn;break;case"scroll":u=vn;break;case"wheel":u=jn;break;case"copy":case"cut":case"paste":u=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Lr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==u&&Ur(a,s,u,l,!1),null!==c&&null!==f&&Ur(a,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Gn(s))if(er)m=cr;else{m=sr;var g=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Yn(a,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ii(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(br=g,wr=r,_r=null);break;case"focusout":_r=wr=br=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,kr(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":kr(a,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Kn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(g=Mr(r,b)).length&&(b=new kn(b,e,null,n,i),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Un?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Bn=!0,qn);case"textInput":return(e=t.data)===qn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Mn&&Kn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Nr(a,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ve(e,n))&&r.unshift(Lr(e,o,i)),null!=(o=Ve(e,t))&&r.push(Lr(e,o,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,o))&&a.unshift(Lr(n,u,s)):i||null!=(u=Ve(n,o))&&a.push(Lr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Vr(){}var qr=null,Br=null;function Kr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Yr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Xr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Qr=0;var Zr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Zr,$r="__reactProps$"+Zr,ei="__reactContainer$"+Zr,ti="__reactEvents$"+Zr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Xr(e);null!==e;){if(n=e[Jr])return n;e=Xr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[$r]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){li(pi),li(di)}function bi(e,t,n){if(di.current!==hi)throw Error(a(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,G(t)||"Unknown",o));return i({},n,r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var ki=null,Ii=null,Si=o.unstable_runWithPriority,Ti=o.unstable_scheduleCallback,xi=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,Ni=o.unstable_requestPaint,Pi=o.unstable_now,Oi=o.unstable_getCurrentPriorityLevel,Ai=o.unstable_ImmediatePriority,Ri=o.unstable_UserBlockingPriority,Di=o.unstable_NormalPriority,ji=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Mi={},Fi=void 0!==Ni?Ni:function(){},Ui=null,Vi=null,qi=!1,Bi=Pi(),Ki=1e4>Bi?Pi:function(){return Pi()-Bi};function zi(){switch(Oi()){case Ai:return 99;case Ri:return 98;case Di:return 97;case ji:return 96;case Li:return 95;default:throw Error(a(332))}}function Wi(e){switch(e){case 99:return Ai;case 98:return Ri;case 97:return Di;case 96:return ji;case 95:return Li;default:throw Error(a(332))}}function Hi(e,t){return e=Wi(e),Si(e,t)}function Gi(e,t,n){return e=Wi(e),Ti(e,t,n)}function Yi(){if(null!==Vi){var e=Vi;Vi=null,xi(e)}Xi()}function Xi(){if(!qi&&null!==Ui){qi=!0;var e=0;try{var t=Ui;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ti(Ai,Yi),n}finally{qi=!1}}}var Qi=_.ReactCurrentBatchConfig;function Zi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),$i=null,eo=null,to=null;function no(){to=eo=$i=null}function ro(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){$i=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ma=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===$i)throw Error(a(308));eo=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(h=o.baseState,s=0,f=l=c=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===f&&(c=h),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=f,qs|=s,e.lanes=s,e.memoizedState=h}}function vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var mo=(new r.Component).refs;function go(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),o=lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),o=lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fo(e,i),pu(e,r,n)}};function bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,o))}function wo(e,t,n){var r=!1,i=hi,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=gi(t)?vi:di.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function _o(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function Eo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,uo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=gi(t)?vi:di.current,i.context=mi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&yo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var ko=Array.isArray;function Io(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function So(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function To(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Qu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Io(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=Io(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Zu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Yu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Qu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=Io(e,null,t),n.return=e,n;case k:return(t=Zu(t,e.mode,n)).return=e,t}if(ko(t)||B(t))return(t=Yu(t,e.mode,n,null)).return=e,t;So(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===I?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case k:return n.key===i?l(e,t,n,r):null}if(ko(n)||B(n))return null!==i?null:f(e,t,n,r,null);So(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===I?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ko(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);So(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=B(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===I&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case E:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===I){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=Io(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===I?((r=Yu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Gu(o.type,o.key,o.props,null,e.mode,u)).ref=Io(e,r,o),u.return=e,e=u)}return s(e);case k:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Zu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Qu(o,e.mode,u)).return=e,e=r),s(e);if(ko(o))return v(e,r,o,u);if(B(o))return m(e,r,o,u);if(l&&So(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,G(e.type)||"Component"))}return n(e,r)}}var xo=To(!0),Co=To(!1),No={},Po=ci(No),Oo=ci(No),Ao=ci(No);function Ro(e){if(e===No)throw Error(a(174));return e}function Do(e,t){switch(fi(Ao,t),fi(Oo,e),fi(Po,No),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Po),fi(Po,t)}function jo(){li(Po),li(Oo),li(Ao)}function Lo(e){Ro(Ao.current);var t=Ro(Po.current),n=pe(t,e.type);t!==n&&(fi(Oo,e),fi(Po,n))}function Mo(e){Oo.current===e&&(li(Po),li(Oo))}var Fo=ci(0);function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vo=null,qo=null,Bo=!1;function Ko(e,t){var n=zu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wo(e){if(Bo){var t=qo;if(t){var n=t;if(!zo(e,t)){if(!(t=Yr(n.nextSibling))||!zo(e,t))return e.flags=-1025&e.flags|2,Bo=!1,void(Vo=e);Ko(Vo,n)}Vo=e,qo=Yr(t.firstChild)}else e.flags=-1025&e.flags|2,Bo=!1,Vo=e}}function Ho(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Vo=e}function Go(e){if(e!==Vo)return!1;if(!Bo)return Ho(e),Bo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=qo;t;)Ko(e,t),t=Yr(t.nextSibling);if(Ho(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){qo=Yr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}qo=null}}else qo=Vo?Yr(e.stateNode.nextSibling):null;return!0}function Yo(){qo=Vo=null,Bo=!1}var Xo=[];function Qo(){for(var e=0;e<Xo.length;e++)Xo[e]._workInProgressVersionPrimary=null;Xo.length=0}var Zo=_.ReactCurrentDispatcher,Jo=_.ReactCurrentBatchConfig,$o=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,i,o){if($o=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zo.current=null===e||null===e.memoizedState?Ra:Da,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,Zo.current=ja,e=n(r,i)}while(ia)}if(Zo.current=Aa,t=null!==ta&&null!==ta.next,$o=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ca(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function la(e,t){return"function"===typeof t?t(e):t}function fa(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if(($o&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,ea.lanes|=l,qs|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,lr(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ha(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);lr(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function da(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($o&e)===e)&&(t._workInProgressVersionPrimary=r,Xo.push(t))),e)return n(t._source);throw Xo.push(t),Error(a(350))}function pa(e,t,n,r){var i=Rs;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Zo.current,c=u.useState((function(){return da(i,t,n)})),l=c[1],f=c[0];c=na;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=ea;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-zt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:f}).dispatch=l=Oa.bind(null,ea,e),c.queue=e,c.baseQueue=null,f=da(i,t,n),c.memoizedState=c.baseState=f),f}function va(e,t,n){return pa(ca(),e,t,n)}function ma(e){var t=ua();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Oa.bind(null,ea,e),[t.memoizedState,e]}function ga(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ya(e){return e={current:e},ua().memoizedState=e}function ba(){return ca().memoizedState}function wa(e,t,n,r){var i=ua();ea.flags|=e,i.memoizedState=ga(1|t,n,void 0,void 0===r?null:r)}function _a(e,t,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ga(t,n,o,r)}ea.flags|=e,i.memoizedState=ga(1|t,n,o,r)}function Ea(e,t){return wa(516,4,e,t)}function ka(e,t){return _a(516,4,e,t)}function Ia(e,t){return _a(4,2,e,t)}function Sa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ta(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_a(4,2,Sa.bind(null,t,e),n)}function xa(){}function Ca(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Na(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Pa(e,t){var n=zi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{e(!1),t()}finally{Jo.transition=n}}))}function Oa(e,t,n){var r=hu(),i=du(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Aa={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Ra={readContext:ao,useCallback:function(e,t){return ua().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:Ea,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,Sa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wa(4,2,e,t)},useMemo:function(e,t){var n=ua();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ua();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oa.bind(null,ea,e),[r.memoizedState,e]},useRef:ya,useState:ma,useDebugValue:xa,useDeferredValue:function(e){var t=ma(e),n=t[0],r=t[1];return Ea((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ma(!1),t=e[0];return ya(e=Pa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ua();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(Bo){var e=!1,t=function(e){return{$$typeof:j,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Qr++).toString(36))),Error(a(355))})),n=ma(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ga(5,(function(){n("r:"+(Qr++).toString(36))}),void 0,null)),t}return ma(t="r:"+(Qr++).toString(36)),t},unstable_isNewReconciler:!1},Da={readContext:ao,useCallback:Ca,useContext:ao,useEffect:ka,useImperativeHandle:Ta,useLayoutEffect:Ia,useMemo:Na,useReducer:fa,useRef:ba,useState:function(){return fa(la)},useDebugValue:xa,useDeferredValue:function(e){var t=fa(la),n=t[0],r=t[1];return ka((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=fa(la)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return fa(la)[0]},unstable_isNewReconciler:!1},ja={readContext:ao,useCallback:Ca,useContext:ao,useEffect:ka,useImperativeHandle:Ta,useLayoutEffect:Ia,useMemo:Na,useReducer:ha,useRef:ba,useState:function(){return ha(la)},useDebugValue:xa,useDeferredValue:function(e){var t=ha(la),n=t[0],r=t[1];return ka((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ha(la)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return ha(la)[0]},unstable_isNewReconciler:!1},La=_.ReactCurrentOwner,Ma=!1;function Fa(e,t,n,r){t.child=null===e?Co(t,null,n,r):xo(t,e.child,n,r)}function Ua(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=sa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Fa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Va(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Wu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,qa(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=Hu(a,r)).ref=t.ref,e.return=t,t.child=e)}function qa(e,t,n,r,i,o){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Ma=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(Ma=!0)}return za(e,t,n,r,o)}function Ba(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Eu(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Eu(t,e),null;t.memoizedState={baseLanes:0},Eu(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Eu(t,r);return Fa(e,t,i,n),t.child}function Ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function za(e,t,n,r,i){var o=gi(n)?vi:di.current;return o=mi(t,o),oo(t,i),n=sa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Fa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Wa(e,t,n,r,i){if(gi(n)){var o=!0;_i(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),wo(t,n,r),Eo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ao(c):c=mi(t,c=gi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&_o(t,a,r,c),so=!1;var h=t.memoizedState;a.state=h,po(t,r,a,i),u=t.memoizedState,s!==r||h!==u||pi.current||so?("function"===typeof l&&(go(t,n,l,r),u=t.memoizedState),(s=so||bo(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,co(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Zi(t.type,s),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ao(u):u=mi(t,u=gi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||h!==u)&&_o(t,a,r,u),so=!1,h=t.memoizedState,a.state=h,po(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||pi.current||so?("function"===typeof d&&(go(t,n,d,r),p=t.memoizedState),(c=so||bo(t,n,c,r,h,p,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ha(e,t,n,r,o,i)}function Ha(e,t,n,r,i,o){Ka(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&Ei(t,n,!1),os(e,t,o);r=t.stateNode,La.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):Fa(e,t,s,o),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Ga(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Do(e,t.containerInfo)}var Ya,Xa,Qa,Za={dehydrated:null,retryLane:0};function Ja(e,t,n){var r,i=t.pendingProps,o=Fo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),fi(Fo,1&o),null===e?(void 0!==i.fallback&&Wo(t),e=i.children,o=i.fallback,a?(e=$a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Za,e):"number"===typeof i.unstable_expectedLoadTime?(e=$a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Za,t.lanes=33554432,e):((n=Xu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Za,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function $a(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Xu(t,i,0,null),n=Yu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Hu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hu(a,s),null!==e?r=Hu(e,r):(r=Yu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Fa(e,t,r.children,n),0!==(2&(r=Fo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),qs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Hu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!Bo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return jo(),li(pi),li(di),Qo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Go(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Mo(t);var o=Ro(Ao.current);if(n=t.type,null!==e&&null!=t.stateNode)Xa(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Ro(Po.current),Go(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[$r]=s,n){case"dialog":Pr("cancel",r),Pr("close",r);break;case"iframe":case"object":case"embed":Pr("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Pr(Tr[e],r);break;case"source":Pr("error",r);break;case"img":case"image":case"link":Pr("error",r),Pr("load",r);break;case"details":Pr("toggle",r);break;case"input":ee(r,s),Pr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pr("invalid",r);break;case"textarea":ue(r,s),Pr("invalid",r)}for(var c in Ie(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Pr("scroll",r));switch(n){case"input":Q(r),re(r,s,!0);break;case"textarea":Q(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[$r]=r,Ya(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Pr("cancel",e),Pr("close",e),o=r;break;case"iframe":case"object":case"embed":Pr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Tr.length;o++)Pr(Tr[o],e);o=r;break;case"source":Pr("error",e),o=r;break;case"img":case"image":case"link":Pr("error",e),Pr("load",e),o=r;break;case"details":Pr("toggle",e),o=r;break;case"input":ee(e,r),o=$(e,r),Pr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Pr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Pr("invalid",e);break;default:o=r}Ie(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?Ee(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Pr("scroll",e):null!=f&&w(e,s,f,c))}switch(n){case"input":Q(e),re(e,r,!1);break;case"textarea":Q(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Vr)}Kr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Qa(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Ro(Ao.current),Ro(Po.current),Go(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Fo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Go(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fo.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Rs||0===(134217727&qs)&&0===(134217727&Bs)||yu(Rs,js))),(r||n)&&(t.flags|=4),null);case 4:return jo(),null===e&&Ar(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(li(Fo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)as(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Uo(e))){for(t.flags|=64,as(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fo,1&Fo.current|2),t.child}e=e.sibling}null!==r.tail&&Ki()>Hs&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Uo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Bo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ki()-r.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ki(),n.sibling=null,t=Fo.current,fi(Fo,s?1&t|2:1&t),n):null;case 23:case 24:return ku(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(jo(),li(pi),li(di),Qo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Mo(e),null;case 13:return li(Fo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fo),null;case 4:return jo(),null;case 10:return ro(e),null;case 23:case 24:return ku(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ya=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xa=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ro(Po.current);var a,s=null;switch(n){case"input":o=$(e,o),r=$(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ie(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Pr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===j?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Qa=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qs||(Qs=!0,Zs=r),ls(0,t)},n}function ds(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Zi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(a(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Mu(n,e),Lu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Zi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&vo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}vo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Kr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(a(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=_e("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(Ii&&"function"===typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(ki,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Mu(t,n);else{r=t;try{i()}catch(o){Vu(r,o)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Vu(t,o)}break;case 5:vs(t);break;case 4:Ss(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function _s(e){return 5===e.tag||3===e.tag||4===e.tag}function Es(e){e:{for(var t=e.return;null!==t;){if(_s(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||_s(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ks(e,n,t):Is(e,n,t)}function ks(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(ks(e,t,n),e=e.sibling;null!==e;)ks(e,t,n),e=e.sibling}function Is(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Is(e,t,n),e=e.sibling;null!==e;)Is(e,t,n),e=e.sibling}function Ss(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Ee(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?ye(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=Ki(),ys(t.child,!0)),void xs(t);case 19:return void xs(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(a(163))}function xs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,Ps=_.ReactCurrentDispatcher,Os=_.ReactCurrentOwner,As=0,Rs=null,Ds=null,js=0,Ls=0,Ms=ci(0),Fs=0,Us=null,Vs=0,qs=0,Bs=0,Ks=0,zs=null,Ws=0,Hs=1/0;function Gs(){Hs=Ki()+500}var Ys,Xs=null,Qs=!1,Zs=null,Js=null,$s=!1,eu=null,tu=90,nu=[],ru=[],iu=null,ou=0,au=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&As)?Ki():-1!==su?su:su=Ki()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===zi()?1:2;if(0===uu&&(uu=Vs),0!==Qi.transition){0!==cu&&(cu=null!==zs?zs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=zi(),0!==(4&As)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(e=vu(e,t)))return null;Kt(e,t,n),e===Rs&&(Bs|=t,4===Fs&&yu(e,js));var r=zi();1===t?0!==(8&As)&&0===(48&As)?bu(e):(mu(e,n),0===As&&(Gs(),Yi())):(0===(4&As)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),zs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-zt(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=Lt;o[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Rs?js:0),t=Lt,0===r)null!==n&&(n!==Mi&&xi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&xi(n)}15===t?(n=bu.bind(null,e),null===Ui?(Ui=[n],Vi=Ti(Ai,Xi)):Ui.push(n),n=Mi):14===t?n=Gi(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Gi(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,cu=uu=0,0!==(48&As))throw Error(a(327));var t=e.callbackNode;if(ju()&&e.callbackNode!==t)return null;var n=Ft(e,e===Rs?js:0);if(0===n)return null;var r=n,i=As;As|=16;var o=Tu();for(Rs===e&&js===r||(Gs(),Iu(e,r));;)try{Nu();break}catch(u){Su(e,u)}if(no(),Ps.current=o,As=i,null!==Ds?r=0:(Rs=null,js=0,r=Fs),0!==(Vs&Bs))Iu(e,0);else if(0!==r){if(2===r&&(As|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=xu(e,n))),1===r)throw t=Us,Iu(e,0),yu(e,n),mu(e,Ki()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Au(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Ws+500-Ki())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Au.bind(null,e),r);break}Au(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-zt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Ki()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=Wr(Au.bind(null,e),n);break}Au(e);break;default:throw Error(a(329))}}return mu(e,Ki()),e.callbackNode===t?gu.bind(null,e):null}function yu(e,t){for(t&=~Ks,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&As))throw Error(a(327));if(ju(),e===Rs&&0!==(e.expiredLanes&js)){var t=js,n=xu(e,t);0!==(Vs&Bs)&&(n=xu(e,t=Ft(e,t)))}else n=xu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(As|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=xu(e,t))),1===n)throw n=Us,Iu(e,0),yu(e,t),mu(e,Ki()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Au(e),mu(e,Ki()),null}function wu(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(Gs(),Yi())}}function _u(e,t){var n=As;As&=-2,As|=8;try{return e(t)}finally{0===(As=n)&&(Gs(),Yi())}}function Eu(e,t){fi(Ms,Ls),Ls|=t,Vs|=t}function ku(){Ls=Ms.current,li(Ms)}function Iu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:jo(),li(pi),li(di),Qo();break;case 5:Mo(r);break;case 4:jo();break;case 13:case 19:li(Fo);break;case 10:ro(r);break;case 23:case 24:ku()}n=n.return}Rs=e,Ds=Hu(e.current,null),js=Ls=Vs=t,Fs=0,Us=null,Ks=Bs=qs=0}function Su(e,t){for(;;){var n=Ds;try{if(no(),Zo.current=Aa,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if($o=0,na=ta=ea=null,ia=!1,Os.current=null,null===n||null===n.return){Fs=1,Us=t,Ds=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=js,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Fo.current),h=a;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var g=new Set;g.add(c),h.updateQueue=g}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=lo(-1,1);y.tag=2,fo(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new fs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=qu.bind(null,o,c,s);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),h=a;do{switch(h.tag){case 3:o=u,h.flags|=4096,t&=-t,h.lanes|=t,ho(h,hs(0,o,t));break e;case 1:o=u;var _=h.type,E=h.stateNode;if(0===(64&h.flags)&&("function"===typeof _.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Js||!Js.has(E)))){h.flags|=4096,t&=-t,h.lanes|=t,ho(h,ds(h,o,t));break e}}h=h.return}while(null!==h)}Ou(n)}catch(k){t=k,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Tu(){var e=Ps.current;return Ps.current=Aa,null===e?Aa:e}function xu(e,t){var n=As;As|=16;var r=Tu();for(Rs===e&&js===t||Iu(e,t);;)try{Cu();break}catch(i){Su(e,i)}if(no(),As=n,Ps.current=r,null!==Ds)throw Error(a(261));return Rs=null,js=0,Fs}function Cu(){for(;null!==Ds;)Pu(Ds)}function Nu(){for(;null!==Ds&&!Ci();)Pu(Ds)}function Pu(e){var t=Ys(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Ou(e):Ds=t,Os.current=null}function Ou(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ls)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ls)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Fs&&(Fs=5)}function Au(e){var t=zi();return Hi(99,Ru.bind(null,e,t)),null}function Ru(e,t){do{ju()}while(null!==eu);if(0!==(48&As))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-zt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Rs&&(Ds=Rs=null,js=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=As,As|=32,Os.current=null,qr=Xt,gr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(T){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,g=null;t:for(;;){for(var y;m!==u||0!==o&&3!==m.nodeType||(h=f+o),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===s)break t;if(g===u&&++p===o&&(h=f),g===c&&++v===l&&(d=f),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Br={focusedElem:s,selectionRange:u},Xt=!1,lu=null,fu=!1,Xs=r;do{try{Du()}catch(T){if(null===Xs)throw Error(a(330));Vu(Xs,T),Xs=Xs.nextEffect}}while(null!==Xs);lu=null,Xs=r;do{try{for(s=e;null!==Xs;){var b=Xs.flags;if(16&b&&ye(Xs.stateNode,""),128&b){var w=Xs.alternate;if(null!==w){var _=w.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:Es(Xs),Xs.flags&=-3;break;case 6:Es(Xs),Xs.flags&=-3,Ts(Xs.alternate,Xs);break;case 1024:Xs.flags&=-1025;break;case 1028:Xs.flags&=-1025,Ts(Xs.alternate,Xs);break;case 4:Ts(Xs.alternate,Xs);break;case 8:Ss(s,u=Xs);var E=u.alternate;ws(u),null!==E&&ws(E)}Xs=Xs.nextEffect}}catch(T){if(null===Xs)throw Error(a(330));Vu(Xs,T),Xs=Xs.nextEffect}}while(null!==Xs);if(_=Br,w=mr(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&vr(b.ownerDocument.documentElement,b)){null!==s&&gr(b)&&(w=s.start,void 0===(_=s.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!_.extend&&E>s&&(u=s,s=E,E=u),u=pr(b,E),o=pr(b,s),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),E>s?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Xt=!!qr,Br=qr=null,e.current=n,Xs=r;do{try{for(b=e;null!==Xs;){var k=Xs.flags;if(36&k&&gs(b,Xs.alternate,Xs),128&k){w=void 0;var I=Xs.ref;if(null!==I){var S=Xs.stateNode;Xs.tag,w=S,"function"===typeof I?I(w):I.current=w}}Xs=Xs.nextEffect}}catch(T){if(null===Xs)throw Error(a(330));Vu(Xs,T),Xs=Xs.nextEffect}}while(null!==Xs);Xs=null,Fi(),As=i}else e.current=n;if($s)$s=!1,eu=e,tu=t;else for(Xs=r;null!==Xs;)t=Xs.nextEffect,Xs.nextEffect=null,8&Xs.flags&&((k=Xs).sibling=null,k.stateNode=null),Xs=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===au?ou++:(ou=0,au=e):ou=0,n=n.stateNode,Ii&&"function"===typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(ki,n,void 0,64===(64&n.current.flags))}catch(T){}if(mu(e,Ki()),Qs)throw Qs=!1,e=Zs,Zs=null,e;return 0!==(8&As)||Yi(),null}function Du(){for(;null!==Xs;){var e=Xs.alternate;fu||null===lu||(0!==(8&Xs.flags)?et(Xs,lu)&&(fu=!0):13===Xs.tag&&Cs(e,Xs)&&et(Xs,lu)&&(fu=!0));var t=Xs.flags;0!==(256&t)&&ms(e,Xs),0===(512&t)||$s||($s=!0,Gi(97,(function(){return ju(),null}))),Xs=Xs.nextEffect}}function ju(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Hi(e,Fu)}return!1}function Lu(e,t){nu.push(t,e),$s||($s=!0,Gi(97,(function(){return ju(),null})))}function Mu(e,t){ru.push(t,e),$s||($s=!0,Gi(97,(function(){return ju(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&As))throw Error(a(331));var t=As;As|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));Vu(o,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));Vu(o,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return As=t,Yi(),!0}function Uu(e,t,n){fo(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(Kt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(fo(n,i),i=hu(),null!==(n=vu(n,1)))Kt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function qu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Rs===e&&(js&n)===n&&(4===Fs||3===Fs&&(62914560&js)===js&&500>Ki()-Ws?Iu(e,0):Ks|=n),mu(e,t)}function Bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===zi()?1:2:(0===uu&&(uu=Vs),0===(t=qt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(Kt(e,t,n),mu(e,n))}function Ku(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function zu(e,t,n,r){return new Ku(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hu(e,t){var n=e.alternate;return null===n?((n=zu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case I:return Yu(n.children,i,o,t);case L:s=8,i|=16;break;case S:s=8,i|=1;break;case T:return(e=zu(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=o,e;case P:return(e=zu(13,n,t,i)).type=P,e.elementType=P,e.lanes=o,e;case O:return(e=zu(19,n,t,i)).elementType=O,e.lanes=o,e;case M:return Xu(n,i,o,t);case F:return(e=zu(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case C:s=9;break e;case N:s=11;break e;case A:s=14;break e;case R:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=zu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Yu(e,t,n,r){return(e=zu(7,e,r,t)).lanes=n,e}function Xu(e,t,n,r){return(e=zu(23,e,r,t)).elementType=M,e.lanes=n,e}function Qu(e,t,n){return(e=zu(6,e,null,t)).lanes=n,e}function Zu(e,t,n){return(t=zu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function $u(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,o=hu(),s=du(i);e:if(n){t:{if(Qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=wi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fo(i,t),pu(i,s,o),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=zu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,uo(t),e[ei]=n.current,Ar(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(a);s.call(e)}}ec(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(a);u.call(e)}}_u((function(){ec(t,a,e,i)}))}return tc(a)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(a(200));return $u(e,t,null,n)}Ys=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Ma=!0;else{if(0===(n&r)){switch(Ma=!1,t.tag){case 3:Ga(t),Yo();break;case 5:Lo(t);break;case 1:gi(t.type)&&_i(t);break;case 4:Do(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ja(e,t,n):(fi(Fo,1&Fo.current),null!==(t=os(e,t,n))?t.sibling:null);fi(Fo,1&Fo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fo,Fo.current),r)break;return null;case 23:case 24:return t.lanes=0,Ba(e,t,n)}return os(e,t,n)}Ma=0!==(16384&e.flags)}else Ma=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),oo(t,n),i=sa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;_i(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&go(t,r,s,e),i.updater=yo,t.stateNode=i,i._reactInternals=t,Eo(t,r,e,n),t=Ha(null,t,r,!0,o,n)}else t.tag=0,Fa(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===A)return 14}return 2}(i),e=Zi(i,e),o){case 0:t=za(null,t,i,e,n);break e;case 1:t=Wa(null,t,i,e,n);break e;case 11:t=Ua(null,t,i,e,n);break e;case 14:t=Va(null,t,i,Zi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wa(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 3:if(Ga(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Yo(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(qo=Yr(t.stateNode.containerInfo.firstChild),Vo=t,o=Bo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Xo.push(o);for(n=Co(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fa(e,t,r,n),Yo();t=t.child}return t;case 5:return Lo(t),null===e&&Wo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,zr(r,i)?s=null:null!==o&&zr(r,o)&&(t.flags|=16),Ka(e,t),Fa(e,t,s,n),t.child;case 6:return null===e&&Wo(t),null;case 13:return Ja(e,t,n);case 4:return Do(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):Fa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 7:return Fa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(fi(Ji,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=lr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!pi.current){t=os(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=lo(-1,n&-n)).tag=2,fo(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),io(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,Fa(e,t,r,n),t.child;case 14:return o=Zi(i=t.type,t.pendingProps),Va(e,t,i,o=Zi(i.type,o),r,n);case 15:return qa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,_i(t)):e=!1,oo(t,n),wo(t,r,i),Eo(t,r,i,n),Ha(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Ba(e,t,n)}throw Error(a(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},xe=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));Z(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Re=wu,De=function(e,t,n,r,i){var o=As;As|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(As=o)&&(Gs(),Yi())}},je=function(){0===(49&As)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,Ki())}))}Yi()}(),ju())},Le=function(e,t){var n=As;As|=2;try{return e(t)}finally{0===(As=n)&&(Gs(),Yi())}};var uc={Events:[ri,ii,oi,Oe,Ae,ju,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{ki=fc.inject(lc),Ii=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=As;if(0!==(48&n))return e(t);As|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{As=n,Yi()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(a(40));return!!e._reactRootContainer&&(_u((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=y.prototype=new g;b.constructor=y,r(b,m.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:w.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+T(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),x(a,t,n,"",(function(e){return e}))):null!=a&&(I(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(s=e[c],c);u+=x(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=x(s=s.value,t,n,l=r+T(s,c++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var P={current:null};function O(){var e=P.current;if(null===e)throw Error(d(321));return e}var A={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,g=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();b=e+y;try{m(!0,e)?_.postMessage(null):(v=!1,m=null)}catch(n){throw _.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,_.postMessage(null))},r=function(e,n){g=h((function(){e(t.unstable_now())}),n)},i=function(){d(g),g=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>S(a,n))void 0!==u&&0>S(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>S(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],x=[],C=1,N=null,P=3,O=!1,A=!1,R=!1;function D(e){for(var t=k(x);null!==t;){if(null===t.callback)I(x);else{if(!(t.startTime<=e))break;I(x),t.sortIndex=t.expirationTime,E(T,t)}t=k(x)}}function j(e){if(R=!1,D(e),!A)if(null!==k(T))A=!0,n(L);else{var t=k(x);null!==t&&r(j,t.startTime-e)}}function L(e,n){A=!1,R&&(R=!1,i()),O=!0;var o=P;try{for(D(n),N=k(T);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=N.callback;if("function"===typeof a){N.callback=null,P=N.priorityLevel;var s=a(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===k(T)&&I(T),D(n)}else I(T);N=k(T)}if(null!==N)var u=!0;else{var c=k(x);null!==c&&r(j,c.startTime-n),u=!1}return u}finally{N=null,P=o,O=!1}}var M=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||O||(A=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return k(T)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,E(x,e),null===k(T)&&e===k(x)&&(R?i():R=!0,r(j,a-s))):(e.sortIndex=u,E(T,e),A||O||(A=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t},574:function(e,t,n){"use strict";e.exports=n.p+"static/media/catHome.2a787aa094a41235b9a8.png"},706:function(e,t,n){"use strict";e.exports=n.p+"static/media/heart.36b9252e17d35420a148.png"},724:function(e,t,n){"use strict";e.exports=n.p+"static/media/1.baa0b0fb457f213ca0cf.jpg"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".60eaf538.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="cats:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+o){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/cats/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkcats=self.webpackChunkcats||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(791),t=n(164);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var s,u=s||(s={});u.Pop="POP",u.Push="PUSH",u.Replace="REPLACE";var c=function(e){return e};function l(e){e.preventDefault(),e.returnValue=""}function f(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function h(){return Math.random().toString(36).substr(2,8)}function d(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function p(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function v(e,t){if(!e)throw new Error(t)}var m=(0,e.createContext)(null);var g=(0,e.createContext)(null);var y=(0,e.createContext)({outlet:null,matches:[]});function b(t){return function(t){var n=(0,e.useContext)(y).outlet;if(n)return(0,e.createElement)(x.Provider,{value:t},n);return n}(t.context)}function w(e){v(!1)}function _(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,o=void 0===i?null:i,a=t.location,u=t.navigationType,c=void 0===u?s.Pop:u,l=t.navigator,f=t.static,h=void 0!==f&&f;I()&&v(!1);var d=V(r),y=(0,e.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof a&&(a=p(a));var b=a,w=b.pathname,_=void 0===w?"/":w,E=b.search,k=void 0===E?"":E,S=b.hash,T=void 0===S?"":S,x=b.state,C=void 0===x?null:x,N=b.key,P=void 0===N?"default":N,O=(0,e.useMemo)((function(){var e=F(_,d);return null==e?null:{pathname:e,search:k,hash:T,state:C,key:P}}),[d,_,k,T,C,P]);return null==O?null:(0,e.createElement)(m.Provider,{value:y},(0,e.createElement)(g.Provider,{children:o,value:{location:O,navigationType:c}}))}function E(t){var n=t.children,r=t.location;return function(t,n){I()||v(!1);var r=(0,e.useContext)(y).matches,i=r[r.length-1],o=i?i.params:{},a=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var s,u=S();if(n){var c,l="string"===typeof n?p(n):n;"/"===a||(null==(c=l.pathname)?void 0:c.startsWith(a))||v(!1),s=l}else s=u;var f=s.pathname||"/",h="/"===a?f:f.slice(a.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=F(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;var i=P(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=D(i[a],r);return o}(t,{pathname:h});0;return j(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:U([a,e.pathname]),pathnameBase:"/"===e.pathnameBase?a:U([a,e.pathnameBase])})})),r)}(N(n),r)}function k(t){I()||v(!1);var n=(0,e.useContext)(m),r=n.basename,i=n.navigator,o=C(t),a=o.hash,s=o.pathname,u=o.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?p(e).pathname:e.pathname}(t),f=null!=l&&l.endsWith("/");c="/"===s?r+(f?"/":""):U([r,s])}return i.createHref({pathname:c,search:u,hash:a})}function I(){return null!=(0,e.useContext)(g)}function S(){return I()||v(!1),(0,e.useContext)(g).location}function T(){I()||v(!1);var t=(0,e.useContext)(m),n=t.basename,r=t.navigator,i=(0,e.useContext)(y).matches,o=S().pathname,a=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,e.useRef)(!1);(0,e.useEffect)((function(){s.current=!0}));var u=(0,e.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=M(e,JSON.parse(a),o);"/"!==n&&(i.pathname=U([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,a,o]);return u}var x=(0,e.createContext)(null);function C(t){var n=(0,e.useContext)(y).matches,r=S().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,e.useMemo)((function(){return M(t,JSON.parse(i),r)}),[t,i,r])}function N(t){var n=[];return e.Children.forEach(t,(function(t){if((0,e.isValidElement)(t))if(t.type!==e.Fragment){t.type!==w&&v(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=N(t.props.children)),n.push(r)}else n.push.apply(n,N(t.props.children))})),n}function P(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||v(!1),o.relativePath=o.relativePath.slice(r.length));var a=U([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&v(!1),P(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:R(a,e.index),routesMeta:s})})),t}var O=/^:\w+$/,A=function(e){return"*"===e};function R(e,t){var n=e.split("/"),r=n.length;return n.some(A)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!A(e)})).reduce((function(e,t){return e+(O.test(t)?3:""===t?1:10)}),r)}function D(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=L({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;o.push({params:r,pathname:U([i,l.pathname]),pathnameBase:U([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=U([i,l.pathnameBase]))}return o}function j(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight((function(r,i,o){return(0,e.createElement)(y.Provider,{children:void 0!==i.route.element?i.route.element:(0,e.createElement)(b,null),value:{outlet:r,matches:n.concat(t.slice(0,o+1))}})}),null)}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=o(n,2),i=r[0],a=r[1],s=t.match(i);if(!s)return null;var u=s[0],c=u.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function M(e,t,n){var r,i="string"===typeof e?p(e):e,o=""===e||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{var a=t.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),a-=1;i.pathname=s.join("/")}r=a>=0?t[a]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?p(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:q(o),hash:B(s)}}(i,r);return o&&"/"!==o&&o.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function F(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var U=function(e){return e.join("/").replace(/\/\/+/g,"/")},V=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},q=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},B=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}function z(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var W=["onClick","reloadDocument","replace","state","target","to"];function H(t){var n=t.basename,r=t.children,i=t.window,u=(0,e.useRef)();null==u.current&&(u.current=function(e){function t(){var e=p(v.location.hash.substr(1)),t=e.pathname,n=e.search;e=e.hash;var r=m.state||{};return[r.idx,c({pathname:void 0===t?"/":t,search:void 0===n?"":n,hash:void 0===e?"":e,state:r.usr||null,key:r.key||"default"})]}function n(){if(g)E.call(g),g=null;else{var e=s.Pop,n=t(),r=n[0];if(n=n[1],E.length){if(null!=r){var i=b-r;i&&(g={action:e,location:n,retry:function(){u(-1*i)}},u(i))}}else o(e)}}function r(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=-1===(n=(t=v.location.href).indexOf("#"))?t:t.slice(0,n)),n+"#"+("string"===typeof e?e:d(e))}function i(e,t){return void 0===t&&(t=null),c(a({pathname:w.pathname,hash:"",search:""},"string"===typeof e?p(e):e,{state:t,key:h()}))}function o(e){y=e,e=t(),b=e[0],w=e[1],_.call({action:y,location:w})}function u(e){m.go(e)}void 0===e&&(e={});var v=void 0===(e=e.window)?document.defaultView:e,m=v.history,g=null;v.addEventListener("popstate",n),v.addEventListener("hashchange",(function(){d(t()[1])!==d(w)&&n()}));var y=s.Pop,b=(e=t())[0],w=e[1],_=f(),E=f();return null==b&&(b=0,m.replaceState(a({},m.state,{idx:b}),"")),{get action(){return y},get location(){return w},createHref:r,push:function e(t,n){var a=s.Push,u=i(t,n);if(!E.length||(E.call({action:a,location:u,retry:function(){e(t,n)}}),0)){var c=[{usr:u.state,key:u.key,idx:b+1},r(u)];u=c[0],c=c[1];try{m.pushState(u,"",c)}catch(ii){v.location.assign(c)}o(a)}},replace:function e(t,n){var a=s.Replace,u=i(t,n);E.length&&(E.call({action:a,location:u,retry:function(){e(t,n)}}),1)||(u=[{usr:u.state,key:u.key,idx:b},r(u)],m.replaceState(u[0],"",u[1]),o(a))},go:u,back:function(){u(-1)},forward:function(){u(1)},listen:function(e){return _.push(e)},block:function(e){var t=E.push(e);return 1===E.length&&v.addEventListener("beforeunload",l),function(){t(),E.length||v.removeEventListener("beforeunload",l)}}}}({window:i}));var v=u.current,m=o((0,e.useState)({action:v.action,location:v.location}),2),g=m[0],y=m[1];return(0,e.useLayoutEffect)((function(){return v.listen(y)}),[v]),(0,e.createElement)(_,{basename:n,children:r,location:g.location,navigationType:g.action,navigator:v})}var G=(0,e.forwardRef)((function(t,n){var r=t.onClick,i=t.reloadDocument,o=t.replace,a=void 0!==o&&o,s=t.state,u=t.target,c=t.to,l=z(t,W),f=k(c),h=function(t,n){var r=void 0===n?{}:n,i=r.target,o=r.replace,a=r.state,s=T(),u=S(),c=C(t);return(0,e.useCallback)((function(e){if(0===e.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)){e.preventDefault();var n=!!o||d(u)===d(c);s(t,{replace:n,state:a})}}),[u,s,c,o,a,i,t])}(c,{replace:a,state:s,target:u});return(0,e.createElement)("a",K({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:u}))}));function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function J(e,t){if(null==e)return{};var n,r,i=Z(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var $=n(694),ee=n.n($),te=n(184),ne=e.createContext({prefixes:{}});ne.Consumer,ne.Provider;function re(t,n){var r=(0,e.useContext)(ne).prefixes;return t||r[n]||n}var ie=["bsPrefix","fluid","as","className"],oe=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,o=void 0===i?"div":i,a=e.className,s=J(e,ie),u=re(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,te.jsx)(o,Q(Q({ref:t},s),{},{className:ee()(a,r?"".concat(u).concat(c):u)}))}));oe.displayName="Container",oe.defaultProps={fluid:!1};var ae=oe,se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},ue=e.createContext(null);n(176);function ce(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function le(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function fe(t,n){return Object.keys(n).reduce((function(r,i){var o,s=r,u=s[ce(i)],c=s[i],l=Z(s,[ce(i),i].map(le)),f=n[i],h=function(t,n,r){var i=(0,e.useRef)(void 0!==t),o=(0,e.useState)(n),a=o[0],s=o[1],u=void 0!==t,c=i.current;return i.current=u,!u&&c&&a!==n&&s(n),[u?t:a,(0,e.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}(c,u,t[f]),d=h[0],p=h[1];return a({},l,((o={})[i]=d,o[f]=p,o))}),t)}function he(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function de(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function pe(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}he.__suppressDeprecationWarning=!0,de.__suppressDeprecationWarning=!0,pe.__suppressDeprecationWarning=!0;var ve=/-(.)/g;var me=["className","bsPrefix","as"],ge=function(e){return e[0].toUpperCase()+(t=e,t.replace(ve,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function ye(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?ge(t):r,o=n.Component,a=n.defaultProps,s=e.forwardRef((function(e,n){var r=e.className,i=e.bsPrefix,a=e.as,s=void 0===a?o||"div":a,u=J(e,me),c=re(i,t);return(0,te.jsx)(s,Q({ref:n,className:ee()(r,c)},u))}));return s.defaultProps=a,s.displayName=i,s}var be=["bsPrefix","className","as"],we=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,o=J(e,be);n=re(n,"navbar-brand");var a=i||(o.href?"a":"span");return(0,te.jsx)(a,Q(Q({},o),{},{ref:t,className:ee()(r,n)}))}));we.displayName="NavbarBrand";var _e=we;function Ee(e){return e&&e.ownerDocument||document}function ke(e,t){return function(e){var t=Ee(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Ie=/([A-Z])/g;var Se=/^ms-/;function Te(e){return function(e){return e.replace(Ie,"-$1").toLowerCase()}(e).replace(Se,"-ms-")}var xe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Ce=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Te(t))||ke(e).getPropertyValue(Te(t));Object.keys(t).forEach((function(i){var o=t[i];o||0===o?!function(e){return!(!e||!xe.test(e))}(i)?n+=Te(i)+": "+o+";":r+=i+"("+o+") ":e.style.removeProperty(Te(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function Ne(e,t){return Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ne(e,t)}var Pe=!1,Oe=e.createContext(null),Ae="unmounted",Re="exited",De="entering",je="entered",Le="exiting",Me=function(n){var r,i;function o(e,t){var r;r=n.call(this,e,t)||this;var i,o=t&&!t.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=Re,r.appearStatus=De):i=je:i=e.unmountOnExit||e.mountOnEnter?Ae:Re,r.state={status:i},r.nextCallback=null,r}i=n,(r=o).prototype=Object.create(i.prototype),r.prototype.constructor=r,Ne(r,i),o.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Ae?{status:Re}:null};var a=o.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==De&&n!==je&&(t=De):n!==De&&n!==je||(t=Le)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===De?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Re&&this.setState({status:Ae})},a.performEnter=function(e){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:e,o=this.props.nodeRef?[i]:[t.findDOMNode(this),i],a=o[0],s=o[1],u=this.getTimeouts(),c=i?u.appear:u.enter;!e&&!r||Pe?this.safeSetState({status:je},(function(){n.props.onEntered(a)})):(this.props.onEnter(a,s),this.safeSetState({status:De},(function(){n.props.onEntering(a,s),n.onTransitionEnd(c,(function(){n.safeSetState({status:je},(function(){n.props.onEntered(a,s)}))}))})))},a.performExit=function(){var e=this,n=this.props.exit,r=this.getTimeouts(),i=this.props.nodeRef?void 0:t.findDOMNode(this);n&&!Pe?(this.props.onExit(i),this.safeSetState({status:Le},(function(){e.props.onExiting(i),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:Re},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:Re},(function(){e.props.onExited(i)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,n){this.setNextCallback(n);var r=this.props.nodeRef?this.props.nodeRef.current:t.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(r&&!i){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],a=o[0],s=o[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var t=this.state.status;if(t===Ae)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Z(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(Oe.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},o}(e.Component);function Fe(){}Me.contextType=Oe,Me.propTypes={},Me.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Fe,onEntering:Fe,onEntered:Fe,onExit:Fe,onExiting:Fe,onExited:Fe},Me.UNMOUNTED=Ae,Me.EXITED=Re,Me.ENTERING=De,Me.ENTERED=je,Me.EXITING=Le;var Ue=Me,Ve=!("undefined"===typeof window||!window.document||!window.document.createElement),qe=!1,Be=!1;try{var Ke={get passive(){return qe=!0},get once(){return Be=qe=!0}};Ve&&(window.addEventListener("test",Ke,Ke),window.removeEventListener("test",Ke,!0))}catch(Ax){}var ze=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Be){var i=r.once,o=r.capture,a=n;!Be&&i&&(a=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=a),e.addEventListener(t,a,qe?r:o)}e.addEventListener(t,n,r)};var We=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var He=function(e,t,n,r){return ze(e,t,n,r),function(){We(e,t,n,r)}};function Ge(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),o=He(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}function Ye(e,t,n,r){null==n&&(n=function(e){var t=Ce(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Ge(e,n,r),o=He(e,"transitionend",t);return function(){i(),o()}}function Xe(e,t){var n=Ce(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Qe(e,t){var n=Xe(e,"transitionDuration"),r=Xe(e,"transitionDelay"),i=Ye(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var Ze=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function Je(e){e.offsetHeight}var $e=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var et=function(t,n){return(0,e.useMemo)((function(){return function(e,t){var n=$e(e),r=$e(t);return function(e){n&&n(e),r&&r(e)}}(t,n)}),[t,n])};var tt,nt=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],rt=e.forwardRef((function(n,r){var i=n.onEnter,o=n.onEntering,a=n.onEntered,s=n.onExit,u=n.onExiting,c=n.onExited,l=n.addEndListener,f=n.children,h=n.childRef,d=J(n,nt),p=(0,e.useRef)(null),v=et(p,h),m=function(e){var n;v((n=e)&&"setState"in n?t.findDOMNode(n):null!=n?n:null)},g=function(e){return function(t){e&&p.current&&e(p.current,t)}},y=(0,e.useCallback)(g(i),[i]),b=(0,e.useCallback)(g(o),[o]),w=(0,e.useCallback)(g(a),[a]),_=(0,e.useCallback)(g(s),[s]),E=(0,e.useCallback)(g(u),[u]),k=(0,e.useCallback)(g(c),[c]),I=(0,e.useCallback)(g(l),[l]);return(0,te.jsx)(Ue,Q(Q({ref:r},d),{},{onEnter:y,onEntered:w,onEntering:b,onExit:_,onExited:k,onExiting:E,addEndListener:I,nodeRef:p,children:"function"===typeof f?function(e,t){return f(e,Q(Q({},t),{},{ref:m}))}:e.cloneElement(f,{ref:m})}))})),it=rt,ot=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],at={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function st(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=at[e];return n+parseInt(Ce(t,r[0]),10)+parseInt(Ce(t,r[1]),10)}var ut=(Y(tt={},Re,"collapse"),Y(tt,Le,"collapsing"),Y(tt,De,"collapsing"),Y(tt,je,"collapse show"),tt),ct={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:st},lt=e.forwardRef((function(t,n){var r=t.onEnter,i=t.onEntering,o=t.onEntered,a=t.onExit,s=t.onExiting,u=t.className,c=t.children,l=t.dimension,f=void 0===l?"height":l,h=t.getDimensionValue,d=void 0===h?st:h,p=J(t,ot),v="function"===typeof f?f():f,m=(0,e.useMemo)((function(){return Ze((function(e){e.style[v]="0"}),r)}),[v,r]),g=(0,e.useMemo)((function(){return Ze((function(e){var t="scroll".concat(v[0].toUpperCase()).concat(v.slice(1));e.style[v]="".concat(e[t],"px")}),i)}),[v,i]),y=(0,e.useMemo)((function(){return Ze((function(e){e.style[v]=null}),o)}),[v,o]),b=(0,e.useMemo)((function(){return Ze((function(e){e.style[v]="".concat(d(v,e),"px"),Je(e)}),a)}),[a,d,v]),w=(0,e.useMemo)((function(){return Ze((function(e){e.style[v]=null}),s)}),[v,s]);return(0,te.jsx)(it,Q(Q({ref:n,addEndListener:Qe},p),{},{"aria-expanded":p.role?p.in:null,onEnter:m,onEntering:g,onEntered:y,onExit:b,onExiting:w,childRef:c.ref,children:function(t,n){return e.cloneElement(c,Q(Q({},n),{},{className:ee()(u,c.props.className,ut[t],"width"===v&&"collapse-horizontal")}))}}))}));lt.defaultProps=ct;var ft=lt,ht=e.createContext(null);ht.displayName="NavbarContext";var dt=ht,pt=["children","bsPrefix"],vt=e.forwardRef((function(t,n){var r=t.children,i=t.bsPrefix,o=J(t,pt);i=re(i,"navbar-collapse");var a=(0,e.useContext)(dt);return(0,te.jsx)(ft,Q(Q({in:!(!a||!a.expanded)},o),{},{children:(0,te.jsx)("div",{ref:n,className:i,children:r})}))}));vt.displayName="NavbarCollapse";var mt=vt;var gt=function(t){var n=(0,e.useRef)(t);return(0,e.useEffect)((function(){n.current=t}),[t]),n};function yt(t){var n=gt(t);return(0,e.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var bt=["bsPrefix","className","children","label","as","onClick"],wt=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.children,a=t.label,s=t.as,u=void 0===s?"button":s,c=t.onClick,l=J(t,bt);r=re(r,"navbar-toggler");var f=(0,e.useContext)(dt)||{},h=f.onToggle,d=f.expanded,p=yt((function(e){c&&c(e),h&&h()}));return"button"===u&&(l.type="button"),(0,te.jsx)(u,Q(Q({},l),{},{ref:n,onClick:p,"aria-label":a,className:ee()(i,r,!d&&"collapsed"),children:o||(0,te.jsx)("span",{className:"".concat(r,"-icon")})}))}));wt.displayName="NavbarToggle",wt.defaultProps={label:"Toggle navigation"};var _t=wt;function Et(e){void 0===e&&(e=Ee());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(Ax){return e.body}}function kt(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function It(t){var n=function(t){var n=(0,e.useRef)(t);return n.current=t,n}(t);(0,e.useEffect)((function(){return function(){return n.current()}}),[])}function St(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ct(e,t,n){return t&&xt(e.prototype,t),n&&xt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nt(e){return"".concat("data-rr-ui-").concat(e)}var Pt=Nt("modal-open"),Ot=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,o=t.isRTL,a=void 0!==o&&o;Tt(this,e),this.handleContainerOverflow=i,this.isRTL=a,this.modals=[],this.ownerDocument=n}return Ct(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=Y({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(Ce(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(Pt,""),Ce(r,t)}},{key:"reset",value:function(){var e=this;St(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(Pt),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),At=Ot,Rt=(0,e.createContext)(Ve?window:void 0);Rt.Provider;function Dt(){return(0,e.useContext)(Rt)}var jt=function(e,t){var n;return Ve?null==e?(t||Ee()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(n=e)&&n.nodeType&&e||null):null};var Lt,Mt=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Ft(t){var n=Dt(),r=t||function(e){return Lt||(Lt=new At({ownerDocument:null==e?void 0:e.document})),Lt}(n),i=(0,e.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,e.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,e.useCallback)((function(e){i.current.backdrop=e}),[])})}var Ut=(0,e.forwardRef)((function(n,r){var i=n.show,a=void 0!==i&&i,s=n.role,u=void 0===s?"dialog":s,c=n.className,l=n.style,f=n.children,h=n.backdrop,d=void 0===h||h,p=n.keyboard,v=void 0===p||p,m=n.onBackdropClick,g=n.onEscapeKeyDown,y=n.transition,b=n.backdropTransition,w=n.autoFocus,_=void 0===w||w,E=n.enforceFocus,k=void 0===E||E,I=n.restoreFocus,S=void 0===I||I,T=n.restoreFocusOptions,x=n.renderDialog,C=n.renderBackdrop,N=void 0===C?function(e){return(0,te.jsx)("div",Object.assign({},e))}:C,P=n.manager,O=n.container,A=n.onShow,R=n.onHide,D=void 0===R?function(){}:R,j=n.onExit,L=n.onExited,M=n.onExiting,F=n.onEnter,U=n.onEntering,V=n.onEntered,q=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,Mt),B=function(t,n){var r=Dt(),i=o((0,e.useState)((function(){return jt(t,null==r?void 0:r.document)})),2),a=i[0],s=i[1];if(!a){var u=jt(t);u&&s(u)}return(0,e.useEffect)((function(){n&&a&&n(a)}),[n,a]),(0,e.useEffect)((function(){var e=jt(t);e!==a&&s(e)}),[t,a]),a}(O),K=Ft(P),z=function(){var t=(0,e.useRef)(!0),n=(0,e.useRef)((function(){return t.current}));return(0,e.useEffect)((function(){return function(){t.current=!1}}),[]),n.current}(),W=function(t){var n=(0,e.useRef)(null);return(0,e.useEffect)((function(){n.current=t})),n.current}(a),H=o((0,e.useState)(!a),2),G=H[0],Y=H[1],X=(0,e.useRef)(null);(0,e.useImperativeHandle)(r,(function(){return K}),[K]),Ve&&!W&&a&&(X.current=Et()),y||a||G?a&&G&&Y(!1):Y(!0);var Q=yt((function(){if(K.add(),re.current=He(document,"keydown",ee),ne.current=He(document,"focus",(function(){return setTimeout(J)}),!0),A&&A(),_){var e=Et(document);K.dialog&&e&&!kt(K.dialog,e)&&(X.current=e,K.dialog.focus())}})),Z=yt((function(){var e;(K.remove(),null==re.current||re.current(),null==ne.current||ne.current(),S)&&(null==(e=X.current)||null==e.focus||e.focus(T),X.current=null)}));(0,e.useEffect)((function(){a&&B&&Q()}),[a,B,Q]),(0,e.useEffect)((function(){G&&Z()}),[G,Z]),It((function(){Z()}));var J=yt((function(){if(k&&z()&&K.isTopModal()){var e=Et();K.dialog&&e&&!kt(K.dialog,e)&&K.dialog.focus()}})),$=yt((function(e){e.target===e.currentTarget&&(null==m||m(e),!0===d&&D())})),ee=yt((function(e){v&&27===e.keyCode&&K.isTopModal()&&(null==g||g(e),e.defaultPrevented||D())})),ne=(0,e.useRef)(),re=(0,e.useRef)(),ie=y;if(!B||!(a||ie&&!G))return null;var oe=Object.assign({role:u,ref:K.setDialogRef,"aria-modal":"dialog"===u||void 0},q,{style:l,className:c,tabIndex:-1}),ae=x?x(oe):(0,te.jsx)("div",Object.assign({},oe,{children:e.cloneElement(f,{role:"document"})}));ie&&(ae=(0,te.jsx)(ie,{appear:!0,unmountOnExit:!0,in:!!a,onExit:j,onExiting:M,onExited:function(){Y(!0),null==L||L.apply(void 0,arguments)},onEnter:F,onEntering:U,onEntered:V,children:ae}));var se=null;if(d){var ue=b;se=N({ref:K.setBackdropRef,onClick:$}),ue&&(se=(0,te.jsx)(ue,{appear:!0,in:!!a,children:se}))}return(0,te.jsx)(te.Fragment,{children:t.createPortal((0,te.jsxs)(te.Fragment,{children:[se,ae]}),B)})}));Ut.displayName="Modal";var Vt,qt=Object.assign(Ut,{Manager:At}),Bt=["className","children","transitionClasses"],Kt=(Y(Vt={},De,"show"),Y(Vt,je,"show"),Vt),zt=e.forwardRef((function(t,n){var r=t.className,i=t.children,o=t.transitionClasses,a=void 0===o?{}:o,s=J(t,Bt),u=(0,e.useCallback)((function(e,t){Je(e),null==s.onEnter||s.onEnter(e,t)}),[s]);return(0,te.jsx)(it,Q(Q({ref:n,addEndListener:Qe},s),{},{onEnter:u,childRef:i.ref,children:function(t,n){return e.cloneElement(i,Q(Q({},n),{},{className:ee()("fade",r,i.props.className,Kt[t],a[t])}))}}))}));zt.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},zt.displayName="Fade";var Wt,Ht=zt,Gt=ye("offcanvas-body"),Yt=["bsPrefix","className","children"],Xt=(Y(Wt={},De,"show"),Y(Wt,je,"show"),Wt),Qt=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.children,a=J(t,Yt);return r=re(r,"offcanvas"),(0,te.jsx)(it,Q(Q({ref:n,addEndListener:Qe},a),{},{childRef:o.ref,children:function(t,n){return e.cloneElement(o,Q(Q({},n),{},{className:ee()(i,o.props.className,(t===De||t===Le)&&"".concat(r,"-toggling"),Xt[t])}))}}))}));Qt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Qt.displayName="OffcanvasToggling";var Zt=Qt,Jt=e.createContext({onHide:function(){}}),$t=n(7),en=n.n($t),tn=["className","variant"],nn={"aria-label":en().string,onClick:en().func,variant:en().oneOf(["white"])},rn=e.forwardRef((function(e,t){var n=e.className,r=e.variant,i=J(e,tn);return(0,te.jsx)("button",Q({ref:t,type:"button",className:ee()("btn-close",r&&"btn-close-".concat(r),n)},i))}));rn.displayName="CloseButton",rn.propTypes=nn,rn.defaultProps={"aria-label":"Close"};var on=rn,an=["closeLabel","closeVariant","closeButton","onHide","children"],sn=e.forwardRef((function(t,n){var r=t.closeLabel,i=t.closeVariant,o=t.closeButton,a=t.onHide,s=t.children,u=J(t,an),c=(0,e.useContext)(Jt),l=yt((function(){null==c||c.onHide(),null==a||a()}));return(0,te.jsxs)("div",Q(Q({ref:n},u),{},{children:[s,o&&(0,te.jsx)(on,{"aria-label":r,variant:i,onClick:l})]}))}));sn.defaultProps={closeLabel:"Close",closeButton:!1};var un=sn,cn=["bsPrefix","className"],ln=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=J(e,cn);return n=re(n,"offcanvas-header"),(0,te.jsx)(un,Q(Q({ref:t},i),{},{className:ee()(r,n)}))}));ln.displayName="OffcanvasHeader",ln.defaultProps={closeLabel:"Close",closeButton:!1};var fn=ln,hn=function(t){return e.forwardRef((function(e,n){return(0,te.jsx)("div",Q(Q({},e),{},{ref:n,className:ee()(e.className,t)}))}))},dn=ye("offcanvas-title",{Component:hn("h5")});function pn(e){return pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pn(e)}function vn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pn(e)););return e}function mn(){return mn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=vn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},mn.apply(this,arguments)}function gn(e){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gn(e)}function yn(e,t){if(t&&("object"===gn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function bn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Ax){return!1}}();return function(){var n,r=pn(e);if(t){var i=pn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yn(this,n)}}var wn=Function.prototype.bind.call(Function.prototype.call,[].slice);function _n(e,t){return wn(e.querySelectorAll(t))}function En(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var kn,In=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Sn=".sticky-top",Tn=".navbar-toggler",xn=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ne(e,t)}(n,e);var t=bn(n);function n(){return Tt(this,n),t.apply(this,arguments)}return Ct(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,Ce(t,Y({},e,"".concat(parseFloat(Ce(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Ce(t,Y({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;mn(pn(n.prototype),"setContainerStyle",this).call(this,e);var r,i,o=this.getElement();if(i="modal-open",(r=o).classList?r.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,i)||("string"===typeof r.className?r.className=r.className+" "+i:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+i)),e.scrollBarWidth){var a=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";_n(o,In).forEach((function(n){return t.adjustAndStore(a,n,e.scrollBarWidth)})),_n(o,Sn).forEach((function(n){return t.adjustAndStore(s,n,-e.scrollBarWidth)})),_n(o,Tn).forEach((function(n){return t.adjustAndStore(s,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;mn(pn(n.prototype),"removeContainerStyle",this).call(this,e);var r,i,o=this.getElement();i="modal-open",(r=o).classList?r.classList.remove(i):"string"===typeof r.className?r.className=En(r.className,i):r.setAttribute("class",En(r.className&&r.className.baseVal||"",i));var a=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";_n(o,In).forEach((function(e){return t.restore(a,e)})),_n(o,Sn).forEach((function(e){return t.restore(s,e)})),_n(o,Tn).forEach((function(e){return t.restore(s,e)}))}}]),n}(At);var Cn=xn,Nn=["bsPrefix","className","children","aria-labelledby","placement","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function Pn(e){return(0,te.jsx)(Zt,Q({},e))}function On(e){return(0,te.jsx)(Ht,Q({},e))}var An=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.children,a=t["aria-labelledby"],s=t.placement,u=t.show,c=t.backdrop,l=t.keyboard,f=t.scroll,h=t.onEscapeKeyDown,d=t.onShow,p=t.onHide,v=t.container,m=t.autoFocus,g=t.enforceFocus,y=t.restoreFocus,b=t.restoreFocusOptions,w=t.onEntered,_=t.onExit,E=t.onExiting,k=t.onEnter,I=t.onEntering,S=t.onExited,T=t.backdropClassName,x=t.manager,C=J(t,Nn),N=(0,e.useRef)();r=re(r,"offcanvas");var P=((0,e.useContext)(dt)||{}).onToggle,O=yt((function(){null==P||P(),null==p||p()})),A=(0,e.useMemo)((function(){return{onHide:O}}),[O]);var R=(0,e.useCallback)((function(e){return(0,te.jsx)("div",Q(Q({},e),{},{className:ee()("".concat(r,"-backdrop"),T)}))}),[T,r]);return(0,te.jsx)(Jt.Provider,{value:A,children:(0,te.jsx)(qt,{show:u,ref:n,backdrop:c,container:v,keyboard:l,autoFocus:m,enforceFocus:g&&!f,restoreFocus:y,restoreFocusOptions:b,onEscapeKeyDown:h,onShow:d,onHide:O,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==k||k.apply(void 0,[e].concat(n))},onEntering:I,onEntered:w,onExit:_,onExiting:E,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==S||S.apply(void 0,n)},manager:x||(f?(N.current||(N.current=new Cn({handleContainerOverflow:!1})),N.current):function(e){return kn||(kn=new xn(e)),kn}()),transition:Pn,backdropTransition:On,renderBackdrop:R,renderDialog:function(e){return(0,te.jsx)("div",Q(Q(Q({role:"dialog"},e),C),{},{className:ee()(i,r,"".concat(r,"-").concat(s)),"aria-labelledby":a,children:o}))}})})}));An.displayName="Offcanvas",An.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};var Rn=Object.assign(An,{Body:Gt,Header:fn,Title:dn}),Dn=e.forwardRef((function(t,n){var r=(0,e.useContext)(dt);return(0,te.jsx)(Rn,Q({ref:n,show:!(null==r||!r.expanded)},t))}));Dn.displayName="NavbarOffcanvas";var jn=Dn,Ln=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],Mn=ye("navbar-text",{Component:"span"}),Fn=e.forwardRef((function(t,n){var r=fe(t,{expanded:"onToggle"}),i=r.bsPrefix,o=r.expand,a=r.variant,s=r.bg,u=r.fixed,c=r.sticky,l=r.className,f=r.as,h=void 0===f?"nav":f,d=r.expanded,p=r.onToggle,v=r.onSelect,m=r.collapseOnSelect,g=J(r,Ln),y=re(i,"navbar"),b=(0,e.useCallback)((function(){null==v||v.apply(void 0,arguments),m&&d&&(null==p||p(!1))}),[v,m,d,p]);void 0===g.role&&"nav"!==h&&(g.role="navigation");var w="".concat(y,"-expand");"string"===typeof o&&(w="".concat(w,"-").concat(o));var _=(0,e.useMemo)((function(){return{onToggle:function(){return null==p?void 0:p(!d)},bsPrefix:y,expanded:!!d}}),[y,d,p]);return(0,te.jsx)(dt.Provider,{value:_,children:(0,te.jsx)(ue.Provider,{value:b,children:(0,te.jsx)(h,Q(Q({ref:n},g),{},{className:ee()(l,y,o&&w,a&&"".concat(y,"-").concat(a),s&&"bg-".concat(s),c&&"sticky-".concat(c),u&&"fixed-".concat(u))}))})})}));Fn.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},Fn.displayName="Navbar";var Un=Object.assign(Fn,{Brand:_e,Collapse:mt,Offcanvas:jn,Text:Mn,Toggle:_t});n(573);var Vn=e.createContext(null);Vn.displayName="NavContext";var qn=Vn,Bn=e.createContext(null),Kn=["as","disabled"];function zn(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,o=e.rel,a=e.onClick,s=e.tabIndex,u=void 0===s?0:s,c=e.type;t||(t=null!=r||null!=i||null!=o?"a":"button");var l={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},l];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==a||a(e)};return[{role:"button",disabled:void 0,tabIndex:n?void 0:u,href:"a"===t&&n?void 0:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?o:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},l]}var Wn=e.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Kn),a=o(zn(Object.assign({tagName:n,disabled:r},i)),2),s=a[0],u=a[1].tagName;return(0,te.jsx)(u,Object.assign({},i,s,{ref:t}))}));Wn.displayName="Button";var Hn=Wn,Gn=["as","active","eventKey"];function Yn(t){var n=t.key,r=t.onClick,i=t.active,o=t.id,a=t.role,s=t.disabled,u=(0,e.useContext)(ue),c=(0,e.useContext)(qn),l=i,f={role:a};if(c){a||"tablist"!==c.role||(f.role="tab");var h=c.getControllerId(null!=n?n:null),d=c.getControlledId(null!=n?n:null);f[Nt("event-key")]=n,f.id=h||o,f["aria-controls"]=d,l=null==i&&null!=n?c.activeKey===n:i}return"tab"===f.role&&(s&&(f.tabIndex=-1,f["aria-disabled"]=!0),l?f["aria-selected"]=l:f.tabIndex=-1),f.onClick=yt((function(e){s||(null==r||r(e),null!=n&&u&&!e.isPropagationStopped()&&u(n,e))})),[f,{isActive:l}]}var Xn=e.forwardRef((function(e,t){var n=e.as,r=void 0===n?Hn:n,i=e.active,a=e.eventKey,s=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Gn),u=o(Yn(Object.assign({key:se(a,s.href),active:i},s)),2),c=u[0],l=u[1];return c[Nt("active")]=l.isActive,(0,te.jsx)(r,Object.assign({},s,c,{ref:t}))}));Xn.displayName="NavItem";var Qn=Xn,Zn=["as","onSelect","activeKey","role","onKeyDown"];var Jn=function(){},$n=Nt("event-key"),er=e.forwardRef((function(t,n){var r,i,o=t.as,a=void 0===o?"div":o,s=t.onSelect,u=t.activeKey,c=t.role,l=t.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,Zn),h=(0,e.useReducer)((function(e){return!e}),!1)[1],d=(0,e.useRef)(!1),p=(0,e.useContext)(ue),v=(0,e.useContext)(Bn);v&&(c=c||"tablist",u=v.activeKey,r=v.getControlledId,i=v.getControllerId);var m=(0,e.useRef)(null),g=function(e){var t=m.current;if(!t)return null;var n=_n(t,"[".concat($n,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r)return null;var i=n.indexOf(r);if(-1===i)return null;var o=i+e;return o>=n.length&&(o=0),o<0&&(o=n.length-1),n[o]},y=function(e,t){null!=e&&(null==s||s(e,t),null==p||p(e,t))};(0,e.useEffect)((function(){if(m.current&&d.current){var e=m.current.querySelector("[".concat($n,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));var b=et(n,m);return(0,te.jsx)(ue.Provider,{value:y,children:(0,te.jsx)(qn.Provider,{value:{role:c,activeKey:se(u),getControlledId:r||Jn,getControllerId:i||Jn},children:(0,te.jsx)(a,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=g(-1);break;case"ArrowRight":case"ArrowDown":t=g(1);break;default:return}if(t)e.preventDefault(),y(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),d.current=!0,h()}},ref:b,role:c}))})})}));er.displayName="Nav";var tr=Object.assign(er,{Item:Qn}),nr=e.createContext(null);nr.displayName="CardHeaderContext";var rr=nr,ir=ye("nav-item");var or="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product;"undefined"!==typeof document||or?e.useLayoutEffect:e.useEffect,new WeakMap;var ar=["onKeyDown"];var sr=e.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ar),a=o(zn(Object.assign({tagName:"a"},i)),1)[0],s=yt((function(e){a.onKeyDown(e),null==r||r(e)}));return((n=i.href)&&"#"!==n.trim()||i.role)&&"button"!==i.role?(0,te.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,te.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:s}))}));sr.displayName="Anchor";var ur=sr,cr=["bsPrefix","className","as","active","eventKey"],lr=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?ur:i,s=e.active,u=e.eventKey,c=J(e,cr);n=re(n,"nav-link");var l=o(Yn(Q({key:se(u,c.href),active:s},c)),2),f=l[0],h=l[1];return(0,te.jsx)(a,Q(Q(Q({},c),f),{},{ref:t,className:ee()(r,n,c.disabled&&"disabled",h.isActive&&"active")}))}));lr.displayName="NavLink",lr.defaultProps={disabled:!1};var fr=lr,hr=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],dr=e.forwardRef((function(t,n){var r,i,o,a=fe(t,{activeKey:"onSelect"}),s=a.as,u=void 0===s?"div":s,c=a.bsPrefix,l=a.variant,f=a.fill,h=a.justify,d=a.navbar,p=a.navbarScroll,v=a.className,m=a.activeKey,g=J(a,hr),y=re(c,"nav"),b=!1,w=(0,e.useContext)(dt),_=(0,e.useContext)(rr);return w?(i=w.bsPrefix,b=null==d||d):_&&(o=_.cardHeaderBsPrefix),(0,te.jsx)(tr,Q({as:u,ref:n,activeKey:m,className:ee()(v,(r={},Y(r,y,!b),Y(r,"".concat(i,"-nav"),b),Y(r,"".concat(i,"-nav-scroll"),b&&p),Y(r,"".concat(o,"-").concat(l),!!o),Y(r,"".concat(y,"-").concat(l),!!l),Y(r,"".concat(y,"-fill"),f),Y(r,"".concat(y,"-justified"),h),r))},g))}));dr.displayName="Nav",dr.defaultProps={justify:!1,fill:!1};var pr=Object.assign(dr,{Item:ir,Link:fr}),vr=["as","bsPrefix","variant","size","active","className"],mr=e.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,s=e.active,u=e.className,c=J(e,vr),l=re(r,"btn"),f=o(zn(Q({tagName:n},c)),2),h=f[0],d=f[1].tagName;return(0,te.jsx)(d,Q(Q(Q({},c),h),{},{ref:t,className:ee()(u,l,s&&"active",i&&"".concat(l,"-").concat(i),a&&"".concat(l,"-").concat(a),c.href&&c.disabled&&"disabled")}))}));mr.displayName="Button",mr.defaultProps={variant:"primary",active:!1,disabled:!1};var gr=mr,yr=function(e,t){return yr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},yr(e,t)};var br=function(){return br=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},br.apply(this,arguments)};function wr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function _r(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Ax){o(Ax)}}function s(e){try{u(r.throw(e))}catch(Ax){o(Ax)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Er(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Ax){o=[6,Ax],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var kr=function(e,t){return(kr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Ir(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}kr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Sr=function(){return(Sr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Tr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function xr(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Cr(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Nr(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Pr(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var Or="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};function Ar(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Rr(e,t){return e(t={exports:{}},t.exports),t.exports}var Dr,jr,Lr=function(e){return e&&e.Math==Math&&e},Mr=Lr("object"==typeof globalThis&&globalThis)||Lr("object"==typeof window&&window)||Lr("object"==typeof self&&self)||Lr("object"==typeof Or&&Or)||function(){return this}()||Function("return this")(),Fr=function(e){try{return!!e()}catch(e){return!0}},Ur=!Fr((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Vr=Function.prototype.call,qr=Vr.bind?Vr.bind(Vr):function(){return Vr.apply(Vr,arguments)},Br={}.propertyIsEnumerable,Kr=Object.getOwnPropertyDescriptor,zr={f:Kr&&!Br.call({1:2},1)?function(e){var t=Kr(this,e);return!!t&&t.enumerable}:Br},Wr=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Hr=Function.prototype,Gr=Hr.bind,Yr=Hr.call,Xr=Gr&&Gr.bind(Yr),Qr=Gr?function(e){return e&&Xr(Yr,e)}:function(e){return e&&function(){return Yr.apply(e,arguments)}},Zr=Qr({}.toString),Jr=Qr("".slice),$r=function(e){return Jr(Zr(e),8,-1)},ei=Mr.Object,ti=Qr("".split),ni=Fr((function(){return!ei("z").propertyIsEnumerable(0)}))?function(e){return"String"==$r(e)?ti(e,""):ei(e)}:ei,ri=Mr.TypeError,ii=function(e){if(null==e)throw ri("Can't call method on "+e);return e},oi=function(e){return ni(ii(e))},ai=function(e){return"function"==typeof e},si=function(e){return"object"==typeof e?null!==e:ai(e)},ui=function(e){return ai(e)?e:void 0},ci=function(e,t){return arguments.length<2?ui(Mr[e]):Mr[e]&&Mr[e][t]},li=Qr({}.isPrototypeOf),fi=ci("navigator","userAgent")||"",hi=Mr.process,di=Mr.Deno,pi=hi&&hi.versions||di&&di.version,vi=pi&&pi.v8;vi&&(jr=(Dr=vi.split("."))[0]>0&&Dr[0]<4?1:+(Dr[0]+Dr[1])),!jr&&fi&&(!(Dr=fi.match(/Edge\/(\d+)/))||Dr[1]>=74)&&(Dr=fi.match(/Chrome\/(\d+)/))&&(jr=+Dr[1]);var mi=jr,gi=!!Object.getOwnPropertySymbols&&!Fr((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&mi&&mi<41})),yi=gi&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,bi=Mr.Object,wi=yi?function(e){return"symbol"==typeof e}:function(e){var t=ci("Symbol");return ai(t)&&li(t.prototype,bi(e))},_i=Mr.String,Ei=function(e){try{return _i(e)}catch(e){return"Object"}},ki=Mr.TypeError,Ii=function(e){if(ai(e))return e;throw ki(Ei(e)+" is not a function")},Si=function(e,t){var n=e[t];return null==n?void 0:Ii(n)},Ti=Mr.TypeError,xi=Object.defineProperty,Ci=function(e,t){try{xi(Mr,e,{value:t,configurable:!0,writable:!0})}catch(n){Mr[e]=t}return t},Ni=Mr["__core-js_shared__"]||Ci("__core-js_shared__",{}),Pi=Rr((function(e){(e.exports=function(e,t){return Ni[e]||(Ni[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.19.1",mode:"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})})),Oi=Mr.Object,Ai=function(e){return Oi(ii(e))},Ri=Qr({}.hasOwnProperty),Di=Object.hasOwn||function(e,t){return Ri(Ai(e),t)},ji=0,Li=Math.random(),Mi=Qr(1..toString),Fi=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Mi(++ji+Li,36)},Ui=Pi("wks"),Vi=Mr.Symbol,qi=Vi&&Vi.for,Bi=yi?Vi:Vi&&Vi.withoutSetter||Fi,Ki=function(e){if(!Di(Ui,e)||!gi&&"string"!=typeof Ui[e]){var t="Symbol."+e;gi&&Di(Vi,e)?Ui[e]=Vi[e]:Ui[e]=yi&&qi?qi(t):Bi(t)}return Ui[e]},zi=Mr.TypeError,Wi=Ki("toPrimitive"),Hi=function(e){var t=function(e,t){if(!si(e)||wi(e))return e;var n,r=Si(e,Wi);if(r){if(void 0===t&&(t="default"),n=qr(r,e,t),!si(n)||wi(n))return n;throw zi("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&ai(n=e.toString)&&!si(r=qr(n,e)))return r;if(ai(n=e.valueOf)&&!si(r=qr(n,e)))return r;if("string"!==t&&ai(n=e.toString)&&!si(r=qr(n,e)))return r;throw Ti("Can't convert object to primitive value")}(e,t)}(e,"string");return wi(t)?t:t+""},Gi=Mr.document,Yi=si(Gi)&&si(Gi.createElement),Xi=function(e){return Yi?Gi.createElement(e):{}},Qi=!Ur&&!Fr((function(){return 7!=Object.defineProperty(Xi("div"),"a",{get:function(){return 7}}).a})),Zi=Object.getOwnPropertyDescriptor,Ji={f:Ur?Zi:function(e,t){if(e=oi(e),t=Hi(t),Qi)try{return Zi(e,t)}catch(e){}if(Di(e,t))return Wr(!qr(zr.f,e,t),e[t])}},$i=Mr.String,eo=Mr.TypeError,to=function(e){if(si(e))return e;throw eo($i(e)+" is not an object")},no=Mr.TypeError,ro=Object.defineProperty,io={f:Ur?ro:function(e,t,n){if(to(e),t=Hi(t),to(n),Qi)try{return ro(e,t,n)}catch(e){}if("get"in n||"set"in n)throw no("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},oo=Ur?function(e,t,n){return io.f(e,t,Wr(1,n))}:function(e,t,n){return e[t]=n,e},ao=Qr(Function.toString);ai(Ni.inspectSource)||(Ni.inspectSource=function(e){return ao(e)});var so,uo,co,lo=Ni.inspectSource,fo=Mr.WeakMap,ho=ai(fo)&&/native code/.test(lo(fo)),po=Pi("keys"),vo=function(e){return po[e]||(po[e]=Fi(e))},mo={},go=Mr.TypeError,yo=Mr.WeakMap;if(ho||Ni.state){var bo=Ni.state||(Ni.state=new yo),wo=Qr(bo.get),_o=Qr(bo.has),Eo=Qr(bo.set);so=function(e,t){if(_o(bo,e))throw new go("Object already initialized");return t.facade=e,Eo(bo,e,t),t},uo=function(e){return wo(bo,e)||{}},co=function(e){return _o(bo,e)}}else{var ko=vo("state");mo[ko]=!0,so=function(e,t){if(Di(e,ko))throw new go("Object already initialized");return t.facade=e,oo(e,ko,t),t},uo=function(e){return Di(e,ko)?e[ko]:{}},co=function(e){return Di(e,ko)}}var Io={set:so,get:uo,has:co,enforce:function(e){return co(e)?uo(e):so(e,{})},getterFor:function(e){return function(t){var n;if(!si(t)||(n=uo(t)).type!==e)throw go("Incompatible receiver, "+e+" required");return n}}},So=Function.prototype,To=Ur&&Object.getOwnPropertyDescriptor,xo=Di(So,"name"),Co={EXISTS:xo,PROPER:xo&&"something"===function(){}.name,CONFIGURABLE:xo&&(!Ur||Ur&&To(So,"name").configurable)},No=Rr((function(e){var t=Co.CONFIGURABLE,n=Io.get,r=Io.enforce,i=String(String).split("String");(e.exports=function(e,n,o,a){var s,u=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,l=!!a&&!!a.noTargetGet,f=a&&void 0!==a.name?a.name:n;ai(o)&&("Symbol("===String(f).slice(0,7)&&(f="["+String(f).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!Di(o,"name")||t&&o.name!==f)&&oo(o,"name",f),(s=r(o)).source||(s.source=i.join("string"==typeof f?f:""))),e!==Mr?(u?!l&&e[n]&&(c=!0):delete e[n],c?e[n]=o:oo(e,n,o)):c?e[n]=o:Ci(n,o)})(Function.prototype,"toString",(function(){return ai(this)&&n(this).source||lo(this)}))})),Po=Math.ceil,Oo=Math.floor,Ao=function(e){var t=+e;return t!=t||0===t?0:(t>0?Oo:Po)(t)},Ro=Math.max,Do=Math.min,jo=Math.min,Lo=function(e){return e>0?jo(Ao(e),9007199254740991):0},Mo=function(e){return Lo(e.length)},Fo=function(e){return function(t,n,r){var i,o=oi(t),a=Mo(o),s=function(e,t){var n=Ao(e);return n<0?Ro(n+t,0):Do(n,t)}(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},Uo={includes:Fo(!0),indexOf:Fo(!1)},Vo=Uo.indexOf,qo=Qr([].push),Bo=function(e,t){var n,r=oi(e),i=0,o=[];for(n in r)!Di(mo,n)&&Di(r,n)&&qo(o,n);for(;t.length>i;)Di(r,n=t[i++])&&(~Vo(o,n)||qo(o,n));return o},Ko=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],zo=Ko.concat("length","prototype"),Wo={f:Object.getOwnPropertyNames||function(e){return Bo(e,zo)}},Ho={f:Object.getOwnPropertySymbols},Go=Qr([].concat),Yo=ci("Reflect","ownKeys")||function(e){var t=Wo.f(to(e)),n=Ho.f;return n?Go(t,n(e)):t},Xo=function(e,t){for(var n=Yo(t),r=io.f,i=Ji.f,o=0;o<n.length;o++){var a=n[o];Di(e,a)||r(e,a,i(t,a))}},Qo=/#|\.prototype\./,Zo=function(e,t){var n=$o[Jo(e)];return n==ta||n!=ea&&(ai(t)?Fr(t):!!t)},Jo=Zo.normalize=function(e){return String(e).replace(Qo,".").toLowerCase()},$o=Zo.data={},ea=Zo.NATIVE="N",ta=Zo.POLYFILL="P",na=Zo,ra=Ji.f,ia=function(e,t){var n,r,i,o,a,s=e.target,u=e.global,c=e.stat;if(n=u?Mr:c?Mr[s]||Ci(s,{}):(Mr[s]||{}).prototype)for(r in t){if(o=t[r],i=e.noTargetGet?(a=ra(n,r))&&a.value:n[r],!na(u?r:s+(c?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;Xo(o,i)}(e.sham||i&&i.sham)&&oo(o,"sham",!0),No(n,r,o,e)}},oa={};oa[Ki("toStringTag")]="z";var aa,sa="[object z]"===String(oa),ua=Ki("toStringTag"),ca=Mr.Object,la="Arguments"==$r(function(){return arguments}()),fa=sa?$r:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=ca(e),ua))?n:la?$r(t):"Object"==(r=$r(t))&&ai(t.callee)?"Arguments":r},ha=Mr.String,da=function(e){if("Symbol"===fa(e))throw TypeError("Cannot convert a Symbol value to a string");return ha(e)},pa=Ki("match"),va=Mr.TypeError,ma=function(e){if(function(e){var t;return si(e)&&(void 0!==(t=e[pa])?!!t:"RegExp"==$r(e))}(e))throw va("The method doesn't accept regular expressions");return e},ga=Ki("match"),ya=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[ga]=!1,"/./"[e](t)}catch(e){}}return!1},ba=Ji.f,wa=Qr("".startsWith),_a=Qr("".slice),Ea=Math.min,ka=ya("startsWith"),Ia=!(ka||(aa=ba(String.prototype,"startsWith"),!aa||aa.writable));ia({target:"String",proto:!0,forced:!Ia&&!ka},{startsWith:function(e){var t=da(ii(this));ma(e);var n=Lo(Ea(arguments.length>1?arguments[1]:void 0,t.length)),r=da(e);return wa?wa(t,r,n):_a(t,n,n+r.length)===r}});var Sa=function(e,t){return Qr(Mr[e].prototype[t])};Sa("String","startsWith");var Ta=Array.isArray||function(e){return"Array"==$r(e)},xa=function(e,t,n){var r=Hi(t);r in e?io.f(e,r,Wr(0,n)):e[r]=n},Ca=function(){},Na=[],Pa=ci("Reflect","construct"),Oa=/^\s*(?:class|function)\b/,Aa=Qr(Oa.exec),Ra=!Oa.exec(Ca),Da=function(e){if(!ai(e))return!1;try{return Pa(Ca,Na,e),!0}catch(e){return!1}},ja=!Pa||Fr((function(){var e;return Da(Da.call)||!Da(Object)||!Da((function(){e=!0}))||e}))?function(e){if(!ai(e))return!1;switch(fa(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return Ra||!!Aa(Oa,lo(e))}:Da,La=Ki("species"),Ma=Mr.Array,Fa=function(e,t){return new(function(e){var t;return Ta(e)&&(t=e.constructor,(ja(t)&&(t===Ma||Ta(t.prototype))||si(t)&&null===(t=t[La]))&&(t=void 0)),void 0===t?Ma:t}(e))(0===t?0:t)},Ua=Ki("species"),Va=Ki("isConcatSpreadable"),qa=Mr.TypeError,Ba=mi>=51||!Fr((function(){var e=[];return e[Va]=!1,e.concat()[0]!==e})),Ka=("concat",mi>=51||!Fr((function(){var e=[];return(e.constructor={})[Ua]=function(){return{foo:1}},1!==e.concat(Boolean).foo}))),za=function(e){if(!si(e))return!1;var t=e[Va];return void 0!==t?!!t:Ta(e)};ia({target:"Array",proto:!0,forced:!Ba||!Ka},{concat:function(e){var t,n,r,i,o,a=Ai(this),s=Fa(a,0),u=0;for(t=-1,r=arguments.length;t<r;t++)if(za(o=-1===t?a:arguments[t])){if(u+(i=Mo(o))>9007199254740991)throw qa("Maximum allowed index exceeded");for(n=0;n<i;n++,u++)n in o&&xa(s,u,o[n])}else{if(u>=9007199254740991)throw qa("Maximum allowed index exceeded");xa(s,u++,o)}return s.length=u,s}});var Wa=sa?{}.toString:function(){return"[object "+fa(this)+"]"};sa||No(Object.prototype,"toString",Wa,{unsafe:!0});var Ha,Ga=Function.prototype,Ya=Ga.apply,Xa=Ga.bind,Qa=Ga.call,Za="object"==typeof Reflect&&Reflect.apply||(Xa?Qa.bind(Ya):function(){return Qa.apply(Ya,arguments)}),Ja=Object.keys||function(e){return Bo(e,Ko)},$a=Ur?Object.defineProperties:function(e,t){to(e);for(var n,r=oi(t),i=Ja(t),o=i.length,a=0;o>a;)io.f(e,n=i[a++],r[n]);return e},es=ci("document","documentElement"),ts=vo("IE_PROTO"),ns=function(){},rs=function(e){return"<script>"+e+"<\/script>"},is=function(e){e.write(rs("")),e.close();var t=e.parentWindow.Object;return e=null,t},os=function(){try{Ha=new ActiveXObject("htmlfile")}catch(e){}var e,t;os="undefined"!=typeof document?document.domain&&Ha?is(Ha):((t=Xi("iframe")).style.display="none",es.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(rs("document.F=Object")),e.close(),e.F):is(Ha);for(var n=Ko.length;n--;)delete os.prototype[Ko[n]];return os()};mo[ts]=!0;var as=Object.create||function(e,t){var n;return null!==e?(ns.prototype=to(e),n=new ns,ns.prototype=null,n[ts]=e):n=os(),void 0===t?n:$a(n,t)},ss=Qr([].slice),us=Wo.f,cs="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ls={f:function(e){return cs&&"Window"==$r(e)?function(e){try{return us(e)}catch(e){return ss(cs)}}(e):us(oi(e))}},fs={f:Ki},hs=Mr,ds=io.f,ps=function(e){var t=hs.Symbol||(hs.Symbol={});Di(t,e)||ds(t,e,{value:fs.f(e)})},vs=io.f,ms=Ki("toStringTag"),gs=function(e,t,n){e&&!Di(e=n?e:e.prototype,ms)&&vs(e,ms,{configurable:!0,value:t})},ys=Qr(Qr.bind),bs=function(e,t){return Ii(e),void 0===t?e:ys?ys(e,t):function(){return e.apply(t,arguments)}},ws=Qr([].push),_s=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(u,c,l,f){for(var h,d,p=Ai(u),v=ni(p),m=bs(c,l),g=Mo(v),y=0,b=f||Fa,w=t?b(u,g):n||a?b(u,0):void 0;g>y;y++)if((s||y in v)&&(d=m(h=v[y],y,p),e))if(t)w[y]=d;else if(d)switch(e){case 3:return!0;case 5:return h;case 6:return y;case 2:ws(w,h)}else switch(e){case 4:return!1;case 7:ws(w,h)}return o?-1:r||i?i:w}},Es=[_s(0),_s(1),_s(2),_s(3),_s(4),_s(5),_s(6),_s(7)][0],ks=vo("hidden"),Is=Ki("toPrimitive"),Ss=Io.set,Ts=Io.getterFor("Symbol"),xs=Object.prototype,Cs=Mr.Symbol,Ns=Cs&&Cs.prototype,Ps=Mr.TypeError,Os=Mr.QObject,As=ci("JSON","stringify"),Rs=Ji.f,Ds=io.f,js=ls.f,Ls=zr.f,Ms=Qr([].push),Fs=Pi("symbols"),Us=Pi("op-symbols"),Vs=Pi("string-to-symbol-registry"),qs=Pi("symbol-to-string-registry"),Bs=Pi("wks"),Ks=!Os||!Os.prototype||!Os.prototype.findChild,zs=Ur&&Fr((function(){return 7!=as(Ds({},"a",{get:function(){return Ds(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Rs(xs,t);r&&delete xs[t],Ds(e,t,n),r&&e!==xs&&Ds(xs,t,r)}:Ds,Ws=function(e,t){var n=Fs[e]=as(Ns);return Ss(n,{type:"Symbol",tag:e,description:t}),Ur||(n.description=t),n},Hs=function e(t,n,r){t===xs&&e(Us,n,r),to(t);var i=Hi(n);return to(r),Di(Fs,i)?(r.enumerable?(Di(t,ks)&&t[ks][i]&&(t[ks][i]=!1),r=as(r,{enumerable:Wr(0,!1)})):(Di(t,ks)||Ds(t,ks,Wr(1,{})),t[ks][i]=!0),zs(t,i,r)):Ds(t,i,r)},Gs=function(e,t){to(e);var n=oi(t),r=Ja(n).concat(Zs(n));return Es(r,(function(t){Ur&&!qr(Ys,n,t)||Hs(e,t,n[t])})),e},Ys=function(e){var t=Hi(e),n=qr(Ls,this,t);return!(this===xs&&Di(Fs,t)&&!Di(Us,t))&&(!(n||!Di(this,t)||!Di(Fs,t)||Di(this,ks)&&this[ks][t])||n)},Xs=function(e,t){var n=oi(e),r=Hi(t);if(n!==xs||!Di(Fs,r)||Di(Us,r)){var i=Rs(n,r);return!i||!Di(Fs,r)||Di(n,ks)&&n[ks][r]||(i.enumerable=!0),i}},Qs=function(e){var t=js(oi(e)),n=[];return Es(t,(function(e){Di(Fs,e)||Di(mo,e)||Ms(n,e)})),n},Zs=function(e){var t=e===xs,n=js(t?Us:oi(e)),r=[];return Es(n,(function(e){!Di(Fs,e)||t&&!Di(xs,e)||Ms(r,Fs[e])})),r};if(gi||(Ns=(Cs=function(){if(li(Ns,this))throw Ps("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?da(arguments[0]):void 0,t=Fi(e),n=function e(n){this===xs&&qr(e,Us,n),Di(this,ks)&&Di(this[ks],t)&&(this[ks][t]=!1),zs(this,t,Wr(1,n))};return Ur&&Ks&&zs(xs,t,{configurable:!0,set:n}),Ws(t,e)}).prototype,No(Ns,"toString",(function(){return Ts(this).tag})),No(Cs,"withoutSetter",(function(e){return Ws(Fi(e),e)})),zr.f=Ys,io.f=Hs,Ji.f=Xs,Wo.f=ls.f=Qs,Ho.f=Zs,fs.f=function(e){return Ws(Ki(e),e)},Ur&&(Ds(Ns,"description",{configurable:!0,get:function(){return Ts(this).description}}),No(xs,"propertyIsEnumerable",Ys,{unsafe:!0}))),ia({global:!0,wrap:!0,forced:!gi,sham:!gi},{Symbol:Cs}),Es(Ja(Bs),(function(e){ps(e)})),ia({target:"Symbol",stat:!0,forced:!gi},{for:function(e){var t=da(e);if(Di(Vs,t))return Vs[t];var n=Cs(t);return Vs[t]=n,qs[n]=t,n},keyFor:function(e){if(!wi(e))throw Ps(e+" is not a symbol");if(Di(qs,e))return qs[e]},useSetter:function(){Ks=!0},useSimple:function(){Ks=!1}}),ia({target:"Object",stat:!0,forced:!gi,sham:!Ur},{create:function(e,t){return void 0===t?as(e):Gs(as(e),t)},defineProperty:Hs,defineProperties:Gs,getOwnPropertyDescriptor:Xs}),ia({target:"Object",stat:!0,forced:!gi},{getOwnPropertyNames:Qs,getOwnPropertySymbols:Zs}),ia({target:"Object",stat:!0,forced:Fr((function(){Ho.f(1)}))},{getOwnPropertySymbols:function(e){return Ho.f(Ai(e))}}),As){var Js=!gi||Fr((function(){var e=Cs();return"[null]"!=As([e])||"{}"!=As({a:e})||"{}"!=As(Object(e))}));ia({target:"JSON",stat:!0,forced:Js},{stringify:function(e,t,n){var r=ss(arguments),i=t;if((si(t)||void 0!==e)&&!wi(e))return Ta(t)||(t=function(e,t){if(ai(i)&&(t=qr(i,this,e,t)),!wi(t))return t}),r[1]=t,Za(As,null,r)}})}if(!Ns[Is]){var $s=Ns.valueOf;No(Ns,Is,(function(e){return qr($s,this)}))}gs(Cs,"Symbol"),mo[ks]=!0,ps("asyncIterator");var eu=io.f,tu=Mr.Symbol,nu=tu&&tu.prototype;if(Ur&&ai(tu)&&(!("description"in nu)||void 0!==tu().description)){var ru={},iu=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:da(arguments[0]),t=li(nu,this)?new tu(e):void 0===e?tu():tu(e);return""===e&&(ru[t]=!0),t};Xo(iu,tu),iu.prototype=nu,nu.constructor=iu;var ou="Symbol(test)"==String(tu("test")),au=Qr(nu.toString),su=Qr(nu.valueOf),uu=/^Symbol\((.*)\)[^)]+$/,cu=Qr("".replace),lu=Qr("".slice);eu(nu,"description",{configurable:!0,get:function(){var e=su(this),t=au(e);if(Di(ru,e))return"";var n=ou?lu(t,7,-1):cu(t,uu,"$1");return""===n?void 0:n}}),ia({global:!0,forced:!0},{Symbol:iu})}ps("hasInstance"),ps("isConcatSpreadable"),ps("iterator"),ps("match"),ps("matchAll"),ps("replace"),ps("search"),ps("species"),ps("split"),ps("toPrimitive"),ps("toStringTag"),ps("unscopables"),gs(Mr.JSON,"JSON",!0),gs(Math,"Math",!0),ia({global:!0},{Reflect:{}}),gs(Mr.Reflect,"Reflect",!0),hs.Symbol;var fu,hu,du,pu=Qr("".charAt),vu=Qr("".charCodeAt),mu=Qr("".slice),gu=function(e){return function(t,n){var r,i,o=da(ii(t)),a=Ao(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=vu(o,a))<55296||r>56319||a+1===s||(i=vu(o,a+1))<56320||i>57343?e?pu(o,a):r:e?mu(o,a,a+2):i-56320+(r-55296<<10)+65536}},yu={codeAt:gu(!1),charAt:gu(!0)},bu=!Fr((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),wu=vo("IE_PROTO"),_u=Mr.Object,Eu=_u.prototype,ku=bu?_u.getPrototypeOf:function(e){var t=Ai(e);if(Di(t,wu))return t[wu];var n=t.constructor;return ai(n)&&t instanceof n?n.prototype:t instanceof _u?Eu:null},Iu=Ki("iterator"),Su=!1;[].keys&&("next"in(du=[].keys())?(hu=ku(ku(du)))!==Object.prototype&&(fu=hu):Su=!0),(null==fu||Fr((function(){var e={};return fu[Iu].call(e)!==e})))&&(fu={}),ai(fu[Iu])||No(fu,Iu,(function(){return this}));var Tu={IteratorPrototype:fu,BUGGY_SAFARI_ITERATORS:Su},xu={},Cu=Tu.IteratorPrototype,Nu=function(){return this},Pu=Mr.String,Ou=Mr.TypeError,Au=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Qr(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return to(n),function(e){if("object"==typeof e||ai(e))return e;throw Ou("Can't set "+Pu(e)+" as a prototype")}(r),t?e(n,r):n.__proto__=r,n}}():void 0),Ru=Co.PROPER,Du=Co.CONFIGURABLE,ju=Tu.IteratorPrototype,Lu=Tu.BUGGY_SAFARI_ITERATORS,Mu=Ki("iterator"),Fu=function(){return this},Uu=function(e,t,n,r,i,o,a){!function(e,t,n){var r=t+" Iterator";e.prototype=as(Cu,{next:Wr(1,n)}),gs(e,r,!1),xu[r]=Nu}(n,t,r);var s,u,c,l=function(e){if(e===i&&v)return v;if(!Lu&&e in d)return d[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",h=!1,d=e.prototype,p=d[Mu]||d["@@iterator"]||i&&d[i],v=!Lu&&p||l(i),m="Array"==t&&d.entries||p;if(m&&(s=ku(m.call(new e)))!==Object.prototype&&s.next&&(ku(s)!==ju&&(Au?Au(s,ju):ai(s[Mu])||No(s,Mu,Fu)),gs(s,f,!0)),Ru&&"values"==i&&p&&"values"!==p.name&&(Du?oo(d,"name","values"):(h=!0,v=function(){return qr(p,this)})),i)if(u={values:l("values"),keys:o?v:l("keys"),entries:l("entries")},a)for(c in u)(Lu||h||!(c in d))&&No(d,c,u[c]);else ia({target:t,proto:!0,forced:Lu||h},u);return d[Mu]!==v&&No(d,Mu,v,{name:i}),xu[t]=v,u},Vu=yu.charAt,qu=Io.set,Bu=Io.getterFor("String Iterator");Uu(String,"String",(function(e){qu(this,{type:"String Iterator",string:da(e),index:0})}),(function(){var e,t=Bu(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=Vu(n,r),t.index+=e.length,{value:e,done:!1})}));var Ku=function(e,t,n){var r,i;to(e);try{if(!(r=Si(e,"return"))){if("throw"===t)throw n;return n}r=qr(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return to(r),n},zu=function(e,t,n,r){try{return r?t(to(n)[0],n[1]):t(n)}catch(t){Ku(e,"throw",t)}},Wu=Ki("iterator"),Hu=Array.prototype,Gu=function(e){return void 0!==e&&(xu.Array===e||Hu[Wu]===e)},Yu=Ki("iterator"),Xu=function(e){if(null!=e)return Si(e,Yu)||Si(e,"@@iterator")||xu[fa(e)]},Qu=Mr.TypeError,Zu=function(e,t){var n=arguments.length<2?Xu(e):t;if(Ii(n))return to(qr(n,e));throw Qu(Ei(e)+" is not iterable")},Ju=Mr.Array,$u=Ki("iterator"),ec=!1;try{var tc=0,nc={next:function(){return{done:!!tc++}},return:function(){ec=!0}};nc[$u]=function(){return this},Array.from(nc,(function(){throw 2}))}catch(Ax){}var rc=function(e,t){if(!t&&!ec)return!1;var n=!1;try{var r={};r[$u]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},ic=!rc((function(e){Array.from(e)}));ia({target:"Array",stat:!0,forced:ic},{from:function(e){var t=Ai(e),n=ja(this),r=arguments.length,i=r>1?arguments[1]:void 0,o=void 0!==i;o&&(i=bs(i,r>2?arguments[2]:void 0));var a,s,u,c,l,f,h=Xu(t),d=0;if(!h||this==Ju&&Gu(h))for(a=Mo(t),s=n?new this(a):Ju(a);a>d;d++)f=o?i(t[d],d):t[d],xa(s,d,f);else for(l=(c=Zu(t,h)).next,s=n?new this:[];!(u=qr(l,c)).done;d++)f=o?zu(c,i,[u.value,d],!0):u.value,xa(s,d,f);return s.length=d,s}}),hs.Array.from;var oc,ac,sc,uc="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,cc=io.f,lc=Mr.Int8Array,fc=lc&&lc.prototype,hc=Mr.Uint8ClampedArray,dc=hc&&hc.prototype,pc=lc&&ku(lc),vc=fc&&ku(fc),mc=Object.prototype,gc=Mr.TypeError,yc=Ki("toStringTag"),bc=Fi("TYPED_ARRAY_TAG"),wc=Fi("TYPED_ARRAY_CONSTRUCTOR"),_c=uc&&!!Au&&"Opera"!==fa(Mr.opera),Ec=!1,kc={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Ic={BigInt64Array:8,BigUint64Array:8},Sc=function(e){if(!si(e))return!1;var t=fa(e);return Di(kc,t)||Di(Ic,t)};for(oc in kc)(sc=(ac=Mr[oc])&&ac.prototype)?oo(sc,wc,ac):_c=!1;for(oc in Ic)(sc=(ac=Mr[oc])&&ac.prototype)&&oo(sc,wc,ac);if((!_c||!ai(pc)||pc===Function.prototype)&&(pc=function(){throw gc("Incorrect invocation")},_c))for(oc in kc)Mr[oc]&&Au(Mr[oc],pc);if((!_c||!vc||vc===mc)&&(vc=pc.prototype,_c))for(oc in kc)Mr[oc]&&Au(Mr[oc].prototype,vc);if(_c&&ku(dc)!==vc&&Au(dc,vc),Ur&&!Di(vc,yc))for(oc in Ec=!0,cc(vc,yc,{get:function(){return si(this)?this[bc]:void 0}}),kc)Mr[oc]&&oo(Mr[oc],bc,oc);var Tc={NATIVE_ARRAY_BUFFER_VIEWS:_c,TYPED_ARRAY_CONSTRUCTOR:wc,TYPED_ARRAY_TAG:Ec&&bc,aTypedArray:function(e){if(Sc(e))return e;throw gc("Target is not a typed array")},aTypedArrayConstructor:function(e){if(ai(e)&&(!Au||li(pc,e)))return e;throw gc(Ei(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(Ur){if(n)for(var r in kc){var i=Mr[r];if(i&&Di(i.prototype,e))try{delete i.prototype[e]}catch(e){}}vc[e]&&!n||No(vc,e,n?t:_c&&fc[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(Ur){if(Au){if(n)for(r in kc)if((i=Mr[r])&&Di(i,e))try{delete i[e]}catch(e){}if(pc[e]&&!n)return;try{return No(pc,e,n?t:_c&&pc[e]||t)}catch(e){}}for(r in kc)!(i=Mr[r])||i[e]&&!n||No(i,e,t)}},isView:function(e){if(!si(e))return!1;var t=fa(e);return"DataView"===t||Di(kc,t)||Di(Ic,t)},isTypedArray:Sc,TypedArray:pc,TypedArrayPrototype:vc},xc=Mr.TypeError,Cc=Ki("species"),Nc=Tc.TYPED_ARRAY_CONSTRUCTOR,Pc=Tc.aTypedArrayConstructor,Oc=Tc.aTypedArray;(0,Tc.exportTypedArrayMethod)("slice",(function(e,t){for(var n=ss(Oc(this),e,t),r=Pc(function(e,t){var n,r=to(e).constructor;return void 0===r||null==(n=to(r)[Cc])?t:function(e){if(ja(e))return e;throw xc(Ei(e)+" is not a constructor")}(n)}(this,this[Nc])),i=0,o=n.length,a=new r(o);o>i;)a[i]=n[i++];return a}),Fr((function(){new Int8Array(1).slice()})));var Ac=Ki("unscopables"),Rc=Array.prototype;null==Rc[Ac]&&io.f(Rc,Ac,{configurable:!0,value:as(null)});var Dc=function(e){Rc[Ac][e]=!0},jc=Uo.includes;ia({target:"Array",proto:!0},{includes:function(e){return jc(this,e,arguments.length>1?arguments[1]:void 0)}}),Dc("includes"),Sa("Array","includes");var Lc=Qr("".indexOf);ia({target:"String",proto:!0,forced:!ya("includes")},{includes:function(e){return!!~Lc(da(ii(this)),da(ma(e)),arguments.length>1?arguments[1]:void 0)}}),Sa("String","includes");var Mc=Io.set,Fc=Io.getterFor("Array Iterator");Uu(Array,"Array",(function(e,t){Mc(this,{type:"Array Iterator",target:oi(e),index:0,kind:t})}),(function(){var e=Fc(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),xu.Arguments=xu.Array,Dc("keys"),Dc("values"),Dc("entries");var Uc=Fr((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})),Vc=Object.isExtensible,qc=Fr((function(){Vc(1)}))||Uc?function(e){return!!si(e)&&(!Uc||"ArrayBuffer"!=$r(e))&&(!Vc||Vc(e))}:Vc,Bc=!Fr((function(){return Object.isExtensible(Object.preventExtensions({}))})),Kc=Rr((function(e){var t=io.f,n=!1,r=Fi("meta"),i=0,o=function(e){t(e,r,{value:{objectID:"O"+i++,weakData:{}}})},a=e.exports={enable:function(){a.enable=function(){},n=!0;var e=Wo.f,t=Qr([].splice),i={};i[r]=1,e(i).length&&(Wo.f=function(n){for(var i=e(n),o=0,a=i.length;o<a;o++)if(i[o]===r){t(i,o,1);break}return i},ia({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:ls.f}))},fastKey:function(e,t){if(!si(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!Di(e,r)){if(!qc(e))return"F";if(!t)return"E";o(e)}return e[r].objectID},getWeakData:function(e,t){if(!Di(e,r)){if(!qc(e))return!0;if(!t)return!1;o(e)}return e[r].weakData},onFreeze:function(e){return Bc&&n&&qc(e)&&!Di(e,r)&&o(e),e}};mo[r]=!0}));Kc.enable,Kc.fastKey,Kc.getWeakData,Kc.onFreeze;var zc=Mr.TypeError,Wc=function(e,t){this.stopped=e,this.result=t},Hc=Wc.prototype,Gc=function(e,t,n){var r,i,o,a,s,u,c,l=n&&n.that,f=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_ITERATOR),d=!(!n||!n.INTERRUPTED),p=bs(t,l),v=function(e){return r&&Ku(r,"normal",e),new Wc(!0,e)},m=function(e){return f?(to(e),d?p(e[0],e[1],v):p(e[0],e[1])):d?p(e,v):p(e)};if(h)r=e;else{if(!(i=Xu(e)))throw zc(Ei(e)+" is not iterable");if(Gu(i)){for(o=0,a=Mo(e);a>o;o++)if((s=m(e[o]))&&li(Hc,s))return s;return new Wc(!1)}r=Zu(e,i)}for(u=r.next;!(c=qr(u,r)).done;){try{s=m(c.value)}catch(e){Ku(r,"throw",e)}if("object"==typeof s&&s&&li(Hc,s))return s}return new Wc(!1)},Yc=Mr.TypeError,Xc=function(e,t){if(li(t,e))return e;throw Yc("Incorrect invocation")},Qc=function(e,t,n){for(var r in t)No(e,r,t[r],n);return e},Zc=Ki("species"),Jc=io.f,$c=Kc.fastKey,el=Io.set,tl=Io.getterFor,nl={getConstructor:function(e,t,n,r){var i=e((function(e,i){Xc(e,o),el(e,{type:t,index:as(null),first:void 0,last:void 0,size:0}),Ur||(e.size=0),null!=i&&Gc(i,e[r],{that:e,AS_ENTRIES:n})})),o=i.prototype,a=tl(t),s=function(e,t,n){var r,i,o=a(e),s=u(e,t);return s?s.value=n:(o.last=s={index:i=$c(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=s),r&&(r.next=s),Ur?o.size++:e.size++,"F"!==i&&(o.index[i]=s)),e},u=function(e,t){var n,r=a(e),i=$c(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return Qc(o,{clear:function(){for(var e=a(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,Ur?e.size=0:this.size=0},delete:function(e){var t=this,n=a(t),r=u(t,e);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),Ur?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=a(this),r=bs(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!u(this,e)}}),Qc(o,n?{get:function(e){var t=u(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),Ur&&Jc(o,"size",{get:function(){return a(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=tl(t),o=tl(r);Uu(e,t,(function(e,t){el(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),function(e){var t=ci(e),n=io.f;Ur&&t&&!t[Zc]&&n(t,Zc,{configurable:!0,get:function(){return this}})}(t)}};function rl(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}function il(e){return new this((function(t,n){if(!e||void 0===e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,n){if(n&&("object"==typeof n||"function"==typeof n)){var a=n.then;if("function"==typeof a)return void a.call(n,(function(t){o(e,t)}),(function(n){r[e]={status:"rejected",reason:n},0==--i&&t(r)}))}r[e]={status:"fulfilled",value:n},0==--i&&t(r)}for(var a=0;a<r.length;a++)o(a,r[a])}))}!function(e,t,n){var r=-1!==e.indexOf("Map"),i=-1!==e.indexOf("Weak"),o=r?"set":"add",a=Mr[e],s=a&&a.prototype,u=a,c={},l=function(e){var t=Qr(s[e]);No(s,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(i&&!si(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return i&&!si(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(i&&!si(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(na(e,!ai(a)||!(i||s.forEach&&!Fr((function(){(new a).entries().next()})))))u=n.getConstructor(t,e,r,o),Kc.enable();else if(na(e,!0)){var f=new u,h=f[o](i?{}:-0,1)!=f,d=Fr((function(){f.has(1)})),p=rc((function(e){new a(e)})),v=!i&&Fr((function(){for(var e=new a,t=5;t--;)e[o](t,t);return!e.has(-0)}));p||((u=t((function(e,t){Xc(e,s);var n=function(e,t,n){var r,i;return Au&&ai(r=t.constructor)&&r!==n&&si(i=r.prototype)&&i!==n.prototype&&Au(e,i),e}(new a,e,u);return null!=t&&Gc(t,n[o],{that:n,AS_ENTRIES:r}),n}))).prototype=s,s.constructor=u),(d||v)&&(l("delete"),l("has"),r&&l("get")),(v||h)&&l(o),i&&s.clear&&delete s.clear}c[e]=u,ia({global:!0,forced:u!=a},c),gs(u,e),i||n.setStrong(u,e,r)}("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),nl),hs.Set;var ol=setTimeout,al="undefined"!=typeof setImmediate?setImmediate:null;function sl(e){return Boolean(e&&void 0!==e.length)}function ul(){}function cl(e){if(!(this instanceof cl))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],vl(e,this)}function ll(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,cl._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void hl(t.promise,e)}fl(t.promise,r)}else(1===e._state?fl:hl)(t.promise,e._value)}))):e._deferreds.push(t)}function fl(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof cl)return e._state=3,e._value=t,void dl(e);if("function"==typeof n)return void vl((r=n,i=t,function(){r.apply(i,arguments)}),e)}e._state=1,e._value=t,dl(e)}catch(t){hl(e,t)}var r,i}function hl(e,t){e._state=2,e._value=t,dl(e)}function dl(e){2===e._state&&0===e._deferreds.length&&cl._immediateFn((function(){e._handled||cl._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)ll(e,e._deferreds[t]);e._deferreds=null}function pl(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function vl(e,t){var n=!1;try{e((function(e){n||(n=!0,fl(t,e))}),(function(e){n||(n=!0,hl(t,e))}))}catch(e){if(n)return;n=!0,hl(t,e)}}cl.prototype.catch=function(e){return this.then(null,e)},cl.prototype.then=function(e,t){var n=new this.constructor(ul);return ll(this,new pl(e,t,n)),n},cl.prototype.finally=rl,cl.all=function(e){return new cl((function(t,n){if(!sl(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){o(e,t)}),n)}r[e]=a,0==--i&&t(r)}catch(e){n(e)}}for(var a=0;a<r.length;a++)o(a,r[a])}))},cl.allSettled=il,cl.resolve=function(e){return e&&"object"==typeof e&&e.constructor===cl?e:new cl((function(t){t(e)}))},cl.reject=function(e){return new cl((function(t,n){n(e)}))},cl.race=function(e){return new cl((function(t,n){if(!sl(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=e.length;r<i;r++)cl.resolve(e[r]).then(t,n)}))},cl._immediateFn="function"==typeof al&&function(e){al(e)}||function(e){ol(e,0)},cl._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var ml=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof n.g)return n.g;throw new Error("unable to locate global object")}();"function"!=typeof ml.Promise?ml.Promise=cl:(ml.Promise.prototype.finally||(ml.Promise.prototype.finally=rl),ml.Promise.allSettled||(ml.Promise.allSettled=il)),function(e){function t(){}function n(e,t){if(e=void 0===e?"utf-8":e,t=void 0===t?{fatal:!1}:t,-1===i.indexOf(e.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+e+"') is invalid.");if(t.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function r(e){for(var t=0,n=Math.min(65536,e.length+1),r=new Uint16Array(n),i=[],o=0;;){var a=t<e.length;if(!a||o>=n-1){if(i.push(String.fromCharCode.apply(null,r.subarray(0,o))),!a)return i.join("");e=e.subarray(t),o=t=0}if(0==(128&(a=e[t++])))r[o++]=a;else if(192==(224&a)){var s=63&e[t++];r[o++]=(31&a)<<6|s}else if(224==(240&a)){s=63&e[t++];var u=63&e[t++];r[o++]=(31&a)<<12|s<<6|u}else 240==(248&a)&&(65535<(a=(7&a)<<18|(s=63&e[t++])<<12|(u=63&e[t++])<<6|63&e[t++])&&(a-=65536,r[o++]=a>>>10&1023|55296,a=56320|1023&a),r[o++]=a)}}if(e.TextEncoder&&e.TextDecoder)return!1;var i=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");t=0;for(var n=e.length,r=0,i=Math.max(32,n+(n>>>1)+7),o=new Uint8Array(i>>>3<<3);t<n;){var a=e.charCodeAt(t++);if(55296<=a&&56319>=a){if(t<n){var s=e.charCodeAt(t);56320==(64512&s)&&(++t,a=((1023&a)<<10)+(1023&s)+65536)}if(55296<=a&&56319>=a)continue}if(r+4>o.length&&(i+=8,i=(i*=1+t/e.length*2)>>>3<<3,(s=new Uint8Array(i)).set(o),o=s),0==(4294967168&a))o[r++]=a;else{if(0==(4294965248&a))o[r++]=a>>>6&31|192;else if(0==(4294901760&a))o[r++]=a>>>12&15|224,o[r++]=a>>>6&63|128;else{if(0!=(4292870144&a))continue;o[r++]=a>>>18&7|240,o[r++]=a>>>12&63|128,o[r++]=a>>>6&63|128}o[r++]=63&a|128}}return o.slice?o.slice(0,r):o.subarray(0,r)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1});var o=r;"function"==typeof Buffer&&Buffer.from?o=function(e){return Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(o=function(e){var t=URL.createObjectURL(new Blob([e],{type:"text/plain;charset=UTF-8"}));try{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(),n.responseText}catch(t){return r(e)}finally{URL.revokeObjectURL(t)}}),n.prototype.decode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return e=e instanceof Uint8Array?e:e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer):new Uint8Array(e),o(e)},e.TextEncoder=t,e.TextDecoder=n}("undefined"!=typeof window?window:Or),function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?a(e):t}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=i(e);if(t){var o=i(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=c(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}var f=function(){function t(){e(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(t,[{key:"addEventListener",value:function(e,t,n){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({callback:t,options:n})}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,i=n.length;r<i;r++)if(n[r].callback===t)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){for(var t=this.listeners[e.type].slice(),n=0,r=t.length;n<r;n++){var i=t[n];try{i.callback.call(this,e)}catch(e){Promise.resolve().then((function(){throw e}))}i.options&&i.options.once&&this.removeEventListener(e.type,i.callback)}return!e.defaultPrevented}}}]),t}(),h=function(t){r(s,t);var o=u(s);function s(){var t;return e(this,s),(t=o.call(this)).listeners||f.call(a(t)),Object.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return n(s,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),l(i(s.prototype),"dispatchEvent",this).call(this,e)}}]),s}(f),d=function(){function t(){e(this,t),Object.defineProperty(this,"signal",{value:new h,writable:!0,configurable:!0})}return n(t,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(d.prototype[Symbol.toStringTag]="AbortController",h.prototype[Symbol.toStringTag]="AbortSignal"),function(e){(function(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController})(e)&&(e.AbortController=d,e.AbortSignal=h)}("undefined"!=typeof self?self:Or)}();var gl=Rr((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){var e=this;this.locked=new Map,this.addToLocked=function(t,n){var r=e.locked.get(t);void 0===r?void 0===n?e.locked.set(t,[]):e.locked.set(t,[n]):void 0!==n&&(r.unshift(n),e.locked.set(t,r))},this.isLocked=function(t){return e.locked.has(t)},this.lock=function(t){return new Promise((function(n,r){e.isLocked(t)?e.addToLocked(t,n):(e.addToLocked(t),n())}))},this.unlock=function(t){var n=e.locked.get(t);if(void 0!==n&&0!==n.length){var r=n.pop();e.locked.set(t,n),void 0!==r&&setTimeout(r,0)}else e.locked.delete(t)}}return e.getInstance=function(){return void 0===e.instance&&(e.instance=new e),e.instance},e}();t.default=function(){return n.getInstance()}}));Ar(gl);var yl=Ar(Rr((function(e,t){var n=Or&&Or.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))},r=Or&&Or.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i="browser-tabs-lock-key";function o(e){return new Promise((function(t){return setTimeout(t,e)}))}function a(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",r=0;r<e;r++)n+=t[Math.floor(Math.random()*t.length)];return n}var s=function(){function e(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+a(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===e.waiters&&(e.waiters=[])}return e.prototype.acquireLock=function(t,s){return void 0===s&&(s=5e3),n(this,void 0,void 0,(function(){var n,u,c,l,f,h;return r(this,(function(r){switch(r.label){case 0:n=Date.now()+a(4),u=Date.now()+s,c=i+"-"+t,l=window.localStorage,r.label=1;case 1:return Date.now()<u?[4,o(30)]:[3,8];case 2:return r.sent(),null!==l.getItem(c)?[3,5]:(f=this.id+"-"+t+"-"+n,[4,o(Math.floor(25*Math.random()))]);case 3:return r.sent(),l.setItem(c,JSON.stringify({id:this.id,iat:n,timeoutKey:f,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,o(30)];case 4:return r.sent(),null!==(h=l.getItem(c))&&(h=JSON.parse(h)).id===this.id&&h.iat===n?(this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(c,n),[2,!0]):[3,7];case 5:return e.lockCorrector(),[4,this.waitForSomethingToChange(u)];case 6:r.sent(),r.label=7;case 7:return n=Date.now()+a(4),[3,1];case 8:return[2,!1]}}))}))},e.prototype.refreshLockWhileAcquired=function(e,t){return n(this,void 0,void 0,(function(){var i=this;return r(this,(function(o){return setTimeout((function(){return n(i,void 0,void 0,(function(){var n,i;return r(this,(function(r){switch(r.label){case 0:return[4,gl.default().lock(t)];case 1:return r.sent(),this.acquiredIatSet.has(t)?(n=window.localStorage,null===(i=n.getItem(e))?(gl.default().unlock(t),[2]):((i=JSON.parse(i)).timeRefreshed=Date.now(),n.setItem(e,JSON.stringify(i)),gl.default().unlock(t),this.refreshLockWhileAcquired(e,t),[2])):(gl.default().unlock(t),[2])}}))}))}),1e3),[2]}))}))},e.prototype.waitForSomethingToChange=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){var r=!1,i=Date.now(),o=!1;function a(){if(o||(window.removeEventListener("storage",a),e.removeFromWaiting(a),clearTimeout(s),o=!0),!r){r=!0;var t=50-(Date.now()-i);t>0?setTimeout(n,t):n()}}window.addEventListener("storage",a),e.addToWaiting(a);var s=setTimeout(a,Math.max(0,t-Date.now()))}))];case 1:return n.sent(),[2]}}))}))},e.addToWaiting=function(t){this.removeFromWaiting(t),void 0!==e.waiters&&e.waiters.push(t)},e.removeFromWaiting=function(t){void 0!==e.waiters&&(e.waiters=e.waiters.filter((function(e){return e!==t})))},e.notifyWaiters=function(){void 0!==e.waiters&&e.waiters.slice().forEach((function(e){return e()}))},e.prototype.releaseLock=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.releaseLock__private__(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.releaseLock__private__=function(t){return n(this,void 0,void 0,(function(){var n,o,a;return r(this,(function(r){switch(r.label){case 0:return n=window.localStorage,o=i+"-"+t,null===(a=n.getItem(o))?[2]:(a=JSON.parse(a)).id!==this.id?[3,2]:[4,gl.default().lock(a.iat)];case 1:r.sent(),this.acquiredIatSet.delete(a.iat),n.removeItem(o),gl.default().unlock(a.iat),e.notifyWaiters(),r.label=2;case 2:return[2]}}))}))},e.lockCorrector=function(){for(var t=Date.now()-5e3,n=window.localStorage,r=Object.keys(n),o=!1,a=0;a<r.length;a++){var s=r[a];if(s.includes(i)){var u=n.getItem(s);null!==u&&(void 0===(u=JSON.parse(u)).timeRefreshed&&u.timeAcquired<t||void 0!==u.timeRefreshed&&u.timeRefreshed<t)&&(n.removeItem(s),o=!0)}}o&&e.notifyWaiters()},e.waiters=void 0,e}();t.default=s}))),bl={timeoutInSeconds:60},wl=["login_required","consent_required","interaction_required","account_selection_required","access_denied"],_l={name:"auth0-spa-js",version:"1.19.3"},El=function(){return Date.now()},kl=function(e){function t(n,r){var i=e.call(this,r)||this;return i.error=n,i.error_description=r,Object.setPrototypeOf(i,t.prototype),i}return Ir(t,e),t.fromPayload=function(e){return new t(e.error,e.error_description)},t}(Error),Il=function(e){function t(n,r,i,o){void 0===o&&(o=null);var a=e.call(this,n,r)||this;return a.state=i,a.appState=o,Object.setPrototypeOf(a,t.prototype),a}return Ir(t,e),t}(kl),Sl=function(e){function t(){var n=e.call(this,"timeout","Timeout")||this;return Object.setPrototypeOf(n,t.prototype),n}return Ir(t,e),t}(kl),Tl=function(e){function t(n){var r=e.call(this)||this;return r.popup=n,Object.setPrototypeOf(r,t.prototype),r}return Ir(t,e),t}(Sl),xl=function(e){function t(n){var r=e.call(this,"cancelled","Popup closed")||this;return r.popup=n,Object.setPrototypeOf(r,t.prototype),r}return Ir(t,e),t}(kl),Cl=function(e){function t(n,r,i){var o=e.call(this,n,r)||this;return o.mfa_token=i,Object.setPrototypeOf(o,t.prototype),o}return Ir(t,e),t}(kl),Nl=function(e){return new Promise((function(t,n){var r,i=setInterval((function(){e.popup&&e.popup.closed&&(clearInterval(i),clearTimeout(o),window.removeEventListener("message",r,!1),n(new xl(e.popup)))}),1e3),o=setTimeout((function(){clearInterval(i),n(new Tl(e.popup)),window.removeEventListener("message",r,!1)}),1e3*(e.timeoutInSeconds||60));r=function(a){if(a.data&&"authorization_response"===a.data.type){if(clearTimeout(o),clearInterval(i),window.removeEventListener("message",r,!1),e.popup.close(),a.data.response.error)return n(kl.fromPayload(a.data.response));t(a.data.response)}},window.addEventListener("message",r)}))},Pl=function(){return window.crypto||window.msCrypto},Ol=function(){var e=Pl();return e.subtle||e.webkitSubtle},Al=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",t="";return Array.from(Pl().getRandomValues(new Uint8Array(43))).forEach((function(n){return t+=e[n%e.length]})),t},Rl=function(e){return btoa(e)},Dl=function(e){return Object.keys(e).filter((function(t){return void 0!==e[t]})).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},jl=function(e){return xr(void 0,void 0,void 0,(function(){var t;return Cr(this,(function(n){switch(n.label){case 0:return t=Ol().digest({name:"SHA-256"},(new TextEncoder).encode(e)),window.msCrypto?[2,new Promise((function(e,n){t.oncomplete=function(t){e(t.target.result)},t.onerror=function(e){n(e.error)},t.onabort=function(){n("The digest operation was aborted")}}))]:[4,t];case 1:return[2,n.sent()]}}))}))},Ll=function(e){return function(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(e.replace(/_/g,"/").replace(/-/g,"+"))},Ml=function(e){var t=new Uint8Array(e);return function(e){var t={"+":"-","/":"_","=":""};return e.replace(/[+/=]/g,(function(e){return t[e]}))}(window.btoa(String.fromCharCode.apply(String,Pr([],Nr(Array.from(t)),!1))))},Fl=function(e,t){return xr(void 0,void 0,void 0,(function(){var n,r;return Cr(this,(function(i){switch(i.label){case 0:return[4,(o=e,a=t,a=a||{},new Promise((function(e,t){var n=new XMLHttpRequest,r=[],i=[],s={},u=function e(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(n.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:e,headers:{keys:function(){return r},entries:function(){return i},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var c in n.open(a.method||"get",o,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){r.push(t=t.toLowerCase()),i.push([t,n]),s[t]=s[t]?s[t]+","+n:n})),e(u())},n.onerror=t,n.withCredentials="include"==a.credentials,a.headers)n.setRequestHeader(c,a.headers[c]);n.send(a.body||null)})))];case 1:return n=i.sent(),r={ok:n.ok},[4,n.json()];case 2:return[2,(r.json=i.sent(),r)]}var o,a}))}))},Ul=function(e,t,n){return xr(void 0,void 0,void 0,(function(){var r,i;return Cr(this,(function(o){return r=new AbortController,t.signal=r.signal,[2,Promise.race([Fl(e,t),new Promise((function(e,t){i=setTimeout((function(){r.abort(),t(new Error("Timeout when executing 'fetch'"))}),n)}))]).finally((function(){clearTimeout(i)}))]}))}))},Vl=function(e,t,n,r,i,o,a){return xr(void 0,void 0,void 0,(function(){return Cr(this,(function(s){return[2,(u={auth:{audience:t,scope:n},timeout:i,fetchUrl:e,fetchOptions:r,useFormData:a},c=o,new Promise((function(e,t){var n=new MessageChannel;n.port1.onmessage=function(n){n.data.error?t(new Error(n.data.error)):e(n.data)},c.postMessage(u,[n.port2])})))];var u,c}))}))},ql=function(e,t,n,r,i,o,a){return void 0===a&&(a=1e4),xr(void 0,void 0,void 0,(function(){return Cr(this,(function(s){return i?[2,Vl(e,t,n,r,a,i,o)]:[2,Ul(e,r,a)]}))}))};function Bl(e,t,n,r,i,o,a){return xr(this,void 0,void 0,(function(){var s,u,c,l,f,h,d,p,v;return Cr(this,(function(m){switch(m.label){case 0:s=null,c=0,m.label=1;case 1:if(!(c<3))return[3,6];m.label=2;case 2:return m.trys.push([2,4,,5]),[4,ql(e,n,r,i,o,a,t)];case 3:return u=m.sent(),s=null,[3,6];case 4:return l=m.sent(),s=l,[3,5];case 5:return c++,[3,1];case 6:if(s)throw s.message=s.message||"Failed to fetch",s;if(f=u.json,h=f.error,d=f.error_description,p=Tr(f,["error","error_description"]),!u.ok){if(v=d||"HTTP error. Unable to fetch "+e,"mfa_required"===h)throw new Cl(h,v,p.mfa_token);throw new kl(h||"request_error",v)}return[2,p]}}))}))}function Kl(e,t){var n=e.baseUrl,r=e.timeout,i=e.audience,o=e.scope,a=e.auth0Client,s=e.useFormData,u=Tr(e,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);return xr(this,void 0,void 0,(function(){var e;return Cr(this,(function(c){switch(c.label){case 0:return e=s?Dl(u):JSON.stringify(u),[4,Bl(n+"/oauth/token",r,i||"default",o,{method:"POST",body:e,headers:{"Content-Type":s?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(a||_l))}},t,s)];case 1:return[2,c.sent()]}}))}))}var zl=function(e){return Array.from(new Set(e))},Wl=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return zl(e.join(" ").trim().split(/\s+/)).join(" ")},Hl=function(){function e(e,t){void 0===t&&(t="@@auth0spajs@@"),this.prefix=t,this.client_id=e.client_id,this.scope=e.scope,this.audience=e.audience}return e.prototype.toKey=function(){return this.prefix+"::"+this.client_id+"::"+this.audience+"::"+this.scope},e.fromKey=function(t){var n=Nr(t.split("::"),4),r=n[0],i=n[1],o=n[2];return new e({client_id:i,scope:n[3],audience:o},r)},e.fromCacheEntry=function(t){return new e({scope:t.scope,audience:t.audience,client_id:t.client_id})},e}(),Gl=function(){function e(){}return e.prototype.set=function(e,t){localStorage.setItem(e,JSON.stringify(t))},e.prototype.get=function(e){var t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(e){return}},e.prototype.remove=function(e){localStorage.removeItem(e)},e.prototype.allKeys=function(){return Object.keys(window.localStorage).filter((function(e){return e.startsWith("@@auth0spajs@@")}))},e}(),Yl=function(){var e;this.enclosedCache=(e={},{set:function(t,n){e[t]=n},get:function(t){var n=e[t];if(n)return n},remove:function(t){delete e[t]},allKeys:function(){return Object.keys(e)}})},Xl=function(){function e(e,t,n){this.cache=e,this.keyManifest=t,this.nowProvider=n,this.nowProvider=this.nowProvider||El}return e.prototype.get=function(e,t){var n;return void 0===t&&(t=0),xr(this,void 0,void 0,(function(){var r,i,o,a,s;return Cr(this,(function(u){switch(u.label){case 0:return[4,this.cache.get(e.toKey())];case 1:return(r=u.sent())?[3,4]:[4,this.getCacheKeys()];case 2:return(i=u.sent())?(o=this.matchExistingCacheKey(e,i),[4,this.cache.get(o)]):[2];case 3:r=u.sent(),u.label=4;case 4:return r?[4,this.nowProvider()]:[2];case 5:return a=u.sent(),s=Math.floor(a/1e3),r.expiresAt-t<s?r.body.refresh_token?(r.body={refresh_token:r.body.refresh_token},[4,this.cache.set(e.toKey(),r)]):[3,7]:[3,10];case 6:return u.sent(),[2,r.body];case 7:return[4,this.cache.remove(e.toKey())];case 8:return u.sent(),[4,null===(n=this.keyManifest)||void 0===n?void 0:n.remove(e.toKey())];case 9:return u.sent(),[2];case 10:return[2,r.body]}}))}))},e.prototype.set=function(e){var t;return xr(this,void 0,void 0,(function(){var n,r;return Cr(this,(function(i){switch(i.label){case 0:return n=new Hl({client_id:e.client_id,scope:e.scope,audience:e.audience}),[4,this.wrapCacheEntry(e)];case 1:return r=i.sent(),[4,this.cache.set(n.toKey(),r)];case 2:return i.sent(),[4,null===(t=this.keyManifest)||void 0===t?void 0:t.add(n.toKey())];case 3:return i.sent(),[2]}}))}))},e.prototype.clear=function(e){var t;return xr(this,void 0,void 0,(function(){var n,r=this;return Cr(this,(function(i){switch(i.label){case 0:return[4,this.getCacheKeys()];case 1:return(n=i.sent())?[4,n.filter((function(t){return!e||t.includes(e)})).reduce((function(e,t){return xr(r,void 0,void 0,(function(){return Cr(this,(function(n){switch(n.label){case 0:return[4,e];case 1:return n.sent(),[4,this.cache.remove(t)];case 2:return n.sent(),[2]}}))}))}),Promise.resolve())]:[2];case 2:return i.sent(),[4,null===(t=this.keyManifest)||void 0===t?void 0:t.clear()];case 3:return i.sent(),[2]}}))}))},e.prototype.clearSync=function(e){var t=this,n=this.cache.allKeys();n&&n.filter((function(t){return!e||t.includes(e)})).forEach((function(e){t.cache.remove(e)}))},e.prototype.wrapCacheEntry=function(e){return xr(this,void 0,void 0,(function(){var t,n,r;return Cr(this,(function(i){switch(i.label){case 0:return[4,this.nowProvider()];case 1:return t=i.sent(),n=Math.floor(t/1e3)+e.expires_in,r=Math.min(n,e.decodedToken.claims.exp),[2,{body:e,expiresAt:r}]}}))}))},e.prototype.getCacheKeys=function(){var e;return xr(this,void 0,void 0,(function(){var t;return Cr(this,(function(n){switch(n.label){case 0:return this.keyManifest?[4,this.keyManifest.get()]:[3,2];case 1:return t=null===(e=n.sent())||void 0===e?void 0:e.keys,[3,4];case 2:return[4,this.cache.allKeys()];case 3:t=n.sent(),n.label=4;case 4:return[2,t]}}))}))},e.prototype.matchExistingCacheKey=function(e,t){return t.filter((function(t){var n=Hl.fromKey(t),r=new Set(n.scope&&n.scope.split(" ")),i=e.scope.split(" "),o=n.scope&&i.reduce((function(e,t){return e&&r.has(t)}),!0);return"@@auth0spajs@@"===n.prefix&&n.client_id===e.client_id&&n.audience===e.audience&&o}))[0]},e}(),Ql=function(){function e(e,t){this.storage=e,this.clientId=t,this.storageKey="a0.spajs.txs."+this.clientId,this.transaction=this.storage.get(this.storageKey)}return e.prototype.create=function(e){this.transaction=e,this.storage.save(this.storageKey,e,{daysUntilExpire:1})},e.prototype.get=function(){return this.transaction},e.prototype.remove=function(){delete this.transaction,this.storage.remove(this.storageKey)},e}(),Zl=function(e){return"number"==typeof e},Jl=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],$l=function(e){if(!e.id_token)throw new Error("ID token is required but missing");var t=function(e){var t=e.split("."),n=Nr(t,3),r=n[0],i=n[1],o=n[2];if(3!==t.length||!r||!i||!o)throw new Error("ID token could not be decoded");var a=JSON.parse(Ll(i)),s={__raw:e},u={};return Object.keys(a).forEach((function(e){s[e]=a[e],Jl.includes(e)||(u[e]=a[e])})),{encoded:{header:r,payload:i,signature:o},header:JSON.parse(Ll(r)),claims:s,user:u}}(e.id_token);if(!t.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(t.claims.iss!==e.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'+e.iss+'", found "'+t.claims.iss+'"');if(!t.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==t.header.alg)throw new Error('Signature algorithm of "'+t.header.alg+'" is not supported. Expected the ID token to be signed with "RS256".');if(!t.claims.aud||"string"!=typeof t.claims.aud&&!Array.isArray(t.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+e.aud+'" but was not one of "'+t.claims.aud.join(", ")+'"');if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(t.claims.azp!==e.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'+e.aud+'", found "'+t.claims.azp+'"')}}else if(t.claims.aud!==e.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+e.aud+'" but found "'+t.claims.aud+'"');if(e.nonce){if(!t.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(t.claims.nonce!==e.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'+e.nonce+'", found "'+t.claims.nonce+'"')}if(e.max_age&&!Zl(t.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!Zl(t.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!Zl(t.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var n=e.leeway||60,r=new Date(e.now||Date.now()),i=new Date(0),o=new Date(0),a=new Date(0);if(a.setUTCSeconds(parseInt(t.claims.auth_time)+e.max_age+n),i.setUTCSeconds(t.claims.exp+n),o.setUTCSeconds(t.claims.nbf-n),r>i)throw new Error("Expiration Time (exp) claim error in the ID token; current time ("+r+") is after expiration time ("+i+")");if(Zl(t.claims.nbf)&&r<o)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time ("+r+") is before "+o);if(Zl(t.claims.auth_time)&&r>a)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time ("+r+") is after last auth at "+a);if(e.organizationId){if(!t.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(e.organizationId!==t.claims.org_id)throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected "'+e.organizationId+'", found "'+t.claims.org_id+'"')}return t},ef=Rr((function(e,t){var n=Or&&Or.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function r(e,t){if(!t)return"";var n="; "+e;return!0===t?n:n+"="+t}function i(e,t,n){return encodeURIComponent(e).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(e){if("number"==typeof e.expires){var t=new Date;t.setMilliseconds(t.getMilliseconds()+864e5*e.expires),e.expires=t}return r("Expires",e.expires?e.expires.toUTCString():"")+r("Domain",e.domain)+r("Path",e.path)+r("Secure",e.secure)+r("SameSite",e.sameSite)}(n)}function o(e){for(var t={},n=e?e.split("; "):[],r=/(%[\dA-F]{2})+/gi,i=0;i<n.length;i++){var o=n[i].split("="),a=o.slice(1).join("=");'"'===a.charAt(0)&&(a=a.slice(1,-1));try{t[o[0].replace(r,decodeURIComponent)]=a.replace(r,decodeURIComponent)}catch(e){}}return t}function a(){return o(document.cookie)}function s(e,t,r){document.cookie=i(e,t,n({path:"/"},r))}t.__esModule=!0,t.encode=i,t.parse=o,t.getAll=a,t.get=function(e){return a()[e]},t.set=s,t.remove=function(e,t){s(e,"",n(n({},t),{expires:-1}))}}));Ar(ef),ef.encode,ef.parse,ef.getAll;var tf=ef.get,nf=ef.set,rf=ef.remove,of={get:function(e){var t=tf(e);if(void 0!==t)return JSON.parse(t)},save:function(e,t,n){var r={};"https:"===window.location.protocol&&(r={secure:!0,sameSite:"none"}),(null==n?void 0:n.daysUntilExpire)&&(r.expires=n.daysUntilExpire),nf(e,JSON.stringify(t),r)},remove:function(e){rf(e)}},af={get:function(e){return of.get(e)||of.get("_legacy_"+e)},save:function(e,t,n){var r={};"https:"===window.location.protocol&&(r={secure:!0}),(null==n?void 0:n.daysUntilExpire)&&(r.expires=n.daysUntilExpire),nf("_legacy_"+e,JSON.stringify(t),r),of.save(e,t,n)},remove:function(e){of.remove(e),of.remove("_legacy_"+e)}},sf={get:function(e){if("undefined"!=typeof sessionStorage){var t=sessionStorage.getItem(e);if(void 0!==t)return JSON.parse(t)}},save:function(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove:function(e){sessionStorage.removeItem(e)}};var uf,cf=("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uCgogICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55CiAgICBwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuCgogICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEgKICAgIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWQogICAgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULAogICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NCiAgICBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUgogICAgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUgogICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS4KICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyLHQsbil7cmV0dXJuIG5ldyh0fHwodD1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8sYSl7ZnVuY3Rpb24gcyhlKXt0cnl7dShuLm5leHQoZSkpfWNhdGNoKGUpe2EoZSl9fWZ1bmN0aW9uIGkoZSl7dHJ5e3Uobi50aHJvdyhlKSl9Y2F0Y2goZSl7YShlKX19ZnVuY3Rpb24gdShlKXt2YXIgcjtlLmRvbmU/byhlLnZhbHVlKToocj1lLnZhbHVlLHIgaW5zdGFuY2VvZiB0P3I6bmV3IHQoKGZ1bmN0aW9uKGUpe2Uocil9KSkpLnRoZW4ocyxpKX11KChuPW4uYXBwbHkoZSxyfHxbXSkpLm5leHQoKSl9KSl9ZnVuY3Rpb24gdChlLHIpe3ZhciB0LG4sbyxhLHM9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGE9e25leHQ6aSgwKSx0aHJvdzppKDEpLHJldHVybjppKDIpfSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYoYVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxhO2Z1bmN0aW9uIGkoYSl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBmdW5jdGlvbihhKXtpZih0KXRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTtmb3IoO3M7KXRyeXtpZih0PTEsbiYmKG89MiZhWzBdP24ucmV0dXJuOmFbMF0/bi50aHJvd3x8KChvPW4ucmV0dXJuKSYmby5jYWxsKG4pLDApOm4ubmV4dCkmJiEobz1vLmNhbGwobixhWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2gobj0wLG8mJihhPVsyJmFbMF0sby52YWx1ZV0pLGFbMF0pe2Nhc2UgMDpjYXNlIDE6bz1hO2JyZWFrO2Nhc2UgNDpyZXR1cm4gcy5sYWJlbCsrLHt2YWx1ZTphWzFdLGRvbmU6ITF9O2Nhc2UgNTpzLmxhYmVsKyssbj1hWzFdLGE9WzBdO2NvbnRpbnVlO2Nhc2UgNzphPXMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1zLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1hWzBdJiYyIT09YVswXSkpe3M9MDtjb250aW51ZX1pZigzPT09YVswXSYmKCFvfHxhWzFdPm9bMF0mJmFbMV08b1szXSkpe3MubGFiZWw9YVsxXTticmVha31pZig2PT09YVswXSYmcy5sYWJlbDxvWzFdKXtzLmxhYmVsPW9bMV0sbz1hO2JyZWFrfWlmKG8mJnMubGFiZWw8b1syXSl7cy5sYWJlbD1vWzJdLHMub3BzLnB1c2goYSk7YnJlYWt9b1syXSYmcy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlfWE9ci5jYWxsKGUscyl9Y2F0Y2goZSl7YT1bNixlXSxuPTB9ZmluYWxseXt0PW89MH1pZig1JmFbMF0pdGhyb3cgYVsxXTtyZXR1cm57dmFsdWU6YVswXT9hWzFdOnZvaWQgMCxkb25lOiEwfX0oW2EsaV0pfX19dmFyIG49e30sbz1mdW5jdGlvbihlLHIpe3JldHVybiBlKyJ8IityfTthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoZnVuY3Rpb24oYSl7dmFyIHM9YS5kYXRhLGk9cy50aW1lb3V0LHU9cy5hdXRoLGM9cy5mZXRjaFVybCxmPXMuZmV0Y2hPcHRpb25zLGw9cy51c2VGb3JtRGF0YSxoPWZ1bmN0aW9uKGUscil7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdO2lmKCF0KXJldHVybiBlO3ZhciBuLG8sYT10LmNhbGwoZSkscz1bXTt0cnl7Zm9yKDsodm9pZCAwPT09cnx8ci0tID4wKSYmIShuPWEubmV4dCgpKS5kb25lOylzLnB1c2gobi52YWx1ZSl9Y2F0Y2goZSl7bz17ZXJyb3I6ZX19ZmluYWxseXt0cnl7biYmIW4uZG9uZSYmKHQ9YS5yZXR1cm4pJiZ0LmNhbGwoYSl9ZmluYWxseXtpZihvKXRocm93IG8uZXJyb3J9fXJldHVybiBzfShhLnBvcnRzLDEpWzBdO3JldHVybiByKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByLGEscyxwLHksYixkLHYsdyxnO3JldHVybiB0KHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cz0oYT11fHx7fSkuYXVkaWVuY2UscD1hLnNjb3BlLHQubGFiZWw9MTtjYXNlIDE6aWYodC50cnlzLnB1c2goWzEsNywsOF0pLCEoeT1sPyhrPWYuYm9keSxTPW5ldyBVUkxTZWFyY2hQYXJhbXMoayksXz17fSxTLmZvckVhY2goKGZ1bmN0aW9uKGUscil7X1tyXT1lfSkpLF8pOkpTT04ucGFyc2UoZi5ib2R5KSkucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09eS5ncmFudF90eXBlKXtpZighKGI9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gbltvKGUscildfShzLHApKSl0aHJvdyBuZXcgRXJyb3IoIlRoZSB3ZWIgd29ya2VyIGlzIG1pc3NpbmcgdGhlIHJlZnJlc2ggdG9rZW4iKTtmLmJvZHk9bD9uZXcgVVJMU2VhcmNoUGFyYW1zKGUoZSh7fSx5KSx7cmVmcmVzaF90b2tlbjpifSkpLnRvU3RyaW5nKCk6SlNPTi5zdHJpbmdpZnkoZShlKHt9LHkpLHtyZWZyZXNoX3Rva2VuOmJ9KSl9ZD12b2lkIDAsImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGQ9bmV3IEFib3J0Q29udHJvbGxlcixmLnNpZ25hbD1kLnNpZ25hbCksdj12b2lkIDAsdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gdC50cnlzLnB1c2goWzIsNCwsNV0pLFs0LFByb21pc2UucmFjZShbKG09aSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHNldFRpbWVvdXQoZSxtKX0pKSksZmV0Y2goYyxlKHt9LGYpKV0pXTtjYXNlIDM6cmV0dXJuIHY9dC5zZW50KCksWzMsNV07Y2FzZSA0OnJldHVybiB3PXQuc2VudCgpLGgucG9zdE1lc3NhZ2Uoe2Vycm9yOncubWVzc2FnZX0pLFsyXTtjYXNlIDU6cmV0dXJuIHY/WzQsdi5qc29uKCldOihkJiZkLmFib3J0KCksaC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KSxbMl0pO2Nhc2UgNjpyZXR1cm4ocj10LnNlbnQoKSkucmVmcmVzaF90b2tlbj8oZnVuY3Rpb24oZSxyLHQpe25bbyhyLHQpXT1lfShyLnJlZnJlc2hfdG9rZW4scyxwKSxkZWxldGUgci5yZWZyZXNoX3Rva2VuKTpmdW5jdGlvbihlLHIpe2RlbGV0ZSBuW28oZSxyKV19KHMscCksaC5wb3N0TWVzc2FnZSh7b2s6di5vayxqc29uOnJ9KSxbMyw4XTtjYXNlIDc6cmV0dXJuIGc9dC5zZW50KCksaC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3JfZGVzY3JpcHRpb246Zy5tZXNzYWdlfX0pLFszLDhdO2Nhc2UgODpyZXR1cm5bMl19dmFyIG0sayxTLF99KSl9KSl9KSl9KCk7Cgo=",null,!1,function(e){return uf=uf||function(e,t,n){var r=void 0===t?null:t,i=function(e,t){var n=atob(e);if(t){for(var r=new Uint8Array(n.length),i=0,o=n.length;i<o;++i)r[i]=n.charCodeAt(i);return String.fromCharCode.apply(null,new Uint16Array(r.buffer))}return n}(e,void 0!==n&&n),o=i.indexOf("\n",10)+1,a=i.substring(o)+(r?"//# sourceMappingURL="+r:""),s=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(s)}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uCgogICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55CiAgICBwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuCgogICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEgKICAgIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWQogICAgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULAogICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NCiAgICBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUgogICAgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUgogICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS4KICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyLHQsbil7cmV0dXJuIG5ldyh0fHwodD1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8sYSl7ZnVuY3Rpb24gcyhlKXt0cnl7dShuLm5leHQoZSkpfWNhdGNoKGUpe2EoZSl9fWZ1bmN0aW9uIGkoZSl7dHJ5e3Uobi50aHJvdyhlKSl9Y2F0Y2goZSl7YShlKX19ZnVuY3Rpb24gdShlKXt2YXIgcjtlLmRvbmU/byhlLnZhbHVlKToocj1lLnZhbHVlLHIgaW5zdGFuY2VvZiB0P3I6bmV3IHQoKGZ1bmN0aW9uKGUpe2Uocil9KSkpLnRoZW4ocyxpKX11KChuPW4uYXBwbHkoZSxyfHxbXSkpLm5leHQoKSl9KSl9ZnVuY3Rpb24gdChlLHIpe3ZhciB0LG4sbyxhLHM9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGE9e25leHQ6aSgwKSx0aHJvdzppKDEpLHJldHVybjppKDIpfSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYoYVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxhO2Z1bmN0aW9uIGkoYSl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBmdW5jdGlvbihhKXtpZih0KXRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTtmb3IoO3M7KXRyeXtpZih0PTEsbiYmKG89MiZhWzBdP24ucmV0dXJuOmFbMF0/bi50aHJvd3x8KChvPW4ucmV0dXJuKSYmby5jYWxsKG4pLDApOm4ubmV4dCkmJiEobz1vLmNhbGwobixhWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2gobj0wLG8mJihhPVsyJmFbMF0sby52YWx1ZV0pLGFbMF0pe2Nhc2UgMDpjYXNlIDE6bz1hO2JyZWFrO2Nhc2UgNDpyZXR1cm4gcy5sYWJlbCsrLHt2YWx1ZTphWzFdLGRvbmU6ITF9O2Nhc2UgNTpzLmxhYmVsKyssbj1hWzFdLGE9WzBdO2NvbnRpbnVlO2Nhc2UgNzphPXMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1zLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1hWzBdJiYyIT09YVswXSkpe3M9MDtjb250aW51ZX1pZigzPT09YVswXSYmKCFvfHxhWzFdPm9bMF0mJmFbMV08b1szXSkpe3MubGFiZWw9YVsxXTticmVha31pZig2PT09YVswXSYmcy5sYWJlbDxvWzFdKXtzLmxhYmVsPW9bMV0sbz1hO2JyZWFrfWlmKG8mJnMubGFiZWw8b1syXSl7cy5sYWJlbD1vWzJdLHMub3BzLnB1c2goYSk7YnJlYWt9b1syXSYmcy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlfWE9ci5jYWxsKGUscyl9Y2F0Y2goZSl7YT1bNixlXSxuPTB9ZmluYWxseXt0PW89MH1pZig1JmFbMF0pdGhyb3cgYVsxXTtyZXR1cm57dmFsdWU6YVswXT9hWzFdOnZvaWQgMCxkb25lOiEwfX0oW2EsaV0pfX19dmFyIG49e30sbz1mdW5jdGlvbihlLHIpe3JldHVybiBlKyJ8IityfTthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoZnVuY3Rpb24oYSl7dmFyIHM9YS5kYXRhLGk9cy50aW1lb3V0LHU9cy5hdXRoLGM9cy5mZXRjaFVybCxmPXMuZmV0Y2hPcHRpb25zLGw9cy51c2VGb3JtRGF0YSxoPWZ1bmN0aW9uKGUscil7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdO2lmKCF0KXJldHVybiBlO3ZhciBuLG8sYT10LmNhbGwoZSkscz1bXTt0cnl7Zm9yKDsodm9pZCAwPT09cnx8ci0tID4wKSYmIShuPWEubmV4dCgpKS5kb25lOylzLnB1c2gobi52YWx1ZSl9Y2F0Y2goZSl7bz17ZXJyb3I6ZX19ZmluYWxseXt0cnl7biYmIW4uZG9uZSYmKHQ9YS5yZXR1cm4pJiZ0LmNhbGwoYSl9ZmluYWxseXtpZihvKXRocm93IG8uZXJyb3J9fXJldHVybiBzfShhLnBvcnRzLDEpWzBdO3JldHVybiByKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByLGEscyxwLHksYixkLHYsdyxnO3JldHVybiB0KHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cz0oYT11fHx7fSkuYXVkaWVuY2UscD1hLnNjb3BlLHQubGFiZWw9MTtjYXNlIDE6aWYodC50cnlzLnB1c2goWzEsNywsOF0pLCEoeT1sPyhrPWYuYm9keSxTPW5ldyBVUkxTZWFyY2hQYXJhbXMoayksXz17fSxTLmZvckVhY2goKGZ1bmN0aW9uKGUscil7X1tyXT1lfSkpLF8pOkpTT04ucGFyc2UoZi5ib2R5KSkucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09eS5ncmFudF90eXBlKXtpZighKGI9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gbltvKGUscildfShzLHApKSl0aHJvdyBuZXcgRXJyb3IoIlRoZSB3ZWIgd29ya2VyIGlzIG1pc3NpbmcgdGhlIHJlZnJlc2ggdG9rZW4iKTtmLmJvZHk9bD9uZXcgVVJMU2VhcmNoUGFyYW1zKGUoZSh7fSx5KSx7cmVmcmVzaF90b2tlbjpifSkpLnRvU3RyaW5nKCk6SlNPTi5zdHJpbmdpZnkoZShlKHt9LHkpLHtyZWZyZXNoX3Rva2VuOmJ9KSl9ZD12b2lkIDAsImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGQ9bmV3IEFib3J0Q29udHJvbGxlcixmLnNpZ25hbD1kLnNpZ25hbCksdj12b2lkIDAsdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gdC50cnlzLnB1c2goWzIsNCwsNV0pLFs0LFByb21pc2UucmFjZShbKG09aSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHNldFRpbWVvdXQoZSxtKX0pKSksZmV0Y2goYyxlKHt9LGYpKV0pXTtjYXNlIDM6cmV0dXJuIHY9dC5zZW50KCksWzMsNV07Y2FzZSA0OnJldHVybiB3PXQuc2VudCgpLGgucG9zdE1lc3NhZ2Uoe2Vycm9yOncubWVzc2FnZX0pLFsyXTtjYXNlIDU6cmV0dXJuIHY/WzQsdi5qc29uKCldOihkJiZkLmFib3J0KCksaC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KSxbMl0pO2Nhc2UgNjpyZXR1cm4ocj10LnNlbnQoKSkucmVmcmVzaF90b2tlbj8oZnVuY3Rpb24oZSxyLHQpe25bbyhyLHQpXT1lfShyLnJlZnJlc2hfdG9rZW4scyxwKSxkZWxldGUgci5yZWZyZXNoX3Rva2VuKTpmdW5jdGlvbihlLHIpe2RlbGV0ZSBuW28oZSxyKV19KHMscCksaC5wb3N0TWVzc2FnZSh7b2s6di5vayxqc29uOnJ9KSxbMyw4XTtjYXNlIDc6cmV0dXJuIGc9dC5zZW50KCksaC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3JfZGVzY3JpcHRpb246Zy5tZXNzYWdlfX0pLFszLDhdO2Nhc2UgODpyZXR1cm5bMl19dmFyIG0sayxTLF99KSl9KSl9KSl9KCk7Cgo=",null,false),new Worker(uf,e)}),lf={},ff=function(){function e(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}return e.prototype.add=function(e){var t;return xr(this,void 0,void 0,(function(){var n,r;return Cr(this,(function(i){switch(i.label){case 0:return r=Set.bind,[4,this.cache.get(this.manifestKey)];case 1:return(n=new(r.apply(Set,[void 0,(null===(t=i.sent())||void 0===t?void 0:t.keys)||[]]))).add(e),[4,this.cache.set(this.manifestKey,{keys:Pr([],Nr(n),!1)})];case 2:return i.sent(),[2]}}))}))},e.prototype.remove=function(e){return xr(this,void 0,void 0,(function(){var t,n;return Cr(this,(function(r){switch(r.label){case 0:return[4,this.cache.get(this.manifestKey)];case 1:return(t=r.sent())?((n=new Set(t.keys)).delete(e),n.size>0?[4,this.cache.set(this.manifestKey,{keys:Pr([],Nr(n),!1)})]:[3,3]):[3,5];case 2:case 4:return[2,r.sent()];case 3:return[4,this.cache.remove(this.manifestKey)];case 5:return[2]}}))}))},e.prototype.get=function(){return this.cache.get(this.manifestKey)},e.prototype.clear=function(){return this.cache.remove(this.manifestKey)},e.prototype.createManifestKeyFrom=function(e){return"@@auth0spajs@@::"+e},e}(),hf=new yl,df={memory:function(){return(new Yl).enclosedCache},localstorage:function(){return new Gl}},pf=function(e){return df[e]},vf=function(){function e(e){var t,n,r;if(this.options=e,"undefined"!=typeof window&&function(){if(!Pl())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===Ol())throw new Error("\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    ")}(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)r=e.cache;else{if(this.cacheLocation=e.cacheLocation||"memory",!pf(this.cacheLocation))throw new Error('Invalid cache location "'+this.cacheLocation+'"');r=pf(this.cacheLocation)()}this.cookieStorage=!1===e.legacySameSiteCookie?of:af,this.orgHintCookieName="auth0."+this.options.client_id+".organization_hint",this.isAuthenticatedCookieName=function(e){return"auth0."+e+".is.authenticated"}(this.options.client_id),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;var i,o=e.useCookiesForTransactions?this.cookieStorage:sf;this.scope=this.options.scope,this.transactionManager=new Ql(o,this.options.client_id),this.nowProvider=this.options.nowProvider||El,this.cacheManager=new Xl(r,r.allKeys?null:new ff(r,this.options.client_id),this.nowProvider),this.domainUrl=(i=this.options.domain,/^https?:\/\//.test(i)?i:"https://"+i),this.tokenIssuer=function(e,t){return e?e.startsWith("https://")?e:"https://"+e+"/":t+"/"}(this.options.issuer,this.domainUrl),this.defaultScope=Wl("openid",void 0!==(null===(n=null===(t=this.options)||void 0===t?void 0:t.advancedOptions)||void 0===n?void 0:n.defaultScope)?this.options.advancedOptions.defaultScope:"openid profile email"),this.options.useRefreshTokens&&(this.scope=Wl(this.scope,"offline_access")),"undefined"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&"memory"===this.cacheLocation&&!/Trident.*rv:11\.0/.test(navigator.userAgent)&&(this.worker=new cf),this.customOptions=function(e){return e.advancedOptions,e.audience,e.auth0Client,e.authorizeTimeoutInSeconds,e.cacheLocation,e.client_id,e.domain,e.issuer,e.leeway,e.max_age,e.redirect_uri,e.scope,e.useRefreshTokens,e.useCookiesForTransactions,e.useFormData,Tr(e,["advancedOptions","audience","auth0Client","authorizeTimeoutInSeconds","cacheLocation","client_id","domain","issuer","leeway","max_age","redirect_uri","scope","useRefreshTokens","useCookiesForTransactions","useFormData"])}(e)}return e.prototype._url=function(e){var t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||_l)));return""+this.domainUrl+e+"&auth0Client="+t},e.prototype._getParams=function(e,t,n,r,i){var o=this.options;o.useRefreshTokens,o.useCookiesForTransactions,o.useFormData,o.auth0Client,o.cacheLocation,o.advancedOptions,o.detailedResponse,o.nowProvider,o.authorizeTimeoutInSeconds,o.legacySameSiteCookie,o.sessionCheckExpiryDays,o.domain,o.leeway;var a=Tr(o,["useRefreshTokens","useCookiesForTransactions","useFormData","auth0Client","cacheLocation","advancedOptions","detailedResponse","nowProvider","authorizeTimeoutInSeconds","legacySameSiteCookie","sessionCheckExpiryDays","domain","leeway"]);return Sr(Sr(Sr({},a),e),{scope:Wl(this.defaultScope,this.scope,e.scope),response_type:"code",response_mode:"query",state:t,nonce:n,redirect_uri:i||this.options.redirect_uri,code_challenge:r,code_challenge_method:"S256"})},e.prototype._authorizeUrl=function(e){return this._url("/authorize?"+Dl(e))},e.prototype._verifyIdToken=function(e,t,n){return xr(this,void 0,void 0,(function(){var r;return Cr(this,(function(i){switch(i.label){case 0:return[4,this.nowProvider()];case 1:return r=i.sent(),[2,$l({iss:this.tokenIssuer,aud:this.options.client_id,id_token:e,nonce:t,organizationId:n,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age),now:r})]}}))}))},e.prototype._parseNumber=function(e){return"string"!=typeof e?e:parseInt(e,10)||void 0},e.prototype._processOrgIdHint=function(e){e?this.cookieStorage.save(this.orgHintCookieName,e):this.cookieStorage.remove(this.orgHintCookieName)},e.prototype.buildAuthorizeUrl=function(e){return void 0===e&&(e={}),xr(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,f,h;return Cr(this,(function(d){switch(d.label){case 0:return t=e.redirect_uri,n=e.appState,r=Tr(e,["redirect_uri","appState"]),i=Rl(Al()),o=Rl(Al()),a=Al(),[4,jl(a)];case 1:return s=d.sent(),u=Ml(s),c=e.fragment?"#"+e.fragment:"",l=this._getParams(r,i,o,u,t),f=this._authorizeUrl(l),h=e.organization||this.options.organization,this.transactionManager.create(Sr({nonce:o,code_verifier:a,appState:n,scope:l.scope,audience:l.audience||"default",redirect_uri:l.redirect_uri,state:i},h&&{organizationId:h})),[2,f+c]}}))}))},e.prototype.loginWithPopup=function(e,t){return xr(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,h,d,p;return Cr(this,(function(v){switch(v.label){case 0:return e=e||{},(t=t||{}).popup||(t.popup=function(e){var t=window.screenX+(window.innerWidth-400)/2,n=window.screenY+(window.innerHeight-600)/2;return window.open("","auth0:authorize:popup","left="+t+",top="+n+",width=400,height=600,resizable,scrollbars=yes,status=1")}()),n=Tr(e,[]),r=Rl(Al()),i=Rl(Al()),o=Al(),[4,jl(o)];case 1:return a=v.sent(),s=Ml(a),u=this._getParams(n,r,i,s,this.options.redirect_uri||window.location.origin),c=this._authorizeUrl(Sr(Sr({},u),{response_mode:"web_message"})),t.popup.location.href=c,[4,Nl(Sr(Sr({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(l=v.sent(),r!==l.state)throw new Error("Invalid state");return[4,Kl({audience:u.audience,scope:u.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:o,code:l.code,grant_type:"authorization_code",redirect_uri:u.redirect_uri,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData},this.worker)];case 3:return f=v.sent(),h=e.organization||this.options.organization,[4,this._verifyIdToken(f.id_token,i,h)];case 4:return d=v.sent(),p=Sr(Sr({},f),{decodedToken:d,scope:u.scope,audience:u.audience||"default",client_id:this.options.client_id}),[4,this.cacheManager.set(p)];case 5:return v.sent(),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays}),this._processOrgIdHint(d.claims.org_id),[2]}}))}))},e.prototype.getUser=function(e){return void 0===e&&(e={}),xr(this,void 0,void 0,(function(){var t,n,r;return Cr(this,(function(i){switch(i.label){case 0:return t=e.audience||this.options.audience||"default",n=Wl(this.defaultScope,this.scope,e.scope),[4,this.cacheManager.get(new Hl({client_id:this.options.client_id,audience:t,scope:n}))];case 1:return[2,(r=i.sent())&&r.decodedToken&&r.decodedToken.user]}}))}))},e.prototype.getIdTokenClaims=function(e){return void 0===e&&(e={}),xr(this,void 0,void 0,(function(){var t,n,r;return Cr(this,(function(i){switch(i.label){case 0:return t=e.audience||this.options.audience||"default",n=Wl(this.defaultScope,this.scope,e.scope),[4,this.cacheManager.get(new Hl({client_id:this.options.client_id,audience:t,scope:n}))];case 1:return[2,(r=i.sent())&&r.decodedToken&&r.decodedToken.claims]}}))}))},e.prototype.loginWithRedirect=function(e){return void 0===e&&(e={}),xr(this,void 0,void 0,(function(){var t,n,r;return Cr(this,(function(i){switch(i.label){case 0:return t=e.redirectMethod,n=Tr(e,["redirectMethod"]),[4,this.buildAuthorizeUrl(n)];case 1:return r=i.sent(),window.location[t||"assign"](r),[2]}}))}))},e.prototype.handleRedirectCallback=function(e){return void 0===e&&(e=window.location.href),xr(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l;return Cr(this,(function(f){switch(f.label){case 0:if(0===(t=e.split("?").slice(1)).length)throw new Error("There are no query params available for parsing.");if(n=function(e){e.indexOf("#")>-1&&(e=e.substr(0,e.indexOf("#")));var t=e.split("&"),n={};return t.forEach((function(e){var t=Nr(e.split("="),2),r=t[0],i=t[1];n[r]=decodeURIComponent(i)})),n.expires_in&&(n.expires_in=parseInt(n.expires_in)),n}(t.join("")),r=n.state,i=n.code,o=n.error,a=n.error_description,!(s=this.transactionManager.get()))throw new Error("Invalid state");if(this.transactionManager.remove(),o)throw new Il(o,a,r,s.appState);if(!s.code_verifier||s.state&&s.state!==r)throw new Error("Invalid state");return u={audience:s.audience,scope:s.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:s.code_verifier,grant_type:"authorization_code",code:i,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData},void 0!==s.redirect_uri&&(u.redirect_uri=s.redirect_uri),[4,Kl(u,this.worker)];case 1:return c=f.sent(),[4,this._verifyIdToken(c.id_token,s.nonce,s.organizationId)];case 2:return l=f.sent(),[4,this.cacheManager.set(Sr(Sr(Sr(Sr({},c),{decodedToken:l,audience:s.audience,scope:s.scope}),c.scope?{oauthTokenScope:c.scope}:null),{client_id:this.options.client_id}))];case 3:return f.sent(),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays}),this._processOrgIdHint(l.claims.org_id),[2,{appState:s.appState}]}}))}))},e.prototype.checkSession=function(e){return xr(this,void 0,void 0,(function(){var t;return Cr(this,(function(n){switch(n.label){case 0:if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return[2];this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays}),this.cookieStorage.remove("auth0.is.authenticated")}n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.getTokenSilently(e)];case 2:return n.sent(),[3,4];case 3:if(t=n.sent(),!wl.includes(t.error))throw t;return[3,4];case 4:return[2]}}))}))},e.prototype.getTokenSilently=function(e){return void 0===e&&(e={}),xr(this,void 0,void 0,(function(){var t,n,r,i=this;return Cr(this,(function(o){return t=Sr(Sr({audience:this.options.audience,ignoreCache:!1},e),{scope:Wl(this.defaultScope,this.scope,e.scope)}),n=t.ignoreCache,r=Tr(t,["ignoreCache"]),[2,(a=function(){return i._getTokenSilently(Sr({ignoreCache:n},r))},s=this.options.client_id+"::"+r.audience+"::"+r.scope,u=lf[s],u||(u=a().finally((function(){delete lf[s],u=null})),lf[s]=u),u)];var a,s,u}))}))},e.prototype._getTokenSilently=function(e){return void 0===e&&(e={}),xr(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c;return Cr(this,(function(l){switch(l.label){case 0:return t=e.ignoreCache,n=Tr(e,["ignoreCache"]),t?[3,2]:[4,this._getEntryFromCache({scope:n.scope,audience:n.audience||"default",client_id:this.options.client_id,getDetailedEntry:e.detailedResponse})];case 1:if(r=l.sent())return[2,r];l.label=2;case 2:return[4,(f=function(){return hf.acquireLock("auth0.lock.getTokenSilently",5e3)},h=10,void 0===h&&(h=3),xr(void 0,void 0,void 0,(function(){var e;return Cr(this,(function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<h?[4,f()]:[3,4];case 2:if(t.sent())return[2,!0];t.label=3;case 3:return e++,[3,1];case 4:return[2,!1]}}))})))];case 3:if(!l.sent())return[3,15];l.label=4;case 4:return l.trys.push([4,,12,14]),t?[3,6]:[4,this._getEntryFromCache({scope:n.scope,audience:n.audience||"default",client_id:this.options.client_id,getDetailedEntry:e.detailedResponse})];case 5:if(r=l.sent())return[2,r];l.label=6;case 6:return this.options.useRefreshTokens?[4,this._getTokenUsingRefreshToken(n)]:[3,8];case 7:return o=l.sent(),[3,10];case 8:return[4,this._getTokenFromIFrame(n)];case 9:o=l.sent(),l.label=10;case 10:return i=o,[4,this.cacheManager.set(Sr({client_id:this.options.client_id},i))];case 11:return l.sent(),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays}),e.detailedResponse?(a=i.id_token,s=i.access_token,u=i.oauthTokenScope,c=i.expires_in,[2,Sr(Sr({id_token:a,access_token:s},u?{scope:u}:null),{expires_in:c})]):[2,i.access_token];case 12:return[4,hf.releaseLock("auth0.lock.getTokenSilently")];case 13:return l.sent(),[7];case 14:return[3,16];case 15:throw new Sl;case 16:return[2]}var f,h}))}))},e.prototype.getTokenWithPopup=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),xr(this,void 0,void 0,(function(){return Cr(this,(function(n){switch(n.label){case 0:return e.audience=e.audience||this.options.audience,e.scope=Wl(this.defaultScope,this.scope,e.scope),t=Sr(Sr({},bl),t),[4,this.loginWithPopup(e,t)];case 1:return n.sent(),[4,this.cacheManager.get(new Hl({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id}))];case 2:return[2,n.sent().access_token]}}))}))},e.prototype.isAuthenticated=function(){return xr(this,void 0,void 0,(function(){return Cr(this,(function(e){switch(e.label){case 0:return[4,this.getUser()];case 1:return[2,!!e.sent()]}}))}))},e.prototype.buildLogoutUrl=function(e){void 0===e&&(e={}),null!==e.client_id?e.client_id=e.client_id||this.options.client_id:delete e.client_id;var t=e.federated,n=Tr(e,["federated"]),r=t?"&federated":"";return this._url("/v2/logout?"+Dl(n))+r},e.prototype.logout=function(e){var t=this;void 0===e&&(e={});var n=e.localOnly,r=Tr(e,["localOnly"]);if(n&&r.federated)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");var i=function(){if(t.cookieStorage.remove(t.orgHintCookieName),t.cookieStorage.remove(t.isAuthenticatedCookieName),!n){var e=t.buildLogoutUrl(r);window.location.assign(e)}};if(this.options.cache)return this.cacheManager.clear().then((function(){return i()}));this.cacheManager.clearSync(),i()},e.prototype._getTokenFromIFrame=function(e){return xr(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,f,h,d,p,v,m,g;return Cr(this,(function(y){switch(y.label){case 0:return t=Rl(Al()),n=Rl(Al()),r=Al(),[4,jl(r)];case 1:i=y.sent(),o=Ml(i),a=Tr(e,["detailedResponse"]),s=this._getParams(a,t,n,o,e.redirect_uri||this.options.redirect_uri||window.location.origin),(u=this.cookieStorage.get(this.orgHintCookieName))&&!s.organization&&(s.organization=u),c=this._authorizeUrl(Sr(Sr({},s),{prompt:"none",response_mode:"web_message"})),l=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,y.label=2;case 2:if(y.trys.push([2,6,,7]),window.crossOriginIsolated)throw new kl("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");return[4,(b=c,w=this.domainUrl,_=l,void 0===_&&(_=60),new Promise((function(e,t){var n=window.document.createElement("iframe");n.setAttribute("width","0"),n.setAttribute("height","0"),n.style.display="none";var r,i=function(){window.document.body.contains(n)&&(window.document.body.removeChild(n),window.removeEventListener("message",r,!1))},o=setTimeout((function(){t(new Sl),i()}),1e3*_);r=function(n){if(n.origin==w&&n.data&&"authorization_response"===n.data.type){var a=n.source;a&&a.close(),n.data.response.error?t(kl.fromPayload(n.data.response)):e(n.data.response),clearTimeout(o),window.removeEventListener("message",r,!1),setTimeout(i,2e3)}},window.addEventListener("message",r,!1),window.document.body.appendChild(n),n.setAttribute("src",b)})))];case 3:if(f=y.sent(),t!==f.state)throw new Error("Invalid state");return h=e.scope,d=e.audience,p=Tr(e,["scope","audience","redirect_uri","ignoreCache","timeoutInSeconds","detailedResponse"]),[4,Kl(Sr(Sr(Sr({},this.customOptions),p),{scope:h,audience:d,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:r,code:f.code,grant_type:"authorization_code",redirect_uri:s.redirect_uri,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData}),this.worker)];case 4:return v=y.sent(),[4,this._verifyIdToken(v.id_token,n)];case 5:return m=y.sent(),this._processOrgIdHint(m.claims.org_id),[2,Sr(Sr({},v),{decodedToken:m,scope:s.scope,oauthTokenScope:v.scope,audience:s.audience||"default"})];case 6:throw"login_required"===(g=y.sent()).error&&this.logout({localOnly:!0}),g;case 7:return[2]}var b,w,_}))}))},e.prototype._getTokenUsingRefreshToken=function(e){return xr(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c;return Cr(this,(function(l){switch(l.label){case 0:return e.scope=Wl(this.defaultScope,this.options.scope,e.scope),[4,this.cacheManager.get(new Hl({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id}))];case 1:return(t=l.sent())&&t.refresh_token||this.worker?[3,3]:[4,this._getTokenFromIFrame(e)];case 2:return[2,l.sent()];case 3:n=e.redirect_uri||this.options.redirect_uri||window.location.origin,i=e.scope,o=e.audience,a=Tr(e,["scope","audience","ignoreCache","timeoutInSeconds","detailedResponse"]),s="number"==typeof e.timeoutInSeconds?1e3*e.timeoutInSeconds:null,l.label=4;case 4:return l.trys.push([4,6,,9]),[4,Kl(Sr(Sr(Sr(Sr(Sr({},this.customOptions),a),{audience:o,scope:i,baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:n}),s&&{timeout:s}),{auth0Client:this.options.auth0Client,useFormData:this.options.useFormData}),this.worker)];case 5:return r=l.sent(),[3,9];case 6:return"The web worker is missing the refresh token"===(u=l.sent()).message||u.message&&u.message.indexOf("invalid refresh token")>-1?[4,this._getTokenFromIFrame(e)]:[3,8];case 7:return[2,l.sent()];case 8:throw u;case 9:return[4,this._verifyIdToken(r.id_token)];case 10:return c=l.sent(),[2,Sr(Sr({},r),{decodedToken:c,scope:e.scope,oauthTokenScope:r.scope,audience:e.audience||"default"})]}}))}))},e.prototype._getEntryFromCache=function(e){var t=e.scope,n=e.audience,r=e.client_id,i=e.getDetailedEntry,o=void 0!==i&&i;return xr(this,void 0,void 0,(function(){var e,i,a,s,u;return Cr(this,(function(c){switch(c.label){case 0:return[4,this.cacheManager.get(new Hl({scope:t,audience:n,client_id:r}),60)];case 1:return(e=c.sent())&&e.access_token?o?(i=e.id_token,a=e.access_token,s=e.oauthTokenScope,u=e.expires_in,[2,Sr(Sr({id_token:i,access_token:a},s?{scope:s}:null),{expires_in:u})]):[2,e.access_token]:[2]}}))}))},e}(),mf={isAuthenticated:!1,isLoading:!0},gf=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},yf=br(br({},mf),{buildAuthorizeUrl:gf,buildLogoutUrl:gf,getAccessTokenSilently:gf,getAccessTokenWithPopup:gf,getIdTokenClaims:gf,loginWithRedirect:gf,loginWithPopup:gf,logout:gf,handleRedirectCallback:gf}),bf=(0,e.createContext)(yf),wf=function(e){function t(t,n){var r=e.call(this,n||t)||this;return r.error=t,r.error_description=n,r}return function(e,t){function n(){this.constructor=e}yr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),_f=/[?&]code=[^&]+/,Ef=/[?&]state=[^&]+/,kf=/[?&]error=[^&]+/,If=function(e){return function(t){return"error"in t?new wf(t.error,t.error_description):t instanceof Error?t:new Error(e)}},Sf=If("Login failed"),Tf=If("Get access token failed"),xf=function(e,t){var n,r;switch(t.type){case"LOGIN_POPUP_STARTED":return br(br({},e),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return br(br({},e),{isAuthenticated:!!t.user,user:t.user,isLoading:!1,error:void 0});case"HANDLE_REDIRECT_COMPLETE":case"GET_ACCESS_TOKEN_COMPLETE":return(null===(n=e.user)||void 0===n?void 0:n.updated_at)===(null===(r=t.user)||void 0===r?void 0:r.updated_at)?e:br(br({},e),{isAuthenticated:!!t.user,user:t.user});case"LOGOUT":return br(br({},e),{isAuthenticated:!1,user:void 0});case"ERROR":return br(br({},e),{isLoading:!1,error:t.error})}},Cf=function(e){if(e){var t=e.redirectUri,n=wr(e,["redirectUri"]);return br(br({},n),{redirect_uri:t})}},Nf=function(e){window.history.replaceState({},document.title,(null===e||void 0===e?void 0:e.returnTo)||window.location.pathname)},Pf=function(t){var n=t.children,r=t.skipRedirectCallback,i=t.onRedirectCallback,o=void 0===i?Nf:i,a=wr(t,["children","skipRedirectCallback","onRedirectCallback"]),s=(0,e.useState)((function(){return new vf(function(e){var t=e.clientId,n=e.redirectUri,r=e.maxAge,i=wr(e,["clientId","redirectUri","maxAge"]);return br(br({},i),{client_id:t,redirect_uri:n,max_age:r,auth0Client:{name:"auth0-react",version:"1.9.0"}})}(a))}))[0],u=(0,e.useReducer)(xf,mf),c=u[0],l=u[1];(0,e.useEffect)((function(){_r(void 0,void 0,void 0,(function(){var e,t,n;return Er(this,(function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),void 0===a&&(a=window.location.search),!_f.test(a)&&!kf.test(a)||!Ef.test(a)||r?[3,2]:[4,s.handleRedirectCallback()];case 1:return e=i.sent().appState,o(e),[3,4];case 2:return[4,s.checkSession()];case 3:i.sent(),i.label=4;case 4:return[4,s.getUser()];case 5:return t=i.sent(),l({type:"INITIALISED",user:t}),[3,7];case 6:return n=i.sent(),l({type:"ERROR",error:Sf(n)}),[3,7];case 7:return[2]}var a}))}))}),[s,o,r]);var f=(0,e.useCallback)((function(e){return s.buildAuthorizeUrl(Cf(e))}),[s]),h=(0,e.useCallback)((function(e){return s.buildLogoutUrl(e)}),[s]),d=(0,e.useCallback)((function(e){return s.loginWithRedirect(Cf(e))}),[s]),p=(0,e.useCallback)((function(e,t){return _r(void 0,void 0,void 0,(function(){var n,r;return Er(this,(function(i){switch(i.label){case 0:l({type:"LOGIN_POPUP_STARTED"}),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,s.loginWithPopup(e,t)];case 2:return i.sent(),[3,4];case 3:return n=i.sent(),l({type:"ERROR",error:Sf(n)}),[2];case 4:return[4,s.getUser()];case 5:return r=i.sent(),l({type:"LOGIN_POPUP_COMPLETE",user:r}),[2]}}))}))}),[s]),v=(0,e.useCallback)((function(e){void 0===e&&(e={});var t=s.logout(e);if(e.localOnly){if(t&&"function"===typeof t.then)return t.then((function(){return l({type:"LOGOUT"})}));l({type:"LOGOUT"})}return t}),[s]),m=(0,e.useCallback)((function(e){return _r(void 0,void 0,void 0,(function(){var t,n,r,i;return Er(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,3,5]),[4,s.getTokenSilently(e)];case 1:return t=o.sent(),[3,5];case 2:throw n=o.sent(),Tf(n);case 3:return r=l,i={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,s.getUser()];case 4:return r.apply(void 0,[(i.user=o.sent(),i)]),[7];case 5:return[2,t]}}))}))}),[s]),g=(0,e.useCallback)((function(e,t){return _r(void 0,void 0,void 0,(function(){var n,r,i,o;return Er(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,3,5]),[4,s.getTokenWithPopup(e,t)];case 1:return n=a.sent(),[3,5];case 2:throw r=a.sent(),Tf(r);case 3:return i=l,o={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,s.getUser()];case 4:return i.apply(void 0,[(o.user=a.sent(),o)]),[7];case 5:return[2,n]}}))}))}),[s]),y=(0,e.useCallback)((function(e){return s.getIdTokenClaims(e)}),[s]),b=(0,e.useCallback)((function(e){return _r(void 0,void 0,void 0,(function(){var t,n,r;return Er(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,5]),[4,s.handleRedirectCallback(e)];case 1:return[2,i.sent()];case 2:throw t=i.sent(),Tf(t);case 3:return n=l,r={type:"HANDLE_REDIRECT_COMPLETE"},[4,s.getUser()];case 4:return n.apply(void 0,[(r.user=i.sent(),r)]),[7];case 5:return[2]}}))}))}),[s]),w=(0,e.useMemo)((function(){return br(br({},c),{buildAuthorizeUrl:f,buildLogoutUrl:h,getAccessTokenSilently:m,getAccessTokenWithPopup:g,getIdTokenClaims:y,loginWithRedirect:d,loginWithPopup:p,logout:v,handleRedirectCallback:b})}),[c,f,h,m,g,y,d,p,v,b]);return e.createElement(bf.Provider,{value:w},n)},Of=function(){return(0,e.useContext)(bf)},Af=function(){var e=Of().loginWithRedirect,t=Of().logout,n=Of(),r=n.user,i=n.isAuthenticated;n.isLoading;return(0,te.jsx)("div",{children:i?(0,te.jsxs)("div",{children:[(0,te.jsx)("img",{className:"user-photo",src:r.picture,alt:r.name}),(0,te.jsx)(G,{className:"link-unstyled text-white mx-3",to:"/Dashboard",children:(0,te.jsx)(gr,{onClick:"",className:" m-1",variant:"success",children:"Moje konto"})}),(0,te.jsx)(gr,{onClick:function(){return t({returnTo:"https://michalgornicki.github.io/cats"})},className:" m-1",variant:"success",children:"Wyloguj"})]}):(0,te.jsx)(gr,{onClick:function(){return e()},className:" m-1",variant:"success",children:"Zaloguj si\u0119"})})},Rf=function(){var e=Of(),t=(e.user,e.isAuthenticated);e.isLoading;return(0,te.jsxs)("div",{children:[(0,te.jsx)(ae,{children:(0,te.jsx)(G,{className:"link-unstyled",to:"/",children:(0,te.jsx)("div",{className:"website-name display-6 py-4 text-green text-rancho",children:"AdoptujKota.pl"})})}),(0,te.jsx)(Un,{className:"bg-green mb-4",children:(0,te.jsxs)(ae,{className:"d-flex justify-content-between",children:[(0,te.jsxs)(pr,{className:"",children:[(0,te.jsx)(pr.Link,{children:(0,te.jsx)(G,{className:"link-unstyled text-white mx-3",to:"/",children:"Znajd\u017a kota"})}),(0,te.jsx)(pr.Link,{children:(0,te.jsx)(G,{className:"link-unstyled text-white mx-3",to:"/Database",children:"Przegl\u0105daj baz\u0119"})}),t?(0,te.jsxs)("div",{className:"d-flex flex-row",children:[(0,te.jsx)(pr.Link,{children:(0,te.jsx)(G,{className:"link-unstyled text-white mx-3",to:"/Create",children:"Stw\xf3rz og\u0142oszenie"})}),(0,te.jsx)(pr.Link,{children:(0,te.jsx)(G,{className:"link-unstyled text-white mx-3",to:"/Favourite",children:"Ulubione koty"})})]}):""]}),(0,te.jsx)(pr,{className:"",children:(0,te.jsx)(Af,{})})]})})]})},Df=["as","className","type","tooltip"],jf={type:en().string,tooltip:en().bool,as:en().elementType},Lf=e.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,o=e.type,a=void 0===o?"valid":o,s=e.tooltip,u=void 0!==s&&s,c=J(e,Df);return(0,te.jsx)(r,Q(Q({},c),{},{ref:t,className:ee()(i,"".concat(a,"-").concat(u?"tooltip":"feedback"))}))}));Lf.displayName="Feedback",Lf.propTypes=jf;var Mf=Lf,Ff=e.createContext({}),Uf=["id","bsPrefix","className","type","isValid","isInvalid","as"],Vf=e.forwardRef((function(t,n){var r=t.id,i=t.bsPrefix,o=t.className,a=t.type,s=void 0===a?"checkbox":a,u=t.isValid,c=void 0!==u&&u,l=t.isInvalid,f=void 0!==l&&l,h=t.as,d=void 0===h?"input":h,p=J(t,Uf),v=(0,e.useContext)(Ff).controlId;return i=re(i,"form-check-input"),(0,te.jsx)(d,Q(Q({},p),{},{ref:n,type:s,id:r||v,className:ee()(o,i,c&&"is-valid",f&&"is-invalid")}))}));Vf.displayName="FormCheckInput";var qf=Vf,Bf=["bsPrefix","className","htmlFor"],Kf=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.htmlFor,a=J(t,Bf),s=(0,e.useContext)(Ff).controlId;return r=re(r,"form-check-label"),(0,te.jsx)("label",Q(Q({},a),{},{ref:n,htmlFor:o||s,className:ee()(i,r)}))}));Kf.displayName="FormCheckLabel";var zf=Kf;var Wf=["id","bsPrefix","bsSwitchPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],Hf=e.forwardRef((function(t,n){var r=t.id,i=t.bsPrefix,o=t.bsSwitchPrefix,a=t.inline,s=void 0!==a&&a,u=t.disabled,c=void 0!==u&&u,l=t.isValid,f=void 0!==l&&l,h=t.isInvalid,d=void 0!==h&&h,p=t.feedbackTooltip,v=void 0!==p&&p,m=t.feedback,g=t.feedbackType,y=t.className,b=t.style,w=t.title,_=void 0===w?"":w,E=t.type,k=void 0===E?"checkbox":E,I=t.label,S=t.children,T=t.as,x=void 0===T?"input":T,C=J(t,Wf);i=re(i,"form-check"),o=re(o,"form-switch");var N=(0,e.useContext)(Ff).controlId,P=(0,e.useMemo)((function(){return{controlId:r||N}}),[N,r]),O=!S&&null!=I&&!1!==I||function(t,n){return e.Children.toArray(t).some((function(t){return e.isValidElement(t)&&t.type===n}))}(S,zf),A=(0,te.jsx)(qf,Q(Q({},C),{},{type:"switch"===k?"checkbox":k,ref:n,isValid:f,isInvalid:d,disabled:c,as:x}));return(0,te.jsx)(Ff.Provider,{value:P,children:(0,te.jsx)("div",{style:b,className:ee()(y,O&&i,s&&"".concat(i,"-inline"),"switch"===k&&o),children:S||(0,te.jsxs)(te.Fragment,{children:[A,O&&(0,te.jsx)(zf,{title:_,children:I}),m&&(0,te.jsx)(Mf,{type:g,tooltip:v,children:m})]})})})}));Hf.displayName="FormCheck";var Gf=Object.assign(Hf,{Input:qf,Label:zf}),Yf=(n(391),["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]),Xf=e.forwardRef((function(t,n){var r,i,o=t.bsPrefix,a=t.type,s=t.size,u=t.htmlSize,c=t.id,l=t.className,f=t.isValid,h=void 0!==f&&f,d=t.isInvalid,p=void 0!==d&&d,v=t.plaintext,m=t.readOnly,g=t.as,y=void 0===g?"input":g,b=J(t,Yf),w=(0,e.useContext)(Ff).controlId;(o=re(o,"form-control"),v)?r=Y({},"".concat(o,"-plaintext"),!0):(Y(i={},o,!0),Y(i,"".concat(o,"-").concat(s),s),r=i);return(0,te.jsx)(y,Q(Q({},b),{},{type:a,size:u,ref:n,readOnly:m,id:c||w,className:ee()(l,r,h&&"is-valid",p&&"is-invalid","color"===a&&"".concat(o,"-color"))}))}));Xf.displayName="FormControl";var Qf=Object.assign(Xf,{Feedback:Mf}),Zf=ye("form-floating"),Jf=["controlId","as"],$f=e.forwardRef((function(t,n){var r=t.controlId,i=t.as,o=void 0===i?"div":i,a=J(t,Jf),s=(0,e.useMemo)((function(){return{controlId:r}}),[r]);return(0,te.jsx)(Ff.Provider,{value:s,children:(0,te.jsx)(o,Q(Q({},a),{},{ref:n}))})}));$f.displayName="FormGroup";var eh=$f,th=["as","bsPrefix","className"],nh=["className"],rh=["xxl","xl","lg","md","sm","xs"];var ih=e.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=J(e,th);n=re(n,"col");var o=[],a=[];return rh.forEach((function(e){var t,r,s,u=i[e];delete i[e],"object"===typeof u&&null!=u?(t=u.span,r=u.offset,s=u.order):t=u;var c="xs"!==e?"-".concat(e):"";t&&o.push(!0===t?"".concat(n).concat(c):"".concat(n).concat(c,"-").concat(t)),null!=s&&a.push("order".concat(c,"-").concat(s)),null!=r&&a.push("offset".concat(c,"-").concat(r))})),[Q(Q({},i),{},{className:ee().apply(void 0,[r].concat(o,a))}),{as:t,bsPrefix:n,spans:o}]}(e),r=o(n,2),i=r[0],a=i.className,s=J(i,nh),u=r[1],c=u.as,l=void 0===c?"div":c,f=u.bsPrefix,h=u.spans;return(0,te.jsx)(l,Q(Q({},s),{},{ref:t,className:ee()(a,!h.length&&f)}))}));ih.displayName="Col";var oh=ih,ah=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],sh=e.forwardRef((function(t,n){var r=t.as,i=void 0===r?"label":r,o=t.bsPrefix,a=t.column,s=t.visuallyHidden,u=t.className,c=t.htmlFor,l=J(t,ah),f=(0,e.useContext)(Ff).controlId;o=re(o,"form-label");var h="col-form-label";"string"===typeof a&&(h="".concat(h," ").concat(h,"-").concat(a));var d=ee()(u,o,s&&"visually-hidden",a&&h);return c=c||f,a?(0,te.jsx)(oh,Q({ref:n,as:"label",className:d,htmlFor:c},l)):(0,te.jsx)(i,Q({ref:n,className:d,htmlFor:c},l))}));sh.displayName="FormLabel",sh.defaultProps={column:!1,visuallyHidden:!1};var uh=sh,ch=["bsPrefix","className","id"],lh=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.id,a=J(t,ch),s=(0,e.useContext)(Ff).controlId;return r=re(r,"form-range"),(0,te.jsx)("input",Q(Q({},a),{},{type:"range",ref:n,className:ee()(i,r),id:o||s}))}));lh.displayName="FormRange";var fh=lh,hh=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],dh=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.size,o=t.htmlSize,a=t.className,s=t.isValid,u=void 0!==s&&s,c=t.isInvalid,l=void 0!==c&&c,f=t.id,h=J(t,hh),d=(0,e.useContext)(Ff).controlId;return r=re(r,"form-select"),(0,te.jsx)("select",Q(Q({},h),{},{size:o,ref:n,className:ee()(a,r,i&&"".concat(r,"-").concat(i),u&&"is-valid",l&&"is-invalid"),id:f||d}))}));dh.displayName="FormSelect";var ph=dh,vh=["bsPrefix","className","as","muted"],mh=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,o=void 0===i?"small":i,a=e.muted,s=J(e,vh);return n=re(n,"form-text"),(0,te.jsx)(o,Q(Q({},s),{},{ref:t,className:ee()(r,n,a&&"text-muted")}))}));mh.displayName="FormText";var gh=mh,yh=e.forwardRef((function(e,t){return(0,te.jsx)(Gf,Q(Q({},e),{},{ref:t,type:"switch"}))}));yh.displayName="Switch";var bh=Object.assign(yh,{Input:Gf.Input,Label:Gf.Label}),wh=["bsPrefix","className","children","controlId","label"],_h=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,o=e.controlId,a=e.label,s=J(e,wh);return n=re(n,"form-floating"),(0,te.jsxs)(eh,Q(Q({ref:t,className:ee()(r,n),controlId:o},s),{},{children:[i,(0,te.jsx)("label",{htmlFor:o,children:a})]}))}));_h.displayName="FloatingLabel";var Eh=_h,kh=["className","validated","as"],Ih={_ref:en().any,validated:en().bool,as:en().elementType},Sh=e.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,o=void 0===i?"form":i,a=J(e,kh);return(0,te.jsx)(o,Q(Q({},a),{},{ref:t,className:ee()(n,r&&"was-validated")}))}));Sh.displayName="Form",Sh.propTypes=Ih;var Th=Object.assign(Sh,{Group:eh,Control:Qf,Floating:Zf,Check:Gf,Switch:bh,Label:uh,Text:gh,Range:fh,Select:ph,FloatingLabel:Eh}),xh=["bsPrefix","className","variant","as"],Ch=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,o=e.as,a=void 0===o?"img":o,s=J(e,xh),u=re(n,"card-img");return(0,te.jsx)(a,Q({ref:t,className:ee()(i?"".concat(u,"-").concat(i):u,r)},s))}));Ch.displayName="CardImg";var Nh=Ch,Ph=["bsPrefix","className","as"],Oh=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.as,a=void 0===o?"div":o,s=J(t,Ph),u=re(r,"card-header"),c=(0,e.useMemo)((function(){return{cardHeaderBsPrefix:u}}),[u]);return(0,te.jsx)(rr.Provider,{value:c,children:(0,te.jsx)(a,Q(Q({ref:n},s),{},{className:ee()(i,u)}))})}));Oh.displayName="CardHeader";var Ah=Oh,Rh=["bsPrefix","className","bg","text","border","body","children","as"],Dh=hn("h5"),jh=hn("h6"),Lh=ye("card-body"),Mh=ye("card-title",{Component:Dh}),Fh=ye("card-subtitle",{Component:jh}),Uh=ye("card-link",{Component:"a"}),Vh=ye("card-text",{Component:"p"}),qh=ye("card-footer"),Bh=ye("card-img-overlay"),Kh=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,o=e.text,a=e.border,s=e.body,u=e.children,c=e.as,l=void 0===c?"div":c,f=J(e,Rh),h=re(n,"card");return(0,te.jsx)(l,Q(Q({ref:t},f),{},{className:ee()(r,h,i&&"bg-".concat(i),o&&"text-".concat(o),a&&"border-".concat(a)),children:s?(0,te.jsx)(Lh,{children:u}):u}))}));Kh.displayName="Card",Kh.defaultProps={body:!1};var zh=Object.assign(Kh,{Img:Nh,Title:Mh,Subtitle:Fh,Body:Lh,Link:Uh,Text:Vh,Header:Ah,Footer:qh,ImgOverlay:Bh}),Wh=n(574),Hh=n(706),Gh=function(t){var n=o((0,e.useState)(["Mazowieckie","Podlaskie","Lubelskie","Pomorskie","Ma\u0142opolskie","\u0141\xf3dzkie"]),2),r=n[0],i=n[1],a=o((0,e.useState)(["kotek","kotka"]),2),s=a[0],u=a[1],c=o((0,e.useState)([0,50]),2),l=c[0],f=c[1],h=o((0,e.useState)([]),2),d=h[0],p=h[1];return(0,te.jsxs)("div",{children:[(0,te.jsxs)(ae,{children:[(0,te.jsx)("div",{className:"display-6",children:"Znajd\u017a swojego towarzysza"}),(0,te.jsxs)(ae,{className:"bg-green w-75 mx-0 my-4 p-3 position-relative",children:[(0,te.jsxs)(ae,{className:"w-75 m-0",children:[(0,te.jsxs)(Th.Select,{id:"form1",className:"my-3 w-100","aria-label":"Default select example",onChange:function(e){"Polska"===e.target.value?i(["Mazowieckie","Podlaskie","Lubelskie","Pomorskie","Ma\u0142opolskie","\u0141\xf3dzkie"]):i(e.target.value)},children:[(0,te.jsx)("option",{value:"Polska",children:"Polska"}),(0,te.jsx)("option",{value:"Mazowieckie",children:"Mazowieckie"}),(0,te.jsx)("option",{value:"Lubelskie",children:"Lubelskie"}),(0,te.jsx)("option",{value:"Ma\u0142opolskie",children:"Ma\u0142opolskie"}),(0,te.jsx)("option",{value:"Pomorskie",children:"Pomorskie"}),(0,te.jsx)("option",{value:"\u0141\xf3dzkie",children:"\u0141\xf3dzkie"})]}),(0,te.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,te.jsxs)(Th.Select,{onChange:function(){var e=document.getElementById("form2");"1"===e.value?f([0,25]):"2"===e.value?f([0,2]):"3"===e.value?f([3,5]):"4"===e.value?f([6,10]):"5"===e.value&&f([11,50])},id:"form2","aria-label":"Default select example",children:[(0,te.jsx)("option",{value:"1",children:"W ka\u017cdym wieku"}),(0,te.jsx)("option",{value:"2",children:"0-2 lata"}),(0,te.jsx)("option",{value:"3",children:"3-5 lat"}),(0,te.jsx)("option",{value:"4",children:"6-10 lat"}),(0,te.jsx)("option",{value:"5",children:"11+ lat"})]}),(0,te.jsxs)(Th.Select,{onChange:function(){var e=document.getElementById("form3");"1"===e.value?u(["kotek","kotka"]):"2"===e.value?u(["kotka"]):"3"===e.value&&u(["kotek"])},id:"form3",className:"","aria-label":"Default select example",children:[(0,te.jsx)("option",{value:"1",children:"Obie p\u0142cie"}),(0,te.jsx)("option",{value:"2",children:"kotka"}),(0,te.jsx)("option",{value:"3",children:"kotek"})]})]}),(0,te.jsx)("button",{onClick:function(){var e=document.getElementById("cat-box1"),t=document.getElementById("cat-box2"),n=document.getElementById("cat-box-name");e.style.display="none",t.style.display="block",n.innerHTML="Znalezione koty:"},type:"button",className:"btn bg-success text-white w-100 my-3",children:"ZNAJD\u0179"})]}),(0,te.jsx)(ae,{children:(0,te.jsx)("img",{className:"cat-background",alt:"",src:Wh})})]})]}),(0,te.jsx)("div",{id:"cat-box-name",className:"display-6 w-75 m-auto",children:"Losowe kociaki z naszej bazy"}),(0,te.jsx)("div",{id:"cat-box1",children:(0,te.jsx)(ae,{className:"w-75 mx-5 my-4 d-flex flex-wrap fading",children:t.data0.map((function(e){return(0,te.jsxs)(zh,{className:"card card-hover",children:[(0,te.jsxs)("div",{className:"position-relative",children:[(0,te.jsx)(G,{className:"link-unstyled",to:"/profiles/"+e.id,children:(0,te.jsx)(zh.Img,{className:"card-photo",variant:"top",src:e.image})}),(0,te.jsx)("img",{className:"fav",onClick:function(){return d.includes(e.name)?"":p(d+" "+e.name)},src:Hh,alt:""})]}),(0,te.jsxs)(zh.Body,{children:[(0,te.jsx)(zh.Title,{children:e.name}),(0,te.jsx)(zh.Text,{children:e.city+", "+e.region}),(0,te.jsxs)(zh.Text,{className:"text-secondary",children:["dodane: ",e.created]})]})]})}))})}),(0,te.jsx)("div",{id:"cat-box2",children:(0,te.jsx)(ae,{className:"w-75 mx-5 my-4 d-flex flex-wrap fading",children:t.data0.filter((function(e){return r.includes(e.region)})).filter((function(e){return e.age>l[0]&&e.age<=l[1]})).filter((function(e){return s.includes(e.sex)})).map((function(e){return(0,te.jsxs)(zh,{className:"card card-hover",children:[(0,te.jsxs)("div",{className:"position-relative",children:[(0,te.jsx)(G,{className:"link-unstyled",to:"/profiles/"+e.id,children:(0,te.jsx)(zh.Img,{className:"card-photo",variant:"top",src:e.image})}),(0,te.jsx)("img",{className:"fav",src:Hh,alt:""})]}),(0,te.jsxs)(zh.Body,{children:[(0,te.jsx)(zh.Title,{children:e.name}),(0,te.jsx)(zh.Text,{children:e.city+", "+e.region})]})]})}))})})]})},Yh=function(t){var n=o((0,e.useState)(["Mazowieckie","Podlaskie","Lubelskie","Pomorskie","Ma\u0142opolskie","\u0141\xf3dzkie"]),2),r=n[0],i=n[1],a=o((0,e.useState)(["kotek","kotka"]),2),s=a[0],u=a[1],c=o((0,e.useState)([0,50]),2),l=c[0],f=c[1],h=function(e){e.target.checked?i(e.target.value):i([])},d=function(e){e.target.checked?u(e.target.value):u([])};return(0,te.jsxs)("div",{children:[(0,te.jsxs)(ae,{children:[(0,te.jsx)("div",{className:"display-6",children:"Koty czekaj\u0105ce na nowy dom"}),(0,te.jsx)(ae,{className:"w-75 my-4 mx-auto d-flex flex-wrap fading",children:t.data0.filter((function(e){return r.includes(e.region)})).filter((function(e){return e.age>l[0]&&e.age<=l[1]})).filter((function(e){return s.includes(e.sex)})).map((function(e){return(0,te.jsx)(zh,{className:"card card-hover",children:(0,te.jsxs)(G,{className:"link-unstyled",to:"/profiles/"+e.id,children:[(0,te.jsxs)("div",{className:"position-relative",children:[(0,te.jsx)(zh.Img,{className:"card-photo",variant:"top",src:e.image}),(0,te.jsx)("img",{className:"fav",src:Hh,alt:""})]}),(0,te.jsxs)(zh.Body,{children:[(0,te.jsx)(zh.Title,{children:e.name}),(0,te.jsx)(zh.Text,{children:e.city+", "+e.region})]})]})})}))})]}),(0,te.jsxs)(ae,{className:"checkboxes w-25",children:[(0,te.jsxs)("form",{className:"d-flex flex-column m-3",children:[(0,te.jsx)("div",{className:"text-uppercase",children:"Lokalizacja"}),(0,te.jsxs)("div",{children:[(0,te.jsx)("input",{type:"radio",onClick:function(){return i(["Mazowieckie","Podlaskie","Lubelskie","Pomorskie","Ma\u0142opolskie","\u0141\xf3dzkie"])},id:"region1",name:"region",value:"Mazowieckie"}),(0,te.jsx)("label",{className:"mx-1",for:"vehicle1",children:"Wszystkie"})]}),(0,te.jsxs)("div",{children:[(0,te.jsx)("input",{type:"radio",onClick:h,id:"region1",name:"region",value:"Mazowieckie"}),(0,te.jsx)("label",{className:"mx-1",for:"vehicle1",children:"Mazowieckie"})]}),(0,te.jsxs)("div",{children:[(0,te.jsx)("input",{type:"radio",onClick:h,id:"region2",name:"region",value:"\u0141\xf3dzkie"}),(0,te.jsx)("label",{className:"mx-1",for:"vehicle1",children:"\u0141\xf3dzkie"})]}),(0,te.jsxs)("div",{children:[(0,te.jsx)("input",{type:"radio",onClick:h,id:"region3",name:"region",value:"Lubelskie"}),(0,te.jsx)("label",{className:"mx-1",for:"vehicle1",children:"Lubelskie"})]}),(0,te.jsxs)("div",{children:[(0,te.jsx)("input",{type:"radio",onClick:h,id:"region3",name:"region",value:"Pomorskie"}),(0,te.jsx)("label",{className:"mx-1",for:"vehicle1",children:"Pomorskie"})]}),(0,te.jsxs)("div",{children:[(0,te.jsx)("input",{type:"radio",onClick:h,id:"region3",name:"region",value:"Ma\u0142opolskie"}),(0,te.jsx)("label",{className:"mx-1",for:"vehicle1",children:"Ma\u0142opolskie"})]})]}),(0,te.jsxs)("form",{className:"d-flex flex-column m-3",children:[(0,te.jsx)("div",{className:"text-uppercase",children:"Wiek"}),(0,te.jsxs)("div",{children:[(0,te.jsx)("input",{type:"radio",onClick:function(){return f([0,50])},id:"age1",name:"age",value:"baby"}),(0,te.jsx)("label",{className:"mx-1",for:"vehicle1",children:"Wszystkie"})]}),(0,te.jsxs)("div",{children:[(0,te.jsx)("input",{type:"radio",onClick:function(){return f([0,2])},id:"age1",name:"age",value:"baby"}),(0,te.jsx)("label",{className:"mx-1",for:"vehicle1",children:"0-2 lata"})]}),(0,te.jsxs)("div",{children:[(0,te.jsx)("input",{type:"radio",onClick:function(){return f([3,5])},id:"age2",name:"age",value:"young"}),(0,te.jsx)("label",{className:"mx-1",for:"vehicle1",children:"3-5 lat"})]}),(0,te.jsxs)("div",{children:[(0,te.jsx)("input",{type:"radio",onClick:function(){return f([6,10])},id:"age3",name:"age",value:"adult"}),(0,te.jsx)("label",{className:"mx-1",for:"vehicle1",children:"6-10 lat"})]}),(0,te.jsxs)("div",{children:[(0,te.jsx)("input",{type:"radio",onClick:function(){return f([11,50])},id:"age4",name:"age",value:"older"}),(0,te.jsx)("label",{className:"mx-1",for:"vehicle1",children:"11+ lat"})]})]}),(0,te.jsxs)("form",{className:"d-flex flex-column m-3",children:[(0,te.jsx)("div",{className:"text-uppercase",children:"P\u0142e\u0107"}),(0,te.jsxs)("div",{children:[(0,te.jsx)("input",{type:"radio",onClick:function(){return u(["kotek","kotka"])},id:"sex",name:"vehicle1",value:"kot"}),(0,te.jsx)("label",{className:"mx-1",for:"vehicle1",children:"Obie p\u0142cie"})]}),(0,te.jsxs)("div",{children:[(0,te.jsx)("input",{type:"radio",onClick:d,id:"sex",name:"vehicle1",value:"kotek"}),(0,te.jsx)("label",{className:"mx-1",for:"vehicle1",children:"kotek"})]}),(0,te.jsxs)("div",{children:[(0,te.jsx)("input",{type:"radio",onClick:d,id:"sex",name:"vehicle1",value:"kotka"}),(0,te.jsx)("label",{className:"mx-1",for:"vehicle1",children:"Kotka"})]})]})]})]})},Xh=n(740);(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,n){if(n){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[e=e[e.length-1]]))!=o&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(Vr){t.reject(Vr)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=r.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(Mr){this.f(Mr)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(Vr){return void this.g(Vr)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(Mr){n.reject(Mr)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(Pm){o(Pm)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=o(e),a=r.next();!a.done;a=r.next())i(a.value).Ra(t,n)}))},t.all=function(e){var n=o(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Ra(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""}function f(){}function h(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function d(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==h(e)}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function m(e){return Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++y)}var g="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _(e,t,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function E(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var k=Date.now;function I(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function S(e){return e}function T(e,t,n){this.code=N+e,this.message=t||P[e]||"",this.a=n||null}function x(e){var t=e&&e.code;return t?new T(t.substring(N.length),e.message,e.serverResponse):null}I(T,Error),T.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},T.prototype.toJSON=function(){return this.w()};var C,N="auth/",P={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function A(e){for(var t in O)if(O[t].id===e)return{firebaseEndpoint:(e=O[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function R(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(Br){return!1}}function D(e){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function j(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");D.call(this,n+e[r])}function L(e,t){throw new j("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function M(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function F(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function U(){this.b=this.a=null}C=A("__EID__")?"__EID__":void 0,I(D,Error),D.prototype.name="CustomError",I(j,D),j.prototype.name="AssertionError",M.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var V=new M((function(){return new B}),(function(e){e.reset()}));function q(){var e=bt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function B(){this.next=this.b=this.a=null}U.prototype.add=function(e,t){var n=V.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var K=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},z=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var W=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},H=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},G=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function Y(e,t){return 0<=K(e,t)}function X(e,t){var n;return(n=0<=(t=K(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Q(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function Z(e){return Array.prototype.concat.apply([],arguments)}function J(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var $,ee=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},te=/&/g,ne=/</g,re=/>/g,ie=/"/g,oe=/'/g,ae=/\x00/g,se=/[\x00&<>"']/;function ue(e,t){return-1!=e.indexOf(t)}function ce(e,t){return e<t?-1:e>t?1:0}e:{var le=s.navigator;if(le){var fe=le.userAgent;if(fe){$=fe;break e}}$=""}function he(e){return ue($,e)}function de(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function pe(e){for(var t in e)return!1;return!0}function ve(e){var t,n={};for(t in e)n[t]=e[t];return n}var me="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<me.length;o++)n=me[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ye(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(qr){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(v(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(qr){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function be(e,t){this.a=e===ke&&t||"",this.b=Ee}function we(e){return e instanceof be&&e.constructor===be&&e.b===Ee?e.a:(L("expected object of type Const, got '"+e+"'"),"type_error:Const")}be.prototype.ta=!0,be.prototype.sa=function(){return this.a},be.prototype.toString=function(){return"Const{"+this.a+"}"};var _e,Ee={},ke={};function Ie(){if(void 0===_e){var e=null,t=s.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:S,createScript:S,createScriptURL:S})}catch(Pr){s.console&&s.console.error(Pr.message)}_e=e}else _e=e}return _e}function Se(e,t){this.a=t===Pe?e:""}function Te(e){return e instanceof Se&&e.constructor===Se?e.a:(L("expected object of type TrustedResourceUrl, got '"+e+"' of type "+h(e)),"type_error:TrustedResourceUrl")}function xe(e,t){var n=we(e);if(!Ne.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(Ce,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof be?we(e):encodeURIComponent(String(e))})),function(e){var t=Ie();return new Se(e=t?t.createScriptURL(e):e,Pe)}(e)}Se.prototype.ta=!0,Se.prototype.sa=function(){return this.a.toString()},Se.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ce=/%{(\w+)}/g,Ne=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Pe={};function Oe(e,t){this.a=t===Fe?e:""}function Ae(e){return e instanceof Oe&&e.constructor===Oe?e.a:(L("expected object of type SafeUrl, got '"+e+"' of type "+h(e)),"type_error:SafeUrl")}Oe.prototype.ta=!0,Oe.prototype.sa=function(){return this.a.toString()},Oe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Re=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,De=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,je=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Le(e){if(e instanceof Oe)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),je.test(e))e=new Oe(e,Fe);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(De);e=t&&Re.test(t[1])?new Oe(e,Fe):null}return e}function Me(e){return e instanceof Oe?e:(e="object"==typeof e&&e.ta?e.sa():String(e),je.test(e)||(e="about:invalid#zClosurez"),new Oe(e,Fe))}var Fe={},Ue=new Oe("about:invalid#zClosurez",Fe);function Ve(e,t,n){this.a=n===qe?e:""}Ve.prototype.ta=!0,Ve.prototype.sa=function(){return this.a.toString()},Ve.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qe={};function Be(e,t,n,r){return e=e instanceof Oe?e:Me(e),t=t||s,n=n instanceof be?we(n):n||"",t.open(Ae(e),n,r,void 0)}function Ke(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function ze(e){return se.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(te,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(ne,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(re,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ie,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(oe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ae,"&#0;"))),e}function We(e){return We[" "](e),e}We[" "]=f;var He,Ge=he("Opera"),Ye=he("Trident")||he("MSIE"),Xe=he("Edge"),Qe=Xe||Ye,Ze=he("Gecko")&&!(ue($.toLowerCase(),"webkit")&&!he("Edge"))&&!(he("Trident")||he("MSIE"))&&!he("Edge"),Je=ue($.toLowerCase(),"webkit")&&!he("Edge");function $e(){var e=s.document;return e?e.documentMode:void 0}e:{var et="",tt=function(){var e=$;return Ze?/rv:([^\);]+)(\)|;)/.exec(e):Xe?/Edge\/([\d\.]+)/.exec(e):Ye?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Je?/WebKit\/(\S+)/.exec(e):Ge?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(tt&&(et=tt?tt[1]:""),Ye){var nt=$e();if(null!=nt&&nt>parseFloat(et)){He=String(nt);break e}}He=et}var rt,it={};function ot(e){return function(e,t){var n=it;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=ee(String(He)).split("."),r=ee(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ce(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ce(0==a[2].length,0==s[2].length)||ce(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(s.document&&Ye){var at=$e();rt=at||(parseInt(He,10)||void 0)}else rt=void 0;var st=rt;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Nr){}var ut=!Ye||9<=Number(st);function ct(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function lt(e,t){de(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:dt.hasOwnProperty(n)?e.setAttribute(dt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ft,ht,dt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function pt(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||v(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}z(a?J(o):o,r)}}}function vt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function mt(e){s.setTimeout((function(){throw e}),0)}function gt(e,t){ht||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);ht=function(){e.then(wt)}}else ht=function(){var e=wt;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!he("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ft||(ft=function(){var e=s.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!he("Presto")&&(e=function(){var e=vt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=_((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!he("Trident")&&!he("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){s.setTimeout(e,0)}}()),ft(e)):s.setImmediate(e)}}(),yt||(ht(),yt=!0),bt.add(e,t)}var yt=!1,bt=new U;function wt(){for(var e;e=q();){try{e.a.call(e.b)}catch(Br){mt(Br)}F(V,e)}yt=!1}function _t(e,t){if(this.a=Et,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=f)try{var n=this;e.call(t,(function(e){jt(n,kt,e)}),(function(e){if(!(e instanceof Bt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(Ax){}jt(n,It,e)}))}catch(jr){jt(this,It,jr)}}var Et=0,kt=2,It=3;function St(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}St.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Tt=new M((function(){return new St}),(function(e){e.reset()}));function xt(e,t,n){var r=Tt.get();return r.g=e,r.b=t,r.f=n,r}function Ct(e){if(e instanceof _t)return e;var t=new _t(f);return jt(t,kt,e),t}function Nt(e){return new _t((function(t,n){n(e)}))}function Pt(e,t,n){Lt(e,t,n,null)||gt(E(t,e))}function Ot(e){return new _t((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Pt(e[o],E(i,o,!0),E(i,o,!1));else t(r)}))}function At(e,t){if(e.a==Et)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Et&&1==r?At(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ft(n),Ut(n,i,It,t)))}e.c=null}else jt(e,It,t)}function Rt(e,t){e.b||e.a!=kt&&e.a!=It||Mt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Dt(e,t,n,r){var i=xt(null,null,null);return i.a=new _t((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(Mr){o(Mr)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Bt?o(t):e(i)}catch(Mr){o(Mr)}}:o})),i.a.c=e,Rt(e,i),i.a}function jt(e,t,n){e.a==Et&&(e===n&&(t=It,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Lt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Mt(e),t!=It||n instanceof Bt||function(e,t){e.g=!0,gt((function(){e.g&&qt.call(null,t)}))}(e,n)))}function Lt(e,t,n,r){if(e instanceof _t)return Rt(e,xt(t||f,n||null,r)),!0;if(R(e))return e.then(t,n,r),!0;if(v(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(Vr){o(Vr)}}(e,i,t,n,r),!0}catch(Dr){return n.call(r,Dr),!0}return!1}function Mt(e){e.h||(e.h=!0,gt(e.gc,e))}function Ft(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Ut(e,t,n,r){if(n==It&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Vt(t,n,r);else try{t.c?t.g.call(t.f):Vt(t,n,r)}catch(Ax){qt.call(null,Ax)}F(Tt,t)}function Vt(e,t,n){t==kt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}_t.prototype.then=function(e,t,n){return Dt(this,p(e)?e:null,p(t)?t:null,n)},_t.prototype.$goog_Thenable=!0,(e=_t.prototype).oa=function(e,t){return(e=xt(e,e,t)).c=!0,Rt(this,e),this},e.o=function(e,t){return Dt(this,null,e,t)},e.cancel=function(e){if(this.a==Et){var t=new Bt(e);gt((function(){At(this,t)}),this)}},e.$c=function(e){this.a=Et,jt(this,kt,e)},e.ad=function(e){this.a=Et,jt(this,It,e)},e.gc=function(){for(var e;e=Ft(this);)Ut(this,e,this.a,this.i);this.h=!1};var qt=mt;function Bt(e){D.call(this,e)}function Kt(){0!=zt&&(Wt[m(this)]=this),this.ya=this.ya,this.pa=this.pa}I(Bt,D),Bt.prototype.name="cancel";var zt=0,Wt={};function Ht(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=zt)){var t=m(e);if(0!=zt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Wt[t]}}Kt.prototype.ya=!1,Kt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Gt=Object.freeze||function(e){return e},Yt=!Ye||9<=Number(st),Xt=Ye&&!ot("9"),Qt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",f,t),s.removeEventListener("test",f,t)}catch(Pr){}return e}();function Zt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Jt(e,t){if(Zt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Ze){e:{try{We(t.nodeName);var i=!0;break e}catch(Dr){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:$t[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Zt.prototype.preventDefault=function(){this.defaultPrevented=!0},I(Jt,Zt);var $t=Gt({2:"touch",3:"pen",4:"mouse"});Jt.prototype.preventDefault=function(){Jt.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Xt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(Br){}},Jt.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),tn=0;function nn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++tn,this.wa=this.Qa=!1}function rn(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function on(e){this.src=e,this.a={},this.b=0}function an(e,t){var n=t.type;n in e.a&&X(e.a[n],t)&&(rn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function sn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}on.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=sn(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new nn(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var un="closure_lm_"+(1e6*Math.random()|0),cn={};function ln(e,t,n,r,i){if(r&&r.once)hn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)ln(e,t[o],n,r,i);else n=_n(n),e&&e[en]?kn(e,t,n,v(r)?!!r.capture:!!r,i):fn(e,t,n,!1,r,i)}function fn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=bn(e);if(s||(e[un]=s=new on(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=yn,t=Yt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Qt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(vn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function hn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)hn(e,t[o],n,r,i);else n=_n(n),e&&e[en]?In(e,t,n,v(r)?!!r.capture:!!r,i):fn(e,t,n,!0,r,i)}function dn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=_n(n),e&&e[en]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=sn(o=e.a[t],n,r,i))&&(rn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=bn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=sn(t,n,r,i)),(n=-1<e?t[e]:null)&&pn(n))}function pn(e){if("number"!==typeof e&&e&&!e.wa){var t=e.src;if(t&&t[en])an(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(vn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bn(t))?(an(n,e),0==n.b&&(n.src=null,t[un]=null)):rn(e)}}}function vn(e){return e in cn?cn[e]:cn[e]="on"+e}function mn(e,t,n,r){var i=!0;if((e=bn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=gn(o,r),i=i&&!1!==o)}return i}function gn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&pn(e),n.call(r,t)}function yn(e,t){if(e.wa)return!0;if(!Yt){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Jt(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(qr){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=mn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=mn(r[i],e,!1,t),n=n&&o}return n}return gn(e,new Jt(t,this))}function bn(e){return(e=e[un])instanceof on?e:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(e){return p(e)?e:(e[wn]||(e[wn]=function(t){return e.handleEvent(t)}),e[wn])}function En(){Kt.call(this),this.v=new on(this),this.bc=this,this.hb=null}function kn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function In(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Sn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&an(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Tn(e,t,n){if(p(e))n&&(e=_(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function xn(e){var t=null;return new _t((function(n,r){-1==(t=Tn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw s.clearTimeout(t),e}))}function Cn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"===typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Nn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(d(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Pn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Pn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function On(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];An(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)An(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function An(e,t){return Object.prototype.hasOwnProperty.call(e,t)}I(En,Kt),En.prototype[en]=!0,En.prototype.addEventListener=function(e,t,n,r){ln(this,e,t,n,r)},En.prototype.removeEventListener=function(e,t,n,r){dn(this,e,t,n,r)},En.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"===typeof e)e=new Zt(e,n);else if(e instanceof Zt)e.target=e.target||n;else{var i=e;ge(e=new Zt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Sn(a,r,!0,e)&&i}if(i=Sn(a=e.b=n,r,!0,e)&&i,i=Sn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Sn(a=e.b=t[o],r,!1,e)&&i;return i},En.prototype.Da=function(){if(En.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)rn(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=Pn.prototype).X=function(){On(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return On(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return An(this.b,e)?this.b[e]:t},e.set=function(e,t){An(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Rn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Dn?(this.i=void 0!==t?t:e.i,jn(this,e.c),this.l=e.l,this.a=e.a,Ln(this,e.g),this.f=e.f,Mn(this,nr(e.b)),this.h=e.h):e&&(n=String(e).match(Rn))?(this.i=!!t,jn(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),Ln(this,n[4]),this.f=Bn(n[5]||"",!0),Mn(this,n[6]||"",!0),this.h=Bn(n[7]||"")):(this.i=!!t,this.b=new Qn(null,this.i))}function jn(e,t,n){e.c=n?Bn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Ln(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Mn(e,t,n){t instanceof Qn?(e.b=t,function(e,t){t&&!e.f&&(Zn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&($n(this,t),tr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Kn(t,Yn)),e.b=new Qn(t,e.i))}function Fn(e,t,n){e.b.set(t,n)}function Un(e,t){return e.b.get(t)}function Vn(e){return e instanceof Dn?new Dn(e):new Dn(e,void 0)}function qn(e,t,n,r){var i=new Dn(null,void 0);return e&&jn(i,e),t&&(i.a=t),n&&Ln(i,n),r&&(i.f=r),i}function Bn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,zn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function zn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Dn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Kn(t,Wn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Kn(t,Wn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Kn(n,"/"==n.charAt(0)?Gn:Hn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Kn(n,Xn)),e.join("")},Dn.prototype.resolve=function(e){var t=new Dn(this),n=!!e.c;n?jn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Ln(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ue(i,"./")||ue(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Mn(t,nr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Wn=/[#\/\?@]/g,Hn=/[#\?:]/g,Gn=/[#\?]/g,Yn=/[#\?@]/g,Xn=/#/g;function Qn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Zn(e){e.a||(e.a=new Pn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Jn(e){var t=Nn(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Qn(null,void 0);e=Cn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function $n(e,t){Zn(e),t=rr(e,t),An(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,An((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&On(e)))}function er(e,t){return Zn(e),t=rr(e,t),An(e.a.b,t)}function tr(e,t,n){$n(e,t),0<n.length&&(e.c=null,e.a.set(rr(e,t),J(n)),e.b+=n.length)}function nr(e){var t=new Qn;return t.c=e.c,e.a&&(t.a=new Pn(e.a),t.b=e.b),t}function rr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ir(e){var t=[];return ar(new or,e,t),t.join("")}function or(){}function ar(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),ar(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),cr(r,n),n.push(":"),ar(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":cr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Qn.prototype).add=function(e,t){Zn(this),this.c=null,e=rr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Zn(this),this.a.forEach((function(n,r){z(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Zn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){Zn(this);var t=[];if("string"===typeof e)er(this,e)&&(t=Z(t,this.a.get(rr(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=Z(t,e[n])}return t},e.set=function(e,t){return Zn(this),this.c=null,er(this,e=rr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ur=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function cr(e,t){t.push('"',e.replace(ur,(function(e){var t=sr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),sr[e]=t),t})),'"')}function lr(){var e=Ar();return Ye&&!!st&&11==st||/Edge\/\d+/.test(e)}function fr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function hr(e,t){t=t||s.window;var n="about:blank";e&&(n=Ae(Le(e)||Ue)),t.location.href=n}function dr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<dr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function pr(e){return!!((e=(e||Ar()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function vr(e){e=e||s.window;try{e.close()}catch(Br){}}function mr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ar().toLowerCase(),r&&(t.target=r,ue(n,"crios/")&&(t.target="_blank")),xr(Ar())==Sr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Oe?n:Le("undefined"!=typeof n.href?n.href:String(n))||Ue,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((he("iPhone")&&!he("iPod")&&!he("iPad")||he("iPad")||he("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(ye(a=vt(document,"A"),"HTMLAnchorElement"),t=t instanceof Oe?t:Me(t),a.href=Ae(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Be("",r,n,a),e=Ae(t),a&&(Qe&&ue(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ze(e)+'">',e=new Ve(e=(r=Ie())?r.createHTML(e):e,null,qe),r=a.document)&&(r.write(function(e){return e instanceof Ve&&e.constructor===Ve?e.a:(L("expected object of type SafeHtml, got '"+e+"' of type "+h(e)),"type_error:SafeHtml")}(e)),r.close())):(a=Be(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(Lr){}return a}var gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yr=/^[^@]+@[^@]+$/;function br(){var e=null;return new _t((function(t){"complete"==s.document.readyState?t():(e=function(){t()},hn(window,"load",e))})).o((function(t){throw dn(window,"load",e),t}))}function wr(e){return e=e||Ar(),!("file:"!==zr()&&"ionic:"!==zr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function _r(){var e=s.window;try{return!(!e||e==e.top)}catch(Br){return!1}}function Er(){return"undefined"!==typeof s.WorkerGlobalScope&&"function"===typeof s.importScripts}function kr(){return Xh.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Xh.default.INTERNAL.hasOwnProperty("node")?"Node":Er()?"Worker":"Browser"}function Ir(){var e=kr();return"ReactNative"===e||"Node"===e}var Sr="Firefox",Tr="Chrome";function xr(e){var t=e.toLowerCase();return ue(t,"opera/")||ue(t,"opr/")||ue(t,"opios/")?"Opera":ue(t,"iemobile")?"IEMobile":ue(t,"msie")||ue(t,"trident/")?"IE":ue(t,"edge/")?"Edge":ue(t,"firefox/")?Sr:ue(t,"silk/")?"Silk":ue(t,"blackberry")?"Blackberry":ue(t,"webos")?"Webos":!ue(t,"safari/")||ue(t,"chrome/")||ue(t,"crios/")||ue(t,"android")?!ue(t,"chrome/")&&!ue(t,"crios/")||ue(t,"edge/")?ue(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Tr:"Safari"}var Cr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Or(e,t){t=t||[];var n,r=[],i={};for(n in Cr)i[Cr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=kr())?r=xr(i=Ar()):"Worker"===r&&(r=xr(i=Ar())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Ar(){return s.navigator&&s.navigator.userAgent||""}function Rr(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Fr(){try{var e=s.localStorage,t=Xr();if(e)return e.setItem(t,"1"),e.removeItem(t),!lr()||!!s.indexedDB}catch(Pr){return Er()&&!!s.indexedDB}return!1}function Ur(){return(Kr()||"chrome-extension:"===zr()||wr())&&!Ir()&&Fr()&&!Er()}function Kr(){return"http:"===zr()||"https:"===zr()}function zr(){return s.location&&s.location.protocol||null}function Wr(e){return!pr(e=e||Ar())&&xr(e)!=Sr}function Hr(e){return"undefined"===typeof e?null:ir(e)}function Gr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Yr(e){if(null!==e)return JSON.parse(e)}function Xr(e){return e||Math.floor(1e9*Math.random()).toString()}function Qr(e){return"Safari"!=xr(e=e||Ar())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Zr(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Jr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Ar(),t=kr(),this.b=pr(e)||"ReactNative"===t}function $r(){var e=s.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function ei(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(Pr){}return null}function ti(){return!(!Rr("fireauth.oauthhelper",s)&&!Rr("fireauth.iframe",s))}Jr.prototype.get=function(){var e=s.navigator;return!e||"boolean"!==typeof e.onLine||!Kr()&&"chrome-extension:"!==zr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var ni,ri={};function ii(e){ri[e]||(ri[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var oi={};Object.defineProperty(oi,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(oi,"abcd",{configurable:!0,enumerable:!0,value:2}),ni=2==oi.abcd}catch(Nr){ni=!1}function ai(e,t,n){ni?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function si(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&ai(e,n,t[n])}function ui(e){var t={};return si(t,e),t}function ci(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)ai(t,n,ci(e[n]));return t}function li(e){var t=e&&(e[vi]?"phone":null);if(!(t&&e&&e[pi]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");ai(this,"uid",e[pi]),ai(this,"displayName",e[hi]||null);var n=null;e[di]&&(n=new Date(e[di]).toUTCString()),ai(this,"enrollmentTime",n),ai(this,"factorId",t)}function fi(e){try{var t=new mi(e)}catch(Pr){t=null}return t}li.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var hi="displayName",di="enrolledAt",pi="mfaEnrollmentId",vi="phoneInfo";function mi(e){li.call(this,e),ai(this,"phoneNumber",e[vi])}function gi(e){var t={},n=e[_i],r=e[ki],i=e[Ii];if(e=fi(e[Ei]),!i||i!=bi&&i!=wi&&!n||i==wi&&!r||i==yi&&!e)throw Error("Invalid checkActionCode response!");i==wi?(t[Ti]=n||null,t[Ci]=n||null,t[Si]=r):(t[Ti]=r||null,t[Ci]=r||null,t[Si]=n||null),t[xi]=e||null,ai(this,Pi,i),ai(this,Ni,ci(t))}I(mi,li),mi.prototype.w=function(){var e=mi.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var yi="REVERT_SECOND_FACTOR_ADDITION",bi="EMAIL_SIGNIN",wi="VERIFY_AND_CHANGE_EMAIL",_i="email",Ei="mfaInfo",ki="newEmail",Ii="requestType",Si="email",Ti="fromEmail",xi="multiFactorInfo",Ci="previousEmail",Ni="data",Pi="operation";function Oi(e){var t=Un(e=Vn(e),Ai)||null,n=Un(e,Ri)||null,r=Un(e,Li)||null;if(r=r&&Fi[r]||null,!t||!n||!r)throw new T("argument-error",Ai+", "+Ri+"and "+Li+" are required in a valid action code URL.");si(this,{apiKey:t,operation:r,code:n,continueUrl:Un(e,Di)||null,languageCode:Un(e,ji)||null,tenantId:Un(e,Mi)||null})}var Ai="apiKey",Ri="oobCode",Di="continueUrl",ji="languageCode",Li="mode",Mi="tenantId",Fi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:yi,signIn:bi,verifyAndChangeEmail:wi,verifyEmail:"VERIFY_EMAIL"};function Ui(e){try{return new Oi(e)}catch(Br){return null}}function Vi(e){var t=e[Wi];if("undefined"===typeof t)throw new T("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new T("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[qi];if(n&&"object"===typeof n){t=n[Yi];var r=n[Hi];if(n=n[Gi],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new T("argument-error",Hi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new T("argument-error",Gi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new T("argument-error",Yi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new T("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new T("argument-error",qi+" property must be a non null object when specified.");if(this.f=null,(t=e[zi])&&"object"===typeof t){if("string"===typeof(t=t[Xi])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new T("argument-error",Xi+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new T("argument-error",zi+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[Ki])&&"boolean"!==typeof t)throw new T("argument-error",Ki+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[Bi])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new T("argument-error",Bi+" property must be a non empty string when specified.");this.i=e||null}var qi="android",Bi="dynamicLinkDomain",Ki="handleCodeInApp",zi="iOS",Wi="url",Hi="installApp",Gi="minimumVersion",Yi="packageName",Xi="bundleId";function Qi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Zi=null;function Ji(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Zi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Zi){Zi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Zi[o]&&(Zi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function $i(e){var t=to(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function eo(e){try{return new $i(e)}catch(Br){return null}}function to(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Ji(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(Mr){}return null}$i.prototype.T=function(){return this.f},$i.prototype.l=function(){return this.c},$i.prototype.toString=function(){return this.h};var no="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),ro=["client_id","response_type","scope","redirect_uri","state"],io={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:ro},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:ro},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:ro},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:no},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function oo(e){for(var t in io)if(io[t].fa==e)return io[t];return null}function ao(e){var t={};t["facebook.com"]=fo,t["google.com"]=po,t["github.com"]=ho,t["twitter.com"]=vo;var n=e&&e[uo];try{if(n)return t[n]?new t[n](e):new lo(e);if("undefined"!==typeof e[so])return new co(e)}catch(jr){}return null}var so="idToken",uo="providerId";function co(e){var t=e[uo];if(!t&&e[so]){var n=eo(e[so]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),ai(this,"providerId",t),ai(this,"isNewUser",n)}function lo(e){co.call(this,e),ai(this,"profile",ci((e=Yr(e.rawUserInfo||"{}"))||{}))}function fo(e){if(lo.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ho(e){if(lo.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");ai(this,"username",this.profile&&this.profile.login||null)}function po(e){if(lo.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function vo(e){if(lo.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");ai(this,"username",e.screenName||null)}function mo(e){var t=Vn(e),n=Un(t,"link"),r=Un(Vn(n),"link");return t=Un(t,"deep_link_id"),Un(Vn(t),"link")||t||r||n||e}function go(e,t){if(!e&&!t)throw new T("internal-error","Internal assert: no raw session string available");if(e&&t)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?yo:bo}I(lo,co),I(fo,lo),I(ho,lo),I(po,lo),I(vo,lo);var yo="enroll",bo="signin";function wo(){}function _o(e,t){return e.then((function(e){if(e[cs]){var n=eo(e[cs]);if(!n||t!=n.i)throw new T("user-mismatch");return e}throw new T("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==N+"user-not-found"?new T("user-mismatch"):e}))}function Eo(e,t){if(!t)throw new T("internal-error","failed to construct a credential");this.a=t,ai(this,"providerId",e),ai(this,"signInMethod",e)}function ko(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function Io(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new Eo(e.providerId,e.pendingToken)}catch(Br){}return null}function So(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&ai(this,"idToken",t.idToken),t.accessToken&&ai(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&ai(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");ai(this,"accessToken",t.oauthToken),ai(this,"secret",t.oauthTokenSecret)}ai(this,"providerId",e),ai(this,"signInMethod",n)}function To(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Jn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function xo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new So(e.providerId,t,e.signInMethod)}catch(Pr){}}return null}function Co(e,t){this.Qc=t||[],si(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(oo(e)||{}).Ja||null,this.pb=null}function No(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');Co.call(this,e,[])}function Po(e){Co.call(this,e,ro),this.a=[]}function Oo(){Po.call(this,"facebook.com")}function Ao(e){if(!e)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new Oo).credential({accessToken:t})}function Ro(){Po.call(this,"github.com")}function Do(e){if(!e)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new Ro).credential({accessToken:t})}function jo(){Po.call(this,"google.com"),this.Ca("profile")}function Lo(e,t){var n=e;return v(e)&&(n=e.idToken,t=e.accessToken),(new jo).credential({idToken:n,accessToken:t})}function Mo(){Co.call(this,"twitter.com",no)}function Fo(e,t){var n=e;if(v(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new So("twitter.com",n,"twitter.com")}function Uo(e,t,n){this.a=e,this.f=t,ai(this,"providerId","password"),ai(this,"signInMethod",n===qo.EMAIL_LINK_SIGN_IN_METHOD?qo.EMAIL_LINK_SIGN_IN_METHOD:qo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Vo(e){return e&&e.email&&e.password?new Uo(e.email,e.password,e.signInMethod):null}function qo(){si(this,{providerId:"password",isOAuthProvider:!1})}function Bo(e,t){if(!(t=Ko(t)))throw new T("argument-error","Invalid email link!");return new Uo(e,t.code,qo.EMAIL_LINK_SIGN_IN_METHOD)}function Ko(e){return(e=Ui(e=mo(e)))&&e.operation===bi?e:null}function zo(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new T("internal-error");this.a=e,ai(this,"providerId","phone"),this.fa="phone",ai(this,"signInMethod","phone")}function Wo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new zo(t)}return null}function Ho(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Go(e){try{this.a=e||Xh.default.auth()}catch(Br){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}si(this,{providerId:"phone",isOAuthProvider:!1})}function Yo(e,t){if(!e)throw new T("missing-verification-id");if(!t)throw new T("missing-verification-code");return new zo({fb:e,eb:t})}function Xo(e){if(e.temporaryProof&&e.phoneNumber)return new zo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Lo(o,n);case"facebook.com":return Ao(n);case"github.com":return Do(n);case"twitter.com":return Fo(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new Eo(t,a):new So(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new Po(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(Lr){return null}}function Qo(e){if(!e.isOAuthProvider)throw new T("invalid-oauth-provider")}function Zo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Jo(e){return(e=e||{}).type?new Zo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&x(e.error),e.postBody,e.tenantId):null}function $o(){this.b=null,this.a=[]}go.prototype.Ha=function(){return this.a?Ct(this.a):Ct(this.b)},go.prototype.w=function(){return this.type==yo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},wo.prototype.ka=function(){},wo.prototype.b=function(){},wo.prototype.c=function(){},wo.prototype.w=function(){},Eo.prototype.ka=function(e){return Os(e,ko(this))},Eo.prototype.b=function(e,t){var n=ko(this);return n.idToken=t,As(e,n)},Eo.prototype.c=function(e,t){return _o(Rs(e,ko(this)),t)},Eo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},So.prototype.ka=function(e){return Os(e,To(this))},So.prototype.b=function(e,t){var n=To(this);return n.idToken=t,As(e,n)},So.prototype.c=function(e,t){return _o(Rs(e,To(this)),t)},So.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},Co.prototype.Ka=function(e){return this.Jb=ve(e),this},I(No,Co),I(Po,Co),Po.prototype.Ca=function(e){return Y(this.a,e)||this.a.push(e),this},Po.prototype.Rb=function(){return J(this.a)},Po.prototype.credential=function(e,t){var n;if(!(n=v(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new So(this.providerId,n,this.providerId)},I(Oo,Po),ai(Oo,"PROVIDER_ID","facebook.com"),ai(Oo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(Ro,Po),ai(Ro,"PROVIDER_ID","github.com"),ai(Ro,"GITHUB_SIGN_IN_METHOD","github.com"),I(jo,Po),ai(jo,"PROVIDER_ID","google.com"),ai(jo,"GOOGLE_SIGN_IN_METHOD","google.com"),I(Mo,Co),ai(Mo,"PROVIDER_ID","twitter.com"),ai(Mo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Uo.prototype.ka=function(e){return this.signInMethod==qo.EMAIL_LINK_SIGN_IN_METHOD?pu(e,qs,{email:this.a,oobCode:this.f}):pu(e,cu,{email:this.a,password:this.f})},Uo.prototype.b=function(e,t){return this.signInMethod==qo.EMAIL_LINK_SIGN_IN_METHOD?pu(e,Bs,{idToken:t,email:this.a,oobCode:this.f}):pu(e,tu,{idToken:t,email:this.a,password:this.f})},Uo.prototype.c=function(e,t){return _o(this.ka(e),t)},Uo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},si(qo,{PROVIDER_ID:"password"}),si(qo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),si(qo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),zo.prototype.ka=function(e){return e.gb(Ho(this))},zo.prototype.b=function(e,t){var n=Ho(this);return n.idToken=t,pu(e,fu,n)},zo.prototype.c=function(e,t){var n=Ho(this);return n.operation="REAUTH",_o(e=pu(e,hu,n),t)},zo.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Go.prototype.gb=function(e,t){var n=this.a.a;return Ct(t.verify()).then((function(r){if("string"!==typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var i,o=v(e)?e.session:null,a=v(e)?e.phoneNumber:e;return i=o&&o.type==yo?o.Ha().then((function(e){return function(e,t){return pu(e,ru,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==bo?o.Ha().then((function(t){return function(e,t){return pu(e,iu,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return pu(e,$s,t)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}))}throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},si(Go,{PROVIDER_ID:"phone"}),si(Go,{PHONE_SIGN_IN_METHOD:"phone"}),Zo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Zo.prototype.T=function(){return this.h},Zo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var ea,ta=null;function na(e){var t="unauthorized-domain",n=void 0,r=Vn(e);e=r.a,"chrome-extension"==(r=r.c)?n=Ke("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Ke("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",T.call(this,t,n)}function ra(e,t,n){T.call(this,e,n),(e=t||{}).Kb&&ai(this,"email",e.Kb),e.ea&&ai(this,"phoneNumber",e.ea),e.credential&&ai(this,"credential",e.credential),e.$b&&ai(this,"tenantId",e.$b)}function ia(e){if(e.code){var t=e.code||"";0==t.indexOf(N)&&(t=t.substring(N.length));var n={credential:Xo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new T(t,e.message||void 0);return new ra(t,n,e.message)}return null}function oa(){}function aa(e){return e.c||(e.c=e.b())}function sa(){}function ua(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(Ax){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function ca(){}function la(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.qc,this),this.a.onerror=_(this.Tb,this),this.a.onprogress=_(this.rc,this),this.a.ontimeout=_(this.vc,this)}function fa(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function ha(e,t,n){this.reset(e,t,n,void 0,void 0)}I(na,T),I(ra,T),ra.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ge(e,t),e},ra.prototype.toJSON=function(){return this.w()},oa.prototype.c=null,I(sa,oa),sa.prototype.a=function(){var e=ua(this);return e?new ActiveXObject(e):new XMLHttpRequest},sa.prototype.b=function(){var e={};return ua(this)&&(e[0]=!0,e[1]=!0),e},ea=new sa,I(ca,oa),ca.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new la;throw Error("Unsupported browser")},ca.prototype.b=function(){return{}},(e=la.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,fa(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",fa(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,fa(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ha.prototype.a=null;function da(e){this.f=e,this.b=this.c=this.a=null}function pa(e,t){this.name=e,this.value=t}ha.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||k(),delete this.a},pa.prototype.toString=function(){return this.name};var va=new pa("SEVERE",1e3),ma=new pa("WARNING",900),ga=new pa("CONFIG",700),ya=new pa("FINE",500);function ba(e){return e.c?e.c:e.a?ba(e.a):(L("Root logger has no level set."),null)}da.prototype.log=function(e,t,n){if(e.value>=ba(this).value)for(p(t)&&(t=t()),e=new ha(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var wa={},_a=null;function Ea(e){var t;if(_a||(_a=new da(""),wa[""]=_a,_a.c=ga),!(t=wa[e])){t=new da(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=Ea(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,wa[e]=t}return t}function ka(e,t){e&&e.log(ya,t,void 0)}function Ia(e){this.f=e}function Sa(e){En.call(this),this.u=e,this.h=void 0,this.readyState=Ta,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Ea("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(Ia,oa),Ia.prototype.a=function(){return new Sa(this.f)},Ia.prototype.b=function(e){return function(){return e}}({}),I(Sa,En);var Ta=0;function xa(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function Ca(e){e.readyState=4,e.g=null,e.c=null,e.m=null,Na(e)}function Na(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Pa(e){En.call(this),this.headers=new Pn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Oa,this.u=this.S=!1}(e=Sa.prototype).open=function(e,t){if(this.readyState!=Ta)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,Na(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ca(this)),this.readyState=Ta},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,Na(this)),this.a&&(this.readyState=3,Na(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,xa(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?Ca(this):Na(this),3==this.readyState&&xa(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,Ca(this))},e.sc=function(e){this.a&&(this.response=e,Ca(this))},e.Va=function(e){var t=this.i;t&&t.log(ma,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&Ca(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(ma,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(ma,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Sa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),I(Pa,En);var Oa="";Pa.prototype.b=Ea("goog.net.XhrIo");var Aa=/^https?$/i,Ra=["POST","PUT"];function Da(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():ea.a(),e.C=e.D?aa(e.D):aa(ea),e.a.onreadystatechange=_(e.Wb,e);try{ka(e.b,Ka(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(qr){return ka(e.b,Ka(e,"Error opening Xhr: "+qr.message)),void La(e,qr)}t=r||"";var o=new Pn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"===typeof e)z(e,t,void 0);else for(var n=Nn(e),r=Cn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=ja,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.Y()),r=s.FormData&&t instanceof s.FormData,!Y(Ra,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Va(e),0<e.g&&(e.u=function(e){return Ye&&ot(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),ka(e.b,Ka(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=_(e.Ma,e)):e.s=Tn(e.Ma,e.g,e)),ka(e.b,Ka(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(qr){ka(e.b,Ka(e,"Send error: "+qr.message)),La(e,qr)}}function ja(e){return"content-type"==e.toLowerCase()}function La(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Ma(e),Ua(e)}function Ma(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Fa(e){if(e.c&&"undefined"!=typeof a)if(e.C[1]&&4==qa(e)&&2==Ba(e))ka(e.b,Ka(e,"Local request error detected and ignored"));else if(e.i&&4==qa(e))Tn(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==qa(e)){ka(e.b,Ka(e,"Request complete")),e.c=!1;try{var t,n=Ba(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Rn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Aa.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<qa(e)?e.a.statusText:""}catch(Vr){ka(e.b,"Can not get status: "+Vr.message),c=""}e.h=c+" ["+Ba(e)+"]",Ma(e)}}finally{Ua(e)}}}function Ua(e,t){if(e.a){Va(e);var n=e.a,r=e.C[0]?f:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(Ax){(e=e.b)&&e.log(va,"Problem encountered resetting onreadystatechange: "+Ax.message,void 0)}}}function Va(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(s.clearTimeout(e.s),e.s=null)}function qa(e){return e.a?e.a.readyState:0}function Ba(e){try{return 2<qa(e)?e.a.status:-1}catch(Br){return-1}}function Ka(e,t){return t+" ["+e.P+" "+e.l+" "+Ba(e)+"]"}function za(e){var t=ts;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Wa(e,t,n){e.a=!0,e.c=n,e.f=!t,Xa(e)}function Ha(e){if(e.a){if(!e.v)throw new Qa(e);e.v=!1}}function Ga(e,t,n,r){e.g.push([t,n,r]),e.a&&Xa(e)}function Ya(e){return G(e.g,(function(e){return p(e[1])}))}function Xa(e){if(e.h&&e.a&&Ya(e)){var t=e.h,n=$a[t];n&&(s.clearTimeout(n.a),delete $a[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(R(t)||"function"===typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(Vr){t=Vr,e.f=!0,Ya(e)||(n=!0)}}e.c=t,r&&(u=_(e.m,e,!0),r=_(e.m,e,!1),t instanceof za?(Ga(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new Ja(t),$a[t.a]=t,e.h=t.a)}function Qa(){D.call(this)}function Za(){D.call(this)}function Ja(e){this.a=s.setTimeout(_(this.c,this),0),this.b=e}(e=Pa.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ka(this.b,Ka(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ka(this.b,Ka(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ua(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ua(this,!0)),Pa.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Fa(this):this.Jc())},e.Jc=function(){Fa(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Oa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(va,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(Br){return ka(this.b,"Can not get response: "+Br.message),null}},za.prototype.cancel=function(e){if(this.a)this.c instanceof za&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Za(this),Ha(this),Wa(this,!1,e))}},za.prototype.m=function(e,t){this.i=!1,Wa(this,e,t)},za.prototype.then=function(e,t,n){var r,i,o=new _t((function(e,t){r=e,i=t}));return Ga(this,r,(function(e){e instanceof Za?o.cancel():i(e)})),o.then(e,t,n)},za.prototype.$goog_Thenable=!0,I(Qa,D),Qa.prototype.message="Deferred has already fired",Qa.prototype.name="AlreadyCalledError",I(Za,D),Za.prototype.message="Deferred was canceled",Za.prototype.name="CanceledError",Ja.prototype.c=function(){throw delete $a[this.a],this.b};var $a={};function es(e){var t={},n=t.document||document,r=Te(e).toString(),i=vt(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new za(o),u=null,f=null!=t.timeout?t.timeout:5e3;return 0<f&&(u=window.setTimeout((function(){ns(i,!0);var e=new os(is,"Timeout reached for loading script "+r);Ha(a),Wa(a,!1,e)}),f),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(ns(i,t.xd||!1,u),Ha(a),Wa(a,!0,null))},i.onerror=function(){ns(i,!0,u);var e=new os(rs,"Error while loading script "+r);Ha(a),Wa(a,!1,e)},ge(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),lt(i,o),function(e,t){ye(e,"HTMLScriptElement"),e.src=Te(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=s?t=l(t.document):(null===c&&(c=l(s.document)),t=c),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function ts(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&ns(e,!0,this.Ma)}}function ns(e,t,n){null!=n&&s.clearTimeout(n),e.onload=f,e.onerror=f,e.onreadystatechange=f,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var rs=0,is=1;function os(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),D.call(this,n),this.code=e}function as(e){this.f=e}function ss(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||ls,this.g=ve(e.secureTokenHeaders||fs),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||hs,this.a=ve(e.firebaseHeaders||ds),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==kr(),!(n=s.XMLHttpRequest||n&&Xh.default.INTERNAL.node&&Xh.default.INTERNAL.node.XMLHttpRequest)&&!Er())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Er()?this.f=new Ia(self):Ir()?this.f=new as(n):this.f=new ca,this.b=null}I(os,D),I(as,oa),as.prototype.a=function(){return new this.f},as.prototype.b=function(){return{}};var us,cs="idToken",ls=new Jr(3e4,6e4),fs={"Content-Type":"application/x-www-form-urlencoded"},hs=new Jr(3e4,6e4),ds={"Content-Type":"application/json"};function ps(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function vs(e,t){t&&(e.l=ms("https://securetoken.googleapis.com/v1/token",t),e.h=ms("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=ms("https://identitytoolkit.googleapis.com/v2/",t))}function ms(e,t){return e=Vn(e),t=Vn(t.url),e.f=e.a+e.f,jn(e,t.c),e.a=t.a,Ln(e,t.g),e.toString()}function gs(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function ys(e,t,n,r,i,o,a){(function(){var e=Ar();return!((e=xr(e)!=Tr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Ye||!st||9<st)})()||Er()?e=_(e.u,e):(us||(us=new _t((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{s[ws]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Ga(e,null,t,void 0)}(es(xe(bs,{onload:ws})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=_(e.s,e)),e(t,n,r,i,o,a)}ss.prototype.T=function(){return this.b},ss.prototype.u=function(e,t,n,r,i,o){if(Er()&&("undefined"===typeof s.fetch||"undefined"===typeof s.Headers||"undefined"===typeof s.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Pa(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}kn(a,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ka(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(Mr){e=null}t&&t(e)})),In(a,"ready",(function(){u&&clearTimeout(u),Ht(this)})),In(a,"timeout",(function(){u&&clearTimeout(u),Ht(this),t&&t(null)})),Da(a,e,n,r,i)};var bs=new be(ke,"https://apis.google.com/js/client.js?onload=%{onload}"),ws="__fcb"+Math.floor(1e6*Math.random()).toString();function _s(e,t,n,r,i,o,a){var s=Vn(t+n);Fn(s,"key",e.c),a&&Fn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Fn(s,c,i[c]);return new _t((function(t,n){ys(e,s.toString(),(function(e){e?e.error?n(mu(e,o||{})):t(e):n(new T("network-request-failed"))}),r,u?void 0:ir(Gr(i)),e.a,e.v.get())}))}function Es(e){if("string"!==typeof(e=e.email)||!yr.test(e))throw new T("invalid-email")}function ks(e){"email"in e&&Es(e)}function Is(e){if(!e[cs]){if(e.mfaPendingCredential)throw new T("multi-factor-auth-required",null,ve(e));throw new T("internal-error")}}function Ss(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new T("internal-error")}else{if(!e.sessionInfo)throw new T("missing-verification-id");if(!e.code)throw new T("missing-verification-code")}}ss.prototype.s=function(e,t,n,r,i){var o=this;us.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},ss.prototype.Ab=function(){return pu(this,nu,{})},ss.prototype.Cb=function(e,t){return pu(this,eu,{idToken:e,email:t})},ss.prototype.Db=function(e,t){return pu(this,tu,{idToken:e,password:t})};var Ts={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function xs(e){if(!e.phoneVerificationInfo)throw new T("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new T("missing-verification-code")}function Cs(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new T("internal-error")}function Ns(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(er(e=new Qn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Ps(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=ia(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=ia(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=ia(e)):e.errorMessage&&(t=vu(e.errorMessage)),t)throw t;Is(e)}function Os(e,t){return t.returnIdpCredential=!0,pu(e,ou,t)}function As(e,t){return t.returnIdpCredential=!0,pu(e,su,t)}function Rs(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,pu(e,au,t)}function Ds(e){if(!e.oobCode)throw new T("invalid-action-code")}(e=ss.prototype).Eb=function(e,t){var n={idToken:e},r=[];return de(Ts,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),pu(this,eu,n)},e.wb=function(e,t){return ge(e={requestType:"PASSWORD_RESET",email:e},t),pu(this,Xs,e)},e.xb=function(e,t){return ge(e={requestType:"EMAIL_SIGNIN",email:e},t),pu(this,Hs,e)},e.vb=function(e,t){return ge(e={requestType:"VERIFY_EMAIL",idToken:e},t),pu(this,Gs,e)},e.Fb=function(e,t,n){return ge(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),pu(this,Ys,e)},e.gb=function(e){return pu(this,lu,e)},e.ob=function(e,t){return pu(this,Js,{oobCode:e,newPassword:t})},e.Sa=function(e){return pu(this,Ls,{oobCode:e})},e.kb=function(e){return pu(this,js,{oobCode:e})};var js={endpoint:"setAccountInfo",A:Ds,Z:"email",B:!0},Ls={endpoint:"resetPassword",A:Ds,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new T("internal-error")},B:!0},Ms={endpoint:"signupNewUser",A:function(e){if(Es(e),!e.password)throw new T("weak-password")},G:Is,V:!0,B:!0},Fs={endpoint:"createAuthUri",B:!0},Us={endpoint:"deleteAccount",O:["idToken"]},Vs={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new T("internal-error")}},qs={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Es,G:Is,V:!0,B:!0},Bs={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Es,G:Is,V:!0},Ks={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:xs,G:Is,B:!0,Na:!0},zs={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:xs,G:Is,B:!0,Na:!0},Ws={endpoint:"getAccountInfo"},Hs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new T("internal-error");Es(e)},Z:"email",B:!0},Gs={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new T("internal-error")},Z:"email",B:!0},Ys={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new T("internal-error")},Z:"email",B:!0},Xs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new T("internal-error");Es(e)},Z:"email",B:!0},Qs={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Zs={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new T("internal-error")}},Js={endpoint:"resetPassword",A:Ds,Z:"email",B:!0},$s={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},eu={endpoint:"setAccountInfo",O:["idToken"],A:ks,V:!0},tu={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(ks(e),!e.password)throw new T("weak-password")},G:Is,V:!0},nu={endpoint:"signupNewUser",G:Is,V:!0,B:!0},ru={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new T("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},iu={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},ou={endpoint:"verifyAssertion",A:Cs,Za:Ns,G:Ps,V:!0,B:!0},au={endpoint:"verifyAssertion",A:Cs,Za:Ns,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new T("user-not-found");if(e.errorMessage)throw vu(e.errorMessage);Is(e)},V:!0,B:!0},su={endpoint:"verifyAssertion",A:function(e){if(Cs(e),!e.idToken)throw new T("internal-error")},Za:Ns,G:Ps,V:!0},uu={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new T("invalid-custom-token")},G:Is,V:!0,B:!0},cu={endpoint:"verifyPassword",A:function(e){if(Es(e),!e.password)throw new T("wrong-password")},G:Is,V:!0,B:!0},lu={endpoint:"verifyPhoneNumber",A:Ss,G:Is,B:!0},fu={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new T("internal-error");Ss(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",ia(e);Is(e)}},hu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Ss,G:Is,B:!0},du={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[cs]^!!e.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function pu(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.O))return Nt(new T("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return Ct(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),_s(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new T("internal-error");return r[t.Z]}))}function vu(e){return mu({error:{errors:[{message:e}],code:400,message:e}})}function mu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ge(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],t);return!t&&e&&(t=Hr(e)),new T("internal-error",t)}function gu(e){this.b=e,this.a=null,this.sb=function(e){return(_u||(_u=new _t((function(e,t){function n(){Zr(),Rr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Zr(),t(Error("Network Error"))},timeout:bu.get()})}if(Rr("gapi.iframes.Iframe"))e();else if(Rr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Rr("gapi.load")?n():t(Error("Network Error"))},Ct(es(r=xe(yu,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw _u=null,e})))).then((function(){return new _t((function(t,n){Rr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Rr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),wu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var yu=new be(ke,"https://apis.google.com/js/api.js?onload=%{onload}"),bu=new Jr(3e4,6e4),wu=new Jr(5e3,15e3),_u=null;function Eu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=qn((e=Vn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=qn("https",this.l,null,"/__/auth/iframe"),this.a=e,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function ku(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function Iu(e){try{return Xh.default.app(e).auth().Ga()}catch(Br){return[]}}function Su(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Tu(e){var t=fr();return function(e){return pu(e,Qs,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Vn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Vn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:gr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new na(fr())}))}function xu(e){return e.m||(e.m=br().then((function(){if(!e.u){var t=e.c,n=e.i,r=Iu(e.b),i=new Eu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=J(r||[]),e.u=i.toString()}e.v=new gu(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Rr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Jo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Ct(n)}return n.status="ERROR",Ct(n)}))}(e)}))),e.m}function Cu(e){return e.l||(e.C=e.c?Or(e.c,Iu(e.b)):null,e.l=new ss(e.g,A(e.i),e.C),e.f&&vs(e.l,e.f)),e.l}function Nu(e,t,n,r,i,o,a,s,u,c,l,f){return(e=new ku(e,t,n,r,i,f)).l=o,e.g=a,e.i=s,e.b=ve(u||null),e.f=c,e.zb(l).toString()}function Pu(e){if(this.a=e||Xh.default.INTERNAL.reactNative&&Xh.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Ou(e){this.b=e,this.a={},this.f=_(this.c,this)}Eu.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):$n(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):$n(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):$n(this.a.b,"fw"),this.a.toString()},ku.prototype.zb=function(e){return this.h=e,this},ku.prototype.toString=function(){if(this.v){var e=Vn(this.v.url);e=qn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=qn("https",this.u,null,"/__/auth/handler");if(Fn(e,"apiKey",this.s),Fn(e,"appName",this.c),Fn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=Xh.default.app(this.c).auth().la()}catch(Lr){n=null}for(var r in t.pb=n,Fn(e,"providerId",this.a.providerId),t=Gr((n=this.a).Jb))t[r]=t[r].toString();r=n.Qc,t=ve(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),pe(t)||Fn(e,"customParameters",Hr(t))}if("function"===typeof this.a.Rb&&((n=this.a.Rb()).length&&Fn(e,"scopes",n.join(","))),this.l?Fn(e,"redirectUrl",this.l):$n(e.b,"redirectUrl"),this.g?Fn(e,"eventId",this.g):$n(e.b,"eventId"),this.i?Fn(e,"v",this.i):$n(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Un(e,a)&&Fn(e,a,this.b[a]);return this.h?Fn(e,"tid",this.h):$n(e.b,"tid"),this.f?Fn(e,"eid",this.f):$n(e.b,"eid"),(a=Iu(this.c)).length&&Fn(e,"fw",a.join(",")),e.toString()},(e=Su.prototype).Pb=function(e,t,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return xu(e).then((function(){return function(e,t){return e.sb.then((function(){return new _t((function(n){e.a.send(t.type,t,n,Rr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&vr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new _t((function(t){return function n(){xn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return xn(n).then((function(){t(r)}))}))},e.Yb=function(){var e=Ar();return!Wr(e)&&!Qr(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return Nt(new T("popup-blocked"));if(a&&!Wr())return this.ma().o((function(t){vr(e),i(t)})),r(),Ct();this.a||(this.a=Tu(Cu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw vr(e),i(t),t}));return r(),t})).then((function(){(Qo(n),a)||hr(Nu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=Tu(Cu(this)));var i=this;return this.a.then((function(){Qo(t),hr(Nu(i.s,i.g,i.b,e,t,fr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return xu(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new T("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){Q(this.h,(function(t){return t==e}))},(e=Pu.prototype).get=function(e){return Ct(this.a.getItem(e)).then((function(e){return e&&Yr(e)}))},e.set=function(e,t){return Ct(this.a.setItem(e,Hr(t)))},e.U=function(e){return Ct(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var Au,Ru=[];function Du(e,t,n){pe(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function ju(e){this.a=e}function Lu(e){this.c=e,this.b=!1,this.a=[]}function Mu(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Nt(Error("connection_unavailable"));var l=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new _t((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:f,onMessage:o},e.a.push(c),f.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(t){return Fu(e,c),t})).o((function(t){throw Fu(e,c),t}))}function Fu(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Q(e.a,(function(e){return e==t}))}}function Uu(){if(!Ku())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Er()&&self?(this.v=function(){var e=Er()?self:null;if(z(Ru,(function(n){n.b==e&&(t=n)})),!t){var t=new Ou(e);Ru.push(t)}return t}(),Du(this.v,"keyChanged",(function(t,n){return Yu(e).then((function(t){return 0<t.length&&z(e.a,(function(e){e(t)})),{keyProcessed:Y(t,n.key)}}))})),Du(this.v,"ping",(function(){return Ct(["keyChanged"])}))):function(){var e=s.navigator;return e&&e.serviceWorker?Ct().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):Ct(null)}().then((function(t){(e.h=t)&&(e.g=new Lu(new ju(t)),Mu(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&Y(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Vu(e){return new _t((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(Dr){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(Dr){n(Dr)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new _t((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Vu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function qu(e){return e.i||(e.i=Vu(e)),e.i}function Bu(e,t){var n=0;return new _t((function r(i,o){qu(e).then(t).then(i).o((function(t){if(!(3<++n))return qu(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Ku(){try{return!!s.indexedDB}catch(Nr){return!1}}function zu(e){return e.objectStore("firebaseLocalStorage")}function Wu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Hu(e){return new _t((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Gu(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Mu(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):Ct()}function Yu(e){return qu(e).then((function(e){var t=zu(Wu(e,!1));return t.getAll?Hu(t.getAll()):new _t((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=dr(e.c,n),e.c=n}return r}))}function Xu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Qu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Ct().then((function(){if(Ku()){var e=Xr(),r="__sak"+e;return Au||(Au=new Uu),(n=Au).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){z(t.a,(function(t){t(e)}))})),e}))}function Zu(){this.a={},this.type="inMemory"}function Ju(){if(!function(){var e="Node"==kr();if(!(e=$u()||e&&Xh.default.INTERNAL.node&&Xh.default.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(Br){return!1}}()){if("Node"==kr())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=$u()||Xh.default.INTERNAL.node.localStorage,this.type="localStorage"}function $u(){try{var e=s.localStorage,t=Xr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(Pr){return null}}function ec(){this.type="nullStorage"}function tc(){if(!function(){var e="Node"==kr();if(!(e=nc()||e&&Xh.default.INTERNAL.node&&Xh.default.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(Br){return!1}}()){if("Node"==kr())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=nc()||Xh.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function nc(){try{var e=s.sessionStorage,t=Xr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(Pr){return null}}function rc(){var e={};e.Browser=ac,e.Node=sc,e.ReactNative=uc,e.Worker=cc,this.a=e[kr()]}Ou.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];z(r,(function(t){i.push(Ct().then((function(){return t(e.origin,e.data.data)})))})),Ot(i).then((function(r){var i=[];z(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),z(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},ju.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Lu.prototype.close=function(){for(;0<this.a.length;)Fu(this,this.a[0]);this.b=!0},(e=Uu.prototype).set=function(e,t){var n=this,r=!1;return Bu(this,(function(t){return Hu((t=zu(Wu(t,!0))).get(e))})).then((function(i){return Bu(n,(function(o){if(o=zu(Wu(o,!0)),i)return i.value=t,Hu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Hu(o.add(a))}))})).then((function(){return n.c[e]=t,Gu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Bu(this,(function(t){return Hu(zu(Wu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Bu(this,(function(r){return n=!0,t.b++,Hu(zu(Wu(r,!0)).delete(e))})).then((function(){return delete t.c[e],Gu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=Yu(e).then((function(t){0<t.length&&z(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Xu(e),t()}(this),this.a.push(e)},e.ia=function(e){Q(this.a,(function(t){return t==e})),0==this.a.length&&Xu(this)},(e=Qu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){Q(this.a,(function(t){return t==e}))},(e=Zu.prototype).get=function(e){return Ct(this.a[e])},e.set=function(e,t){return this.a[e]=t,Ct()},e.U=function(e){return delete this.a[e],Ct()},e.ca=function(){},e.ia=function(){},(e=Ju.prototype).get=function(e){var t=this;return Ct().then((function(){return Yr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Ct().then((function(){var r=Hr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Ct().then((function(){t.a.removeItem(e)}))},e.ca=function(e){s.window&&ln(s.window,"storage",e)},e.ia=function(e){s.window&&dn(s.window,"storage",e)},(e=ec.prototype).get=function(){return Ct(null)},e.set=function(){return Ct()},e.U=function(){return Ct()},e.ca=function(){},e.ia=function(){},(e=tc.prototype).get=function(e){var t=this;return Ct().then((function(){return Yr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Ct().then((function(){var r=Hr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Ct().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var ic,oc,ac={F:Ju,cb:tc},sc={F:Ju,cb:tc},uc={F:Pu,cb:ec},cc={F:Ju,cb:ec},lc={rd:"local",NONE:"none",td:"session"};function fc(){var e=!(Qr(Ar())||!_r()),t=Wr(),n=Fr();this.m=e,this.h=t,this.l=n,this.a={},ic||(ic=new rc),e=ic;try{this.g=!lr()&&ti()||!s.indexedDB?new e.a.F:new Qu(Er()?new Zu:new e.a.F)}catch(jr){this.g=new Zu,this.h=!0}try{this.i=new e.a.cb}catch(jr){this.i=new Zu}this.v=new Zu,this.f=_(this.Zb,this),this.b={}}function hc(){return oc||(oc=new fc),oc}function dc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function pc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function vc(e,t,n){return n=pc(t,n),"local"==t.F&&(e.b[n]=null),dc(e,t.F).U(n)}function mc(e){e.c&&(clearInterval(e.c),e.c=null)}function gc(e){this.a=e,this.b=hc()}(e=fc.prototype).get=function(e,t){return dc(this,e.F).get(pc(e,t))},e.set=function(e,t,n){var r=pc(e,n),i=this,o=dc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=pc(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),pe(this.a)&&(dc(this,"local").ca(this.f),this.h||(lr()||!ti())&&s.indexedDB||!this.l||function(e){mc(e),e.c=setInterval((function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Jt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=pc(e,t),this.a[e]&&(Q(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),pe(this.a)&&(dc(this,"local").ia(this.f),mc(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?dc(this,"local").ia(this.f):mc(this),this.m)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.nb(t))},Ye&&st&&10==st&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else z(e,_(this.nb,this))},e.nb=function(e){this.a[e]&&z(this.a[e],(function(e){e()}))};var yc,bc={name:"authEvent",F:"local"};function wc(){this.a=hc()}function _c(e,t){this.b=Ec,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===yc&&(yc=s.Int32Array?new Int32Array(Nc):Nc),this.reset()}I(_c,(function(){this.b=-1}));for(var Ec=64,kc=Ec-1,Ic=[],Sc=0;Sc<kc;Sc++)Ic[Sc]=0;var Tc=Z(128,Ic);function xc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],f=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&f)+(0|yc[t])|0)+(0|n[t])|0)|0,o=f,f=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+h|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+f|0,e.a[7]=e.a[7]+o|0}function Cc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(xc(e),i=0);else{if(!d(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(xc(e),i=0)}}e.c=i,e.g+=n}_c.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):J(this.h)};var Nc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Pc(){_c.call(this,8,Oc)}I(Pc,_c);var Oc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ac(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new wc,this.g=new gc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Rc(e){return new T("invalid-cordova-configuration",e)}function Dc(e){var t=new Pc;Cc(t,e),e=[];var n=8*t.g;56>t.c?Cc(t,Tc,56-t.c):Cc(t,Tc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(xc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return H(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function jc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(jr){}}function Lc(e){return e.f||(e.f=e.ma().then((function(){return new _t((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Mc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=mo(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Yr(Un(o=Vn(i),"firebaseError")||null))?x(o):null)?new Zo(r.c,r.b,null,null,o,null,r.T()):new Zo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}jc(e,i)}))}var n=new Zo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=xn(500).then((function(){return Mc(e).then((function(){r||jc(e,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Rr("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(Lr){console.error(Lr)}},ta||(ta=new $o),function(e){var t=ta;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Rr("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Mc(e){var t=null;return function(e){return e.b.get(bc,e.a).then((function(e){return Jo(e)}))}(e.g).then((function(n){return t=n,vc((n=e.g).b,bc,n.a)})).then((function(){return t}))}function Fc(e){this.a=e,this.b=hc()}(e=Ac.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(wr(void 0)?br().then((function(){return new _t((function(e,t){var n=s.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Nt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Rr("universalLinks.subscribe",s))throw Rc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Rr("BuildInfo.packageName",s))throw Rc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Rr("cordova.plugins.browsertab.openUrl",s))throw Rc("cordova-plugin-browsertab is not installed");if("function"!==typeof Rr("cordova.InAppBrowser.open",s))throw Rc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},e.Pb=function(e,t){return t(new T("operation-not-supported-in-this-environment")),Ct()},e.Nb=function(){return Nt(new T("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return Nt(new T("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Ct().then((function(){return Qo(t),Lc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Zo(t,r,null,o,new T("no-auth-event"),null,i),u=Rr("BuildInfo.packageName",s);if("string"!==typeof u)throw new T("invalid-cordova-configuration");var c=Rr("BuildInfo.displayName",s),l={};if(Ar().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Ar().toLowerCase().match(/android/))return Nt(new T("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Dc(o),l.sessionId=o;var f=Nu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(bc,a.w(),t)})).then((function(){var t=Rr("cordova.plugins.browsertab.isAvailable",s);if("function"!==typeof t)throw new T("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=Rr("cordova.plugins.browsertab.openUrl",s)))throw new T("invalid-cordova-configuration");n(f)}else{if("function"!==typeof(n=Rr("cordova.InAppBrowser.open",s)))throw new T("invalid-cordova-configuration");t=Ar(),e.a=n(f,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new _t((function(e,t){u=function(){var t=Rr("cordova.plugins.browsertab.close",s);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=xn(2e3).then((function(){t(new T("redirect-cancelled-by-user"))})))},l=function(){$r()&&c()},o.addEventListener("resume",c,!1),Ar().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return Mc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null}))},e.Ea=function(e){this.b.push(e),Lc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Zo("unknown",null,null,null,new T("no-auth-event")),e(t))}))},e.Ta=function(e){Q(this.b,(function(t){return t==e}))};var Uc={name:"pendingRedirect",F:"session"};function Vc(e){return vc(e.b,Uc,e.a)}function qc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new nl,this.C=new sl,this.g=new Fc(el(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Bc(this.D,this.v,this.m,C,this.J)}function Bc(e,t,n,r,i){var o=Xh.default.SDK_VERSION||null;return wr()?new Ac(e,t,n,o,r,i):new Su(e,t,n,o,r,i)}function Kc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function zc(e){e.a.Yb()&&Kc(e).o((function(t){var n=new Zo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Qc(t)&&e.s(n)})),e.a.Ub()||rl(e.b)}function Wc(e,t){Y(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Uc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Vc(e.g).then((function(){Kc(e).o((function(t){var n=new Zo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Qc(t)&&e.s(n)}))})):zc(e)})).o((function(){zc(e)}))}function Hc(e,t){Q(e.h,(function(e){return e==t}))}qc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Bc(this.D,this.v,this.m,null,this.J),this.i={}},qc.prototype.s=function(e){if(!e)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return rl(this.b),t};var Gc=new Jr(2e3,1e4),Yc=new Jr(3e4,6e4);function Xc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Qc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Zc(e,t,n,r,i){var o;return function(e){return e.b.set(Uc,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(Qc(t))throw new T("operation-not-supported-in-this-environment");return o=t,Vc(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new _t((function(){})):Vc(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function Jc(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),Gc.get())}qc.prototype.ra=function(){return this.b.ra()};var $c={};function el(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function tl(e,t,n,r){var i=el(t,n,r);return $c[i]||($c[i]=new qc(e,t,n,r)),$c[i]}function nl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function rl(e){e.g||(e.g=!0,al(e,!1,null,null))}function il(e){e.g&&!e.i&&al(e,!1,null,null)}function ol(e,t){if(e.b=function(){return Ct(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function al(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Nt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):ol(e,n):ol(e,{user:null}),e.f=[],e.c=[]}function sl(){}function ul(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function cl(e,t){this.a=t,ai(this,"verificationId",e)}function ll(e,t,n,r){return new Go(e).gb(t,n).then((function(e){return new cl(e,r)}))}function fl(e){var t=to(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");si(this,{token:e,expirationTime:ei(1e3*t.exp),authTime:ei(1e3*t.auth_time),issuedAtTime:ei(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function hl(e,t,n){var r=t&&t[pl];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ve(t),this.g=n,this.c=new go(null,r),this.b=[];var i=this;z(t[dl]||[],(function(e){(e=fi(e))&&i.b.push(e)})),ai(this,"auth",this.a),ai(this,"session",this.c),ai(this,"hints",this.b)}nl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},nl.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(al(this,!0,null,e.a),Ct()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){al(e,s,t,null)})).o((function(t){al(e,s,null,t)}))}(this,e,t):Nt(new T("invalid-auth-event")):(al(this,!1,null,null),Ct())}else Nt(new T("invalid-auth-event"))},nl.prototype.ra=function(){var e=this;return new _t((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new T("timeout");e.a&&e.a.cancel(),e.a=xn(Yc.get()).then((function(){e.b||(e.g=!0,al(e,!0,null,t))}))}(e))}))},sl.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),Ct()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Nt(new T("invalid-auth-event"))}else Nt(new T("invalid-auth-event"))},cl.prototype.confirm=function(e){return e=Yo(this.verificationId,e),this.a(e)};var dl="mfaInfo",pl="mfaPendingCredential";function vl(e,t,n,r){T.call(this,"multi-factor-auth-required",r,t),this.b=new hl(e,t,n),ai(this,"resolver",this.b)}function ml(e,t,n){if(e&&v(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new vl(t,e.serverResponse,n,e.message)}catch(jr){}return null}function gl(){}function yl(e){ai(this,"factorId",e.fa),this.a=e}function bl(e){if(yl.call(this,e),this.a.fa!=Go.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function wl(e,t){for(var n in Zt.call(this,e),t)this[n]=t[n]}function _l(e,t){this.a=e,this.b=[],this.c=_(this.yc,this),ln(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&z(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[pi]=e.uid),e.displayName&&(r[hi]=e.displayName),e.enrollmentTime&&(r[di]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[vi]=e.phoneNumber);try{t=new mi(r)}catch(qr){}e=t}else e=null;e&&n.push(e)})),El(this,n)}function El(e,t){e.b=t,ai(e,"enrolledFactors",t)}function kl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Il(e,t){e.stop(),e.b=xn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=s.document,t=null;return $r()||!e?Ct():new _t((function(n){t=function(){$r()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){Il(e,!0)})).o((function(t){e.i(t)&&Il(e,!1)}))}function Sl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function Tl(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function xl(e,t){e.b=eo(t[cs]||""),e.a=t.refreshToken,Tl(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function Cl(e,t){return function(e,t){return new _t((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ys(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(mu(e)):e.access_token&&e.refresh_token?n(e):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",Jn(t).toString(),e.g,e.m.get()):r(new T("internal-error"))}))}(e.f,t).then((function(t){return e.b=eo(t.access_token),e.a=t.refresh_token,Tl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function Nl(e,t){this.a=e||null,this.b=t||null,si(this,{lastSignInTime:ei(t||null),creationTime:ei(e||null)})}function Pl(e,t,n,r,i,o){si(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Ol(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=Xh.default.SDK_VERSION?Or(Xh.default.SDK_VERSION):null;this.a=new ss(this.l,A(C),r),(this.u=e.emulatorConfig||null)&&vs(this.a,this.u),this.h=new Sl(this.a),Vl(this,t[cs]),xl(this.h,t),ai(this,"refreshToken",this.h.a),Kl(this,n||{}),En.call(this),this.P=!1,this.s&&Ur()&&(this.b=tl(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new kl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=_(this.ib,this);var i=this;this.za=null,this.Pa=function(e){i.xa(e.h)},this.qa=null,this.Ba=function(e){Al(i,e.c)},this.$=null,this.aa=[],this.Oa=function(e){jl(i,e.f)},this.ja=null,this.S=new _l(this,n),ai(this,"multiFactor",this.S)}function Al(e,t){e.u=t,vs(e.a,t),e.b&&(t=e.b,e.b=tl(e.s,e.l,e.m,e.u),e.P&&(Hc(t,e),Wc(e.b,e)))}function Rl(e,t){e.qa&&dn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&ln(t,"languageCodeChanged",e.Pa)}function Dl(e,t){e.$&&dn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&ln(t,"emulatorConfigChanged",e.Ba)}function jl(e,t){e.aa=t,gs(e.a,Xh.default.SDK_VERSION?Or(Xh.default.SDK_VERSION,e.aa):null)}function Ll(e,t){e.ja&&dn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&ln(t,"frameworkChanged",e.Oa)}function Ml(e){try{return Xh.default.app(e.m).auth()}catch(Br){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Fl(e){e.J||e.D.b||(e.D.start(),dn(e,"tokenChanged",e.ba),ln(e,"tokenChanged",e.ba))}function Ul(e){dn(e,"tokenChanged",e.ba),e.D.stop()}function Vl(e,t){e.Aa=t,ai(e,"_lat",t)}function ql(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Ot(t).then((function(){return e}))}function Bl(e){e.b&&!e.P&&(e.P=!0,Wc(e.b,e))}function Kl(e,t){si(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new Nl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function zl(){}function Wl(e){return Ct().then((function(){if(e.J)throw new T("app-deleted")}))}function Hl(e){return H(e.providerData,(function(e){return e.providerId}))}function Gl(e,t){t&&(Yl(e,t.providerId),e.providerData.push(t))}function Yl(e,t){Q(e.providerData,(function(e){return e.providerId==t}))}function Xl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&ai(e,t,n)}function Ql(e,t){e!=t&&(si(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?ai(e,"metadata",function(e){return new Nl(e.a,e.b)}(t.metadata)):ai(e,"metadata",new Nl),z(t.providerData,(function(t){Gl(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),ai(e,"refreshToken",e.h.a),El(e.S,t.S.b))}function Zl(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return pu(e.a,Ws,{idToken:t}).then(_(e.Kc,e))}(e,t).then((function(){return n||Xl(e,"isAnonymous",!1),t}))}))}function Jl(e,t){t[cs]&&e.Aa!=t[cs]&&(xl(e.h,t),e.dispatchEvent(new wl("tokenChanged")),Vl(e,t[cs]),Xl(e,"refreshToken",e.h.a))}function $l(e,t){return Zl(e).then((function(){if(Y(Hl(e),t))return ql(e).then((function(){throw new T("provider-already-linked")}))}))}function ef(e,t,n){return ui({user:e,credential:Xo(t),additionalUserInfo:t=ao(t),operationType:n})}function tf(e,t){return Jl(e,t),e.reload().then((function(){return e}))}function nf(e,t,n,r,i){if(!Ur())return Nt(new T("operation-not-supported-in-this-environment"));if(e.i&&!i)return Nt(e.i);var o=oo(n.providerId),a=Xr(e.uid+":::"),s=null;(!Wr()||_r())&&e.s&&n.isOAuthProvider&&(s=Nu(e.s,e.l,e.m,t,n,null,a,Xh.default.SDK_VERSION||null,null,null,e.tenantId,e.u));var u=mr(s,o&&o.va,o&&o.ua);return r=r().then((function(){if(of(e),!i)return e.I().then((function(){}))})).then((function(){return Xc(e.b,u,t,n,a,!!s,e.tenantId)})).then((function(){return new _t((function(n,r){e.na(t,null,new T("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=Jc(e.b,e,t,u,a)}))})).then((function(e){return u&&vr(u),e?ui(e):null})).o((function(e){throw u&&vr(u),e})),af(e,r,i)}function rf(e,t,n,r,i){if(!Ur())return Nt(new T("operation-not-supported-in-this-environment"));if(e.i&&!i)return Nt(e.i);var o=null,a=Xr(e.uid+":::");return r=r().then((function(){if(of(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,ql(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(cf,e.w(),t.a)),t})).then((function(){return Zc(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return lf(e.ha);throw o})).then((function(){if(o)throw o})),af(e,r,i)}function of(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function af(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Nt(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new wl("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){X(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=ml(t.w(),Ml(e),_(e.jc,e))),n||t}))}function sf(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[cs]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Ol(t,n,e);return e.providerData&&z(e.providerData,(function(e){e&&Gl(i,ui(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function uf(e){this.a=e,this.b=hc()}hl.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=ve(t.f);return delete n[dl],delete n[pl],ge(n,e),t.g(n)}))},I(vl,T),gl.prototype.tb=function(e,t,n){return t.type==yo?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),ge(n,{phoneVerificationInfo:Ho(e.a)}),pu(t,Ks,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ge(n={mfaPendingCredential:n},{phoneVerificationInfo:Ho(e.a)}),pu(t,zs,n)}))}(this,e,t)},I(yl,gl),I(bl,yl),I(wl,Zt),(e=_l.prototype).yc=function(e){El(this,function(e){var t=[];return z(e.mfaInfo||[],(function(e){(e=fi(e))&&t.push(e)})),t}(e.hd))},e.Sb=function(){return this.a.I().then((function(e){return new go(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return Jl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return pu(r,du,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=W(t.b,(function(e){return e.uid!=n}));return El(t,r),Jl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(e){return e.w()}))}}},kl.prototype.start=function(){this.a=this.c,Il(this,!0)},kl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Sl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},Sl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Nt(new T("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?Cl(this,{grant_type:"refresh_token",refresh_token:this.a}):Ct(null):Ct({accessToken:this.b.toString(),refreshToken:this.a})},Nl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(Ol,En),Ol.prototype.xa=function(e){this.za=e,ps(this.a,e)},Ol.prototype.la=function(){return this.za},Ol.prototype.Ga=function(){return J(this.aa)},Ol.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},ai(Ol.prototype,"providerId","firebase"),(e=Ol.prototype).reload=function(){var e=this;return af(this,Wl(this).then((function(){return Zl(e).then((function(){return ql(e)})).then(zl)})))},e.oc=function(e){return this.I(e).then((function(e){return new fl(e)}))},e.I=function(e){var t=this;return af(this,Wl(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new T("internal-error");return e.accessToken!=t.Aa&&(Vl(t,e.accessToken),t.dispatchEvent(new wl("tokenChanged"))),Xl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new T("internal-error");Kl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?H(e,(function(e){return new Pl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Gl(this,t[n]);Xl(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new wl("userReloaded",{hd:e}))},e.Lc=function(e){return ii("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return af(this,e.c(this.a,this.uid).then((function(e){return Jl(t,e),n=ef(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return ii("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return af(this,$l(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=ef(t,e,"link"),tf(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return af(this,$l(this,"phone").then((function(){return ll(Ml(n),e,t,_(n.rb,n))})))},e.Mc=function(e,t){var n=this;return af(this,Ct().then((function(){return ll(Ml(n),e,t,_(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return af(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Jl(t,e),t.reload()})))},e.ed=function(e){var t=this;return af(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Jl(t,e),t.reload()})))},e.Db=function(e){var t=this;return af(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return Jl(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Wl(this);var t=this;return af(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Jl(t,e),Xl(t,"displayName",e.displayName||null),Xl(t,"photoURL",e.photoUrl||null),z(t.providerData,(function(e){"password"===e.providerId&&(ai(e,"displayName",t.displayName),ai(e,"photoURL",t.photoURL))})),ql(t)})).then(zl))},e.cd=function(e){var t=this;return af(this,Zl(this).then((function(n){return Y(Hl(t),e)?function(e,t,n){return pu(e,Vs,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return z(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),z(Hl(t),(function(e){n[e]||Yl(t,e)})),n[Go.PROVIDER_ID]||ai(t,"phoneNumber",null),ql(t)})):ql(t).then((function(){throw new T("no-such-provider")}))})))},e.delete=function(){var e=this;return af(this,this.I().then((function(t){return pu(e.a,Us,{idToken:t})})).then((function(){e.dispatchEvent(new wl("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");Rl(e,null),Dl(e,null),Ll(e,null),e.N=[],e.J=!0,Ul(e),ai(e,"refreshToken",null),e.b&&Hc(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?_(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?_(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?_(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?_(this.Mb,this):null},e.Ec=function(e){var t=this;return nf(this,"linkViaPopup",e,(function(){return $l(t,e.providerId).then((function(){return ql(t)}))}),!1)},e.Nc=function(e){return nf(this,"reauthViaPopup",e,(function(){return Ct()}),!0)},e.Fc=function(e){var t=this;return rf(this,"linkViaRedirect",e,(function(){return $l(t,e.providerId)}),!1)},e.Oc=function(e){return rf(this,"reauthViaRedirect",e,(function(){return Ct()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return n=this.I().then((function(n){return As(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=ef(i,e,"link"),tf(i,e)})).then((function(){return o})),af(this,n)},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null,a=Ct().then((function(){return _o(Rs(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=ef(i,e,"reauthenticate"),Jl(i,e),i.i=null,i.reload()})).then((function(){return o}));return af(this,a,!0)},e.vb=function(e){var t=this,n=null;return af(this,this.I().then((function(t){return n=t,"undefined"===typeof e||pe(e)?{}:Qi(new Vi(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return af(this,this.I().then((function(e){return r=e,"undefined"===typeof t||pe(t)?{}:Qi(new Vi(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return e=_o(Ct(e),n.uid).then((function(e){return t=ef(n,e,"reauthenticate"),Jl(n,e),n.i=null,n.reload()})).then((function(){return t})),af(this,e,!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&ge(e,this.metadata.w()),z(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ge(e,this.S.w()),e};var cf={name:"redirectUser",F:"session"};function lf(e){return vc(e.b,cf,e.a)}function ff(e){this.a=e,this.b=hc(),this.c=null,this.f=function(e){var t=pf("local"),n=pf("session"),r=pf("none");return function(e,t,n){var r=pc(t,n),i=dc(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=Yr(s.localStorage.getItem(r))}catch(Lr){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(df,e.a).then((function(e){return e?pf(e):t}))}))}))})).then((function(t){return e.c=t,hf(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(pf("local"),this.a,_(this.g,this))}function hf(e,t){var n,r=[];for(n in lc)lc[n]!==t&&r.push(vc(e.b,pf(lc[n]),e.a));return r.push(vc(e.b,df,e.a)),function(e){return new _t((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)Pt(e[s],E(o,s),a);else t(i)}))}(r)}ff.prototype.g=function(){var e=this,t=pf("local");yf(this,(function(){return Ct().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return hf(e,"local").then((function(){e.c=t}))}))}))};var df={name:"persistence",F:"session"};function pf(e){return{name:"authUser",F:e}}function vf(e,t){return yf(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function mf(e){return yf(e,(function(){return vc(e.b,e.c,e.a)}))}function gf(e,t,n){return yf(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),sf(e||{})}))}))}function yf(e,t){return e.f=e.f.then(t,t),e.f}function bf(e){if(this.l=!1,ai(this,"settings",new ul),ai(this,"app",e),!Cf(this).options||!Cf(this).options.apiKey)throw new T("invalid-api-key");e=Xh.default.SDK_VERSION?Or(Xh.default.SDK_VERSION):null,this.a=new ss(Cf(this).options&&Cf(this).options.apiKey,A(C),e),this.P=[],this.s=[],this.N=[],this.Pa=Xh.default.INTERNAL.createSubscribe(_(this.zc,this)),this.W=void 0,this.ib=Xh.default.INTERNAL.createSubscribe(_(this.Ac,this)),Tf(this,null),this.i=new ff(Cf(this).options.apiKey+":"+Cf(this).name),this.D=new uf(Cf(this).options.apiKey+":"+Cf(this).name),this.$=Af(this,function(e){var t=Cf(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(cf,e.a).then((function(e){return e&&t&&(e.authDomain=t),sf(e||{})}))}(e.D,Cf(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),lf(e.D)}));return Af(e,t)}(e).then((function(){return gf(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return vf(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:mf(e.i)}))):null})).then((function(t){Tf(e,t||null)}));return Af(e,n)}(this)),this.h=Af(this,function(e){return e.$.then((function(){return If(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(pf("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=_(this.Zc,this),this.Ba=_(this.da,this),this.qa=_(this.mc,this),this.za=_(this.wc,this),this.Aa=_(this.xc,this),this.b=null,function(e){var t=Cf(e).options.authDomain,n=Cf(e).options.apiKey;t&&Ur()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=tl(t,n,Cf(e).name,e.R),Wc(e.b,e),Nf(e)&&Bl(Nf(e)),e.m){Bl(e.m);var r=e.m;r.xa(e.la()),Rl(r,e),jl(r=e.m,e.J),Ll(r,e),Al(r=e.m,e.R),Dl(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Gc,this),this.u=0,En.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=Vn(this.R.url);e=ui({protocol:e.c,host:e.a,port:e.g,options:ui({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function wf(e){Zt.call(this,"languageCodeChanged"),this.h=e}function _f(e){Zt.call(this,"emulatorConfigChanged"),this.c=e}function Ef(e){Zt.call(this,"frameworkChanged"),this.f=e}function kf(e){return e.Oa||Nt(new T("auth-domain-config-required"))}function If(e){if(!Ur())return Nt(new T("operation-not-supported-in-this-environment"));var t=kf(e).then((function(){return e.b.ra()})).then((function(e){return e?ui(e):null}));return Af(e,t)}function Sf(e,t){var n={};return n.apiKey=Cf(e).options.apiKey,n.authDomain=Cf(e).options.authDomain,n.appName=Cf(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var i=new Ol(e,t);return n&&(i.ha=n),r&&jl(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return Nf(e)&&t.uid==Nf(e).uid?(Ql(Nf(e),t),e.da(t)):(Tf(e,t),Bl(t),e.da(t))})).then((function(){Of(e)}))}function Tf(e,t){Nf(e)&&(function(e,t){Q(e.W,(function(e){return e==t}))}(Nf(e),e.Ba),dn(Nf(e),"tokenChanged",e.qa),dn(Nf(e),"userDeleted",e.za),dn(Nf(e),"userInvalidated",e.Aa),Ul(Nf(e))),t&&(t.W.push(e.Ba),ln(t,"tokenChanged",e.qa),ln(t,"userDeleted",e.za),ln(t,"userInvalidated",e.Aa),0<e.u&&Fl(t)),ai(e,"currentUser",t),t&&(t.xa(e.la()),Rl(t,e),jl(t,e.J),Ll(t,e),Al(t,e.R),Dl(t,e))}function xf(e,t){var n=null,r=null;return Af(e,t.then((function(t){return n=Xo(t),r=ao(t),Sf(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=ml(t.w(),e,_(e.kc,e))),n||t})).then((function(){return ui({user:Nf(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function Cf(e){return e.app}function Nf(e){return e.currentUser}function Pf(e){return Nf(e)&&Nf(e)._lat||null}function Of(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](Pf(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](Pf(e))}}function Af(e,t){return e.P.push(t),t.oa((function(){X(e.P,t)})),t}function Rf(){}function Df(){this.a={},this.b=1e12}ff.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");e:{for(r in lc)if(lc[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(kr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Ku()&&"none"!==e)throw n;break;default:if(!Fr()&&"none"!==e)throw n}}(e),yf(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,hf(n,e)})).then((function(){if(n.c=pf(e),t)return n.b.set(n.c,t,n.a)})):Ct()}))},I(bf,En),I(wf,Zt),I(_f,Zt),I(Ef,Zt),(e=bf.prototype).yb=function(e){return Af(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,ps(this.a,this.aa),this.dispatchEvent(new wf(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=s.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!e&&br().then((function(){var e=s.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),s.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,vs(this.a,this.R),this.dispatchEvent(new _f(this.R))}},e.Gc=function(e){this.J.push(e),gs(this.a,Xh.default.SDK_VERSION?Or(Xh.default.SDK_VERSION,this.J):null),this.dispatchEvent(new Ef(this.J))},e.Ga=function(){return J(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:Cf(this).options.apiKey,authDomain:Cf(this).options.authDomain,appName:Cf(this).name,currentUser:Nf(this)&&Nf(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?_(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return xf(i,Os(i.a,o))}))},e.Xc=function(e){if(!Ur())return Nt(new T("operation-not-supported-in-this-environment"));var t=this,n=oo(e.providerId),r=Xr(),i=null;(!Wr()||_r())&&Cf(this).options.authDomain&&e.isOAuthProvider&&(i=Nu(Cf(this).options.authDomain,Cf(this).options.apiKey,Cf(this).name,"signInViaPopup",e,null,r,Xh.default.SDK_VERSION||null,null,null,this.T(),this.R));var o=mr(i,n&&n.va,n&&n.ua);return n=kf(this).then((function(n){return Xc(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new _t((function(e,n){t.na("signInViaPopup",null,new T("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=Jc(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&vr(o),e?ui(e):null})).o((function(e){throw o&&vr(o),e})),Af(this,n)},e.Yc=function(e){if(!Ur())return Nt(new T("operation-not-supported-in-this-environment"));var t=this,n=kf(this).then((function(){return function(e){return yf(e,(function(){return e.b.set(df,e.c.F,e.a)}))}(t.i)})).then((function(){return Zc(t.b,"signInViaRedirect",e,void 0,t.T())}));return Af(this,n)},e.ra=function(){var e=this;return If(this).then((function(t){return e.b&&il(e.b.b),t})).o((function(t){throw e.b&&il(e.b.b),t}))},e.dd=function(e){if(!e)return Nt(new T("null-user"));if(this.S!=e.tenantId)return Nt(new T("tenant-id-mismatch"));var t=this,n={};n.apiKey=Cf(this).options.apiKey,n.authDomain=Cf(this).options.authDomain,n.appName=Cf(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[cs]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new Ol(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&jl(t,r),Ql(t,e),t}(e,n,t.D,t.Ga());return Af(this,this.h.then((function(){if(Cf(t).options.apiKey!=e.l)return r.reload()})).then((function(){return Nf(t)&&e.uid==Nf(t).uid?(Ql(Nf(t),e),t.da(e)):(Tf(t,r),Bl(r),t.da(r))})).then((function(){Of(t)})))},e.Bb=function(){var e=this;return Af(this,this.h.then((function(){return e.b&&il(e.b.b),Nf(e)?(Tf(e,null),mf(e.i).then((function(){Of(e)}))):Ct()})))},e.Zc=function(){var e=this;return gf(this.i,Cf(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=Nf(e)&&t){n=Nf(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Ql(Nf(e),t),Nf(e).I();(Nf(e)||t)&&(Tf(e,t),t&&(Bl(t),t.ha=e.D),e.b&&Wc(e.b,e),Of(e))}}))},e.da=function(e){return vf(this.i,e)},e.mc=function(){Of(this),this.da(Nf(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return xf(t,Ct(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(Nf(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),Af(e,e.h.then((function(){!e.l&&Y(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Pf(e)))})))}(this,(function(){e.next(Nf(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(Nf(r)):"function"===typeof e.next&&e.next(Nf(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof e?e(Nf(r)):"function"===typeof e.next&&e.next(Nf(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this,n=this.h.then((function(){return Nf(t)?Nf(t).I(e).then((function(e){return{accessToken:e}})):null}));return Af(this,n)},e.Tc=function(e){var t=this;return this.h.then((function(){return xf(t,pu(t.a,uu,{token:e}))})).then((function(e){var n=e.user;return Xl(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return xf(n,pu(n.a,cu,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return xf(n,pu(n.a,Ms,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return xf(t,e.ka(t.a))}))},e.Sc=function(e){return ii("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=Nf(e);if(t&&t.isAnonymous){var n=ui({providerId:null,isNewUser:!1});return ui({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return xf(e,e.a.Ab()).then((function(t){var n=t.user;return Xl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return Nf(this)&&Nf(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&Nf(this)&&Fl(Nf(this))},e.Pc=function(e){var t=this;z(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&Nf(this)&&Ul(Nf(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),Af(this,this.h.then((function(){t.l||Y(t.s,e)&&e(Pf(t))})))},e.removeAuthTokenListener=function(e){Q(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(pf("local"),e.a,this.ja),this.b&&(Hc(this.b,this),il(this.b.b)),Promise.resolve()},e.hc=function(e){return Af(this,function(e,t){return pu(e,Fs,{identifier:t,continueUri:Kr()?fr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Ko(e)},e.xb=function(e,t){var n=this;return Af(this,Ct().then((function(){var e=new Vi(t);if(!e.c)throw new T("argument-error",Ki+" must be true when sending sign in link to email");return Qi(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return Af(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return Af(this,this.a.Sa(e).then((function(e){return new gi(e)})))},e.kb=function(e){return Af(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return Af(this,Ct().then((function(){return"undefined"===typeof t||pe(t)?{}:Qi(new Vi(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return Af(this,ll(this,e,t,_(this.ab,this)))},e.Vc=function(e,t){var n=this;return Af(this,Ct().then((function(){var r=t||fr(),i=Bo(e,r);if(!(r=Ko(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.ab(i)})))},Rf.prototype.render=function(){},Rf.prototype.reset=function(){},Rf.prototype.getResponse=function(){},Rf.prototype.execute=function(){};var jf=null;function Lf(e,t){return(t=Mf(t))&&e.a[t]||null}function Mf(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Ff(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ct(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function Uf(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Vf(){}function qf(){}Df.prototype.render=function(e,t){return this.a[this.b.toString()]=new Ff(e,t),this.b++},Df.prototype.reset=function(e){var t=Lf(this,e);e=Mf(e),t&&e&&(t.delete(),delete this.a[e])},Df.prototype.getResponse=function(e){return(e=Lf(this,e))?e.getResponse():null},Df.prototype.execute=function(e){(e=Lf(this,e))&&e.execute()},Ff.prototype.getResponse=function(){return Uf(this),this.b},Ff.prototype.execute=function(){Uf(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(jr){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(jr){}e.h&&e.execute()}),6e4)}),500))},Ff.prototype.delete=function(){Uf(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},ai(Vf,"FACTOR_ID","phone"),qf.prototype.g=function(){return jf||(jf=new Df),Ct(jf)},qf.prototype.c=function(){};var Bf=null;function Kf(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var zf=new be(ke,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Wf=new Jr(3e4,6e4);Kf.prototype.g=function(e){var t=this;return new _t((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),Wf.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete s[t.a]},Ct(es(xe(zf,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Kf.prototype.c=function(){this.b--};var Hf=null;function Gf(e,t,n,r,i,o,a){if(ai(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(Bf||(Bf=new qf),a=Bf):(Hf||(Hf=new Kf),a=Hf),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Qf])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Zf],!s.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ct(t)||!this.i&&ct(t).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ss(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Yf];this.a[Yf]=function(e){if(Jf(u,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=Rr(c,s);"function"===typeof t&&t(e)}};var l=this.a[Xf];this.a[Xf]=function(){if(Jf(u,null),"function"===typeof l)l();else if("string"===typeof l){var e=Rr(l,s);"function"===typeof e&&e()}}}var Yf="callback",Xf="expired-callback",Qf="sitekey",Zf="size";function Jf(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(jr){}}function $f(e,t){return e.h.push(t),t.oa((function(){X(e.h,t)})),t}function eh(e){if(e.J)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function th(e,t,n){var r=!1;try{this.b=n||Xh.default.app()}catch(qr){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(qr){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(qr){}o=Xh.default.SDK_VERSION?Or(Xh.default.SDK_VERSION,o):null,Gf.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(Lr){e=null}return e}),o,A(C),r)}function nh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=rh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=rh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new T("argument-error",e+" failed: "+r)}(e=Gf.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=$f(this,Ct().then((function(){if(Kr()&&!Er())return br();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,pu(e.s,Zs,{})})).then((function(t){e.a[Qf]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){eh(this);var e=this;return $f(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=ct(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ut&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',ze(a.name),'"'),a.type){o.push(' type="',ze(a.type),'"');var s={};ge(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=vt(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):lt(o,a)),2<r.length&&pt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){eh(this);var e=this;return $f(this,this.render().then((function(t){return new _t((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){Q(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){eh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){eh(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ct(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},I(th,Gf);var rh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ih(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function oh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function ah(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:v}}function sh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function uh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function ch(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function lh(e,t){return v(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function fh(e){return v(e)&&"string"===typeof e.uid}function hh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function dh(e,t){for(var n in t){var r=t[n].name;e[r]=mh(r,e[n],t[n].j)}}function ph(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:E((function(e){return this[e]}),n),set:E((function(e,t,n,r){nh(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function vh(e,t,n,r){e[t]=mh(t,n,r)}function mh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return nh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}dh(bf.prototype,{kb:{name:"applyActionCode",j:[ih("code")]},Sa:{name:"checkActionCode",j:[ih("code")]},ob:{name:"confirmPasswordReset",j:[ih("code"),ih("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ih("email"),ih("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ih("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ih("emailLink")]},Hc:{name:"onAuthStateChanged",j:[hh(ah(),sh(),"nextOrObserver"),sh("opt_error",!0),sh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[hh(ah(),sh(),"nextOrObserver"),sh("opt_error",!0),sh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[ih("email"),hh(ah("opt_actionCodeSettings",!0),uh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[ih("email"),ah("actionCodeSettings")]},yb:{name:"setPersistence",j:[ih("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[ch()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[ch()]},Tc:{name:"signInWithCustomToken",j:[ih("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ih("email"),ih("password")]},Vc:{name:"signInWithEmailLink",j:[ih("email"),ih("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ih("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[hh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof Ol)}},uh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ih(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ih("url"),ah("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ih("code")]}}),ph(bf.prototype,{lc:{name:"languageCode",lb:hh(ih(),uh(),"languageCode")},ti:{name:"tenantId",lb:hh(ih(),uh(),"tenantId")}}),bf.Persistence=lc,bf.Persistence.LOCAL="local",bf.Persistence.SESSION="session",bf.Persistence.NONE="none",dh(Ol.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[oh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[oh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[ch()]},rb:{name:"linkWithCredential",j:[ch()]},Dc:{name:"linkWithPhoneNumber",j:[ih("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ch()]},ub:{name:"reauthenticateWithCredential",j:[ch()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ih("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[hh(ah("opt_actionCodeSettings",!0),uh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ih(null,!0)]},cd:{name:"unlink",j:[ih("provider")]},Cb:{name:"updateEmail",j:[ih("email")]},Db:{name:"updatePassword",j:[ih("password")]},ed:{name:"updatePhoneNumber",j:[ch("phone")]},Eb:{name:"updateProfile",j:[ah("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[ih("email"),hh(ah("opt_actionCodeSettings",!0),uh(null,!0),"opt_actionCodeSettings",!0)]}}),dh(Df.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),dh(Rf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),dh(_t.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),ph(ul.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:oh("appVerificationDisabledForTesting")}}),dh(cl.prototype,{confirm:{name:"confirm",j:[ih("verificationCode")]}}),vh(wo,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[xo,Vo,Wo,Io],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[hh(ih(),ah(),"json")]),vh(qo,"credential",(function(e,t){return new Uo(e,t)}),[ih("email"),ih("password")]),dh(Uo.prototype,{w:{name:"toJSON",j:[ih(null,!0)]}}),dh(Oo.prototype,{Ca:{name:"addScope",j:[ih("scope")]},Ka:{name:"setCustomParameters",j:[ah("customOAuthParameters")]}}),vh(Oo,"credential",Ao,[hh(ih(),ah(),"token")]),vh(qo,"credentialWithLink",Bo,[ih("email"),ih("emailLink")]),dh(Ro.prototype,{Ca:{name:"addScope",j:[ih("scope")]},Ka:{name:"setCustomParameters",j:[ah("customOAuthParameters")]}}),vh(Ro,"credential",Do,[hh(ih(),ah(),"token")]),dh(jo.prototype,{Ca:{name:"addScope",j:[ih("scope")]},Ka:{name:"setCustomParameters",j:[ah("customOAuthParameters")]}}),vh(jo,"credential",Lo,[hh(ih(),hh(ah(),uh()),"idToken"),hh(ih(),uh(),"accessToken",!0)]),dh(Mo.prototype,{Ka:{name:"setCustomParameters",j:[ah("customOAuthParameters")]}}),vh(Mo,"credential",Fo,[hh(ih(),ah(),"token"),ih("secret",!0)]),dh(Po.prototype,{Ca:{name:"addScope",j:[ih("scope")]},credential:{name:"credential",j:[hh(ih(),hh(ah(),uh()),"optionsOrIdToken"),hh(ih(),uh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[ah("customOAuthParameters")]}}),dh(So.prototype,{w:{name:"toJSON",j:[ih(null,!0)]}}),dh(Eo.prototype,{w:{name:"toJSON",j:[ih(null,!0)]}}),vh(Go,"credential",Yo,[ih("verificationId"),ih("verificationCode")]),dh(Go.prototype,{gb:{name:"verifyPhoneNumber",j:[hh(ih(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?lh(e.session,yo)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?lh(e.session,bo)&&fh(e.multiFactorHint):e.session&&e.multiFactorUid?lh(e.session,bo)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),dh(zo.prototype,{w:{name:"toJSON",j:[ih(null,!0)]}}),dh(T.prototype,{toJSON:{name:"toJSON",j:[ih(null,!0)]}}),dh(ra.prototype,{toJSON:{name:"toJSON",j:[ih(null,!0)]}}),dh(na.prototype,{toJSON:{name:"toJSON",j:[ih(null,!0)]}}),dh(vl.prototype,{toJSON:{name:"toJSON",j:[ih(null,!0)]}}),dh(hl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),dh(_l.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},ih("displayName",!0)]},bd:{name:"unenroll",j:[hh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:fh},ih(),"multiFactorInfoIdentifier")]}}),dh(th.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),vh(Oi,"parseLink",Ui,[ih("link")]),vh(Vf,"assertion",(function(e){return new bl(e)}),[ch("phone")]),function(){if("undefined"===typeof Xh.default||!Xh.default.INTERNAL||!Xh.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:bi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:yi,VERIFY_AND_CHANGE_EMAIL:wi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:bf,AuthCredential:wo,Error:T};vh(e,"EmailAuthProvider",qo,[]),vh(e,"FacebookAuthProvider",Oo,[]),vh(e,"GithubAuthProvider",Ro,[]),vh(e,"GoogleAuthProvider",jo,[]),vh(e,"TwitterAuthProvider",Mo,[]),vh(e,"OAuthProvider",Po,[ih("providerId")]),vh(e,"SAMLAuthProvider",No,[ih("providerId")]),vh(e,"PhoneAuthProvider",Go,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof bf)}}]),vh(e,"RecaptchaVerifier",th,[hh(ih(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),ah("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof Xh.default.app.App)}}]),vh(e,"ActionCodeURL",Oi,[]),vh(e,"PhoneMultiFactorGenerator",Vf,[]),Xh.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new bf(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),Xh.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:_((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:_(e.nc,e),addAuthTokenListener:_(e.cc,e),removeAuthTokenListener:_(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Xh.default.registerVersion("@firebase/auth","0.16.8"),Xh.default.INTERNAL.extendNamespace({User:Ol})}()}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});n(172);var Qh=function(e,t){return Qh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Qh(e,t)};function Zh(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Qh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Jh(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Ax){o(Ax)}}function s(e){try{u(r.throw(e))}catch(Ax){o(Ax)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function $h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Ax){o=[6,Ax],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function ed(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var td=n(293),nd=n(386),rd=function(e,t){return rd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},rd(e,t)};function id(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var od,ad="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},sd=sd||{},ud=ad||self;function cd(){}function ld(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function fd(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var hd="closure_uid_"+(1e9*Math.random()>>>0),dd=0;function pd(e,t,n){return e.call.apply(e.bind,arguments)}function vd(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function md(e,t,n){return(md=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pd:vd).apply(null,arguments)}function gd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function yd(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function bd(){this.s=this.s,this.o=this.o}var wd={};bd.prototype.s=!1,bd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,hd)&&e[hd]||(e[hd]=++dd)}(this);delete wd[e]}},bd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var _d=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ed=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function kd(e){return Array.prototype.concat.apply([],arguments)}function Id(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Sd(e){return/^[\s\xa0]*$/.test(e)}var Td,xd=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Cd(e,t){return-1!=e.indexOf(t)}function Nd(e,t){return e<t?-1:e>t?1:0}e:{var Pd=ud.navigator;if(Pd){var Od=Pd.userAgent;if(Od){Td=Od;break e}}Td=""}function Ad(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Rd(e){var t={};for(var n in e)t[n]=e[n];return t}var Dd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jd(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Dd.length;o++)n=Dd[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ld(e){return Ld[" "](e),e}Ld[" "]=cd;var Md,Fd=Cd(Td,"Opera"),Ud=Cd(Td,"Trident")||Cd(Td,"MSIE"),Vd=Cd(Td,"Edge"),qd=Vd||Ud,Bd=Cd(Td,"Gecko")&&!(Cd(Td.toLowerCase(),"webkit")&&!Cd(Td,"Edge"))&&!(Cd(Td,"Trident")||Cd(Td,"MSIE"))&&!Cd(Td,"Edge"),Kd=Cd(Td.toLowerCase(),"webkit")&&!Cd(Td,"Edge");function zd(){var e=ud.document;return e?e.documentMode:void 0}e:{var Wd="",Hd=function(){var e=Td;return Bd?/rv:([^\);]+)(\)|;)/.exec(e):Vd?/Edge\/([\d\.]+)/.exec(e):Ud?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Kd?/WebKit\/(\S+)/.exec(e):Fd?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Hd&&(Wd=Hd?Hd[1]:""),Ud){var Gd=zd();if(null!=Gd&&Gd>parseFloat(Wd)){Md=String(Gd);break e}}Md=Wd}var Yd,Xd={};function Qd(){return function(e){var t=Xd;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=xd(String(Md)).split("."),n=xd("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Nd(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Nd(0==o[2].length,0==a[2].length)||Nd(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(ud.document&&Ud){var Zd=zd();Yd=Zd||(parseInt(Md,10)||void 0)}else Yd=void 0;var Jd=Yd,$d=function(){if(!ud.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ud.addEventListener("test",cd,t),ud.removeEventListener("test",cd,t)}catch(Pr){}return e}();function ep(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function tp(e,t){if(ep.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Bd){e:{try{Ld(t.nodeName);var i=!0;break e}catch(Dr){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:np[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&tp.Z.h.call(this)}}ep.prototype.h=function(){this.defaultPrevented=!0},yd(tp,ep);var np={2:"touch",3:"pen",4:"mouse"};tp.prototype.h=function(){tp.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var rp="closure_listenable_"+(1e6*Math.random()|0),ip=0;function op(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ip,this.ca=this.fa=!1}function ap(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function sp(e){this.src=e,this.g={},this.h=0}function up(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=_d(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ap(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function cp(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}sp.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=cp(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new op(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var lp="closure_lm_"+(1e6*Math.random()|0),fp={};function hp(e,t,n,r,i){if(r&&r.once)return pp(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)hp(e,t[o],n,r,i);return null}return n=_p(n),e&&e[rp]?e.N(t,n,fd(r)?!!r.capture:!!r,i):dp(e,t,n,!1,r,i)}function dp(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=fd(i)?!!i.capture:!!i,s=bp(e);if(s||(e[lp]=s=new sp(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=yp;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)$d||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(gp(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function pp(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)pp(e,t[o],n,r,i);return null}return n=_p(n),e&&e[rp]?e.O(t,n,fd(r)?!!r.capture:!!r,i):dp(e,t,n,!0,r,i)}function vp(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)vp(e,t[o],n,r,i);else r=fd(r)?!!r.capture:!!r,n=_p(n),e&&e[rp]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=cp(o=e.g[t],n,r,i))&&(ap(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=bp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=cp(t,n,r,i)),(n=-1<e?t[e]:null)&&mp(n))}function mp(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[rp])up(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(gp(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bp(t))?(up(n,e),0==n.h&&(n.src=null,t[lp]=null)):ap(e)}}}function gp(e){return e in fp?fp[e]:fp[e]="on"+e}function yp(e,t){if(e.ca)e=!0;else{t=new tp(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&mp(e),e=n.call(r,t)}return e}function bp(e){return(e=e[lp])instanceof sp?e:null}var wp="__closure_events_fn_"+(1e9*Math.random()>>>0);function _p(e){return"function"===typeof e?e:(e[wp]||(e[wp]=function(t){return e.handleEvent(t)}),e[wp])}function Ep(){bd.call(this),this.i=new sp(this),this.P=this,this.I=null}function kp(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ep(t,e);else if(t instanceof ep)t.target=t.target||e;else{var i=t;jd(t=new ep(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Ip(a,r,!0,t)&&i}if(i=Ip(a=t.g=e,r,!0,t)&&i,i=Ip(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ip(a=t.g=n[o],r,!1,t)&&i}function Ip(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&up(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}yd(Ep,bd),Ep.prototype[rp]=!0,Ep.prototype.removeEventListener=function(e,t,n,r){vp(this,e,t,n,r)},Ep.prototype.M=function(){if(Ep.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ap(n[r]);delete t.g[e],t.h--}}this.I=null},Ep.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ep.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Sp=ud.JSON.stringify;function Tp(){var e=Dp,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var xp,Cp=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Np.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Np=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new Pp}),(function(e){return e.reset()})),Pp=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Op(e){ud.setTimeout((function(){throw e}),0)}function Ap(e,t){xp||function(){var e=ud.Promise.resolve(void 0);xp=function(){e.then(jp)}}(),Rp||(xp(),Rp=!0),Dp.add(e,t)}var Rp=!1,Dp=new Cp;function jp(){for(var e;e=Tp();){try{e.h.call(e.g)}catch(Pr){Op(Pr)}var t=Np;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Rp=!1}function Lp(e,t){Ep.call(this),this.h=e||1,this.g=t||ud,this.j=md(this.kb,this),this.l=Date.now()}function Mp(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Fp(e,t,n){if("function"===typeof e)n&&(e=md(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=md(e.handleEvent,e)}return 2147483647<Number(t)?-1:ud.setTimeout(e,t||0)}function Up(e){e.g=Fp((function(){e.g=null,e.i&&(e.i=!1,Up(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}yd(Lp,Ep),(od=Lp.prototype).da=!1,od.S=null,od.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),kp(this,"tick"),this.da&&(Mp(this),this.start()))}},od.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},od.M=function(){Lp.Z.M.call(this),Mp(this),delete this.g};var Vp=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}rd(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Up(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(ud.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(bd);function qp(e){bd.call(this),this.h=e,this.g={}}yd(qp,bd);var Bp=[];function Kp(e,t,n,r){Array.isArray(n)||(n&&(Bp[0]=n.toString()),n=Bp);for(var i=0;i<n.length;i++){var o=hp(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function zp(e){Ad(e.g,(function(e,t){this.g.hasOwnProperty(t)&&mp(e)}),e),e.g={}}function Wp(){this.g=!0}function Hp(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Sp(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}qp.prototype.M=function(){qp.Z.M.call(this),zp(this)},qp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wp.prototype.Aa=function(){this.g=!1},Wp.prototype.info=function(){};var Gp={},Yp=null;function Xp(){return Yp=Yp||new Ep}function Qp(e){ep.call(this,Gp.Ma,e)}function Zp(e){var t=Xp();kp(t,new Qp(t,e))}function Jp(e,t){ep.call(this,Gp.STAT_EVENT,e),this.stat=t}function $p(e){var t=Xp();kp(t,new Jp(t,e))}function ev(e,t){ep.call(this,Gp.Na,e),this.size=t}function tv(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ud.setTimeout((function(){e()}),t)}Gp.Ma="serverreachability",yd(Qp,ep),Gp.STAT_EVENT="statevent",yd(Jp,ep),Gp.Na="timingevent",yd(ev,ep);var nv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},rv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function iv(){}function ov(e){return e.h||(e.h=e.i())}function av(){}iv.prototype.h=null;var sv,uv={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function cv(){ep.call(this,"d")}function lv(){ep.call(this,"c")}function fv(){}function hv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new qp(this),this.P=pv,e=qd?125:void 0,this.W=new Lp(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new dv}function dv(){this.i=null,this.g="",this.h=!1}yd(cv,ep),yd(lv,ep),yd(fv,iv),fv.prototype.g=function(){return new XMLHttpRequest},fv.prototype.i=function(){return{}},sv=new fv;var pv=45e3,vv={},mv={};function gv(e,t,n){e.K=1,e.v=Vv(Dv(t)),e.s=n,e.U=!0,yv(e,null)}function yv(e,t){e.F=Date.now(),Ev(e),e.A=Dv(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),$v(n.h,"t",r),e.C=0,n=e.l.H,e.h=new dv,e.g=eg(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Vp(md(e.Ia,e,e.g),e.O)),Kp(e.V,e.g,"readystatechange",e.gb),t=e.H?Rd(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Zp(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function bv(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function wv(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=_v(e,n))==mv){4==t&&(e.o=4,$p(14),i=!1),Hp(e.j,e.m,null,"[Incomplete Response]");break}if(r==vv){e.o=4,$p(15),Hp(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Hp(e.j,e.m,r,null),xv(e,r)}bv(e)&&r!=mv&&r!=vv&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,$p(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hm(t),t.L=!0,$p(11))):(Hp(e.j,e.m,n,"[Invalid Chunked Response]"),Tv(e),Sv(e))}function _v(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?mv:(n=Number(t.substring(n,r)),isNaN(n)?vv:(r+=1)+n>t.length?mv:(t=t.substr(r,n),e.C=r+n,t))}function Ev(e){e.Y=Date.now()+e.P,kv(e,e.P)}function kv(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=tv(md(e.eb,e),t)}function Iv(e){e.B&&(ud.clearTimeout(e.B),e.B=null)}function Sv(e){0==e.l.G||e.I||Xm(e.l,e)}function Tv(e){Iv(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Mp(e.W),zp(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function xv(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||am(n.i,e)))if(n.I=e.N,!e.J&&am(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ym(n),Mm(n)}Wm(n),$p(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=tv(md(n.ab,n),6e3));if(1>=om(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Zm(n,11)}else if((e.J||n.g==e)&&Ym(n),!Sd(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Cd(l,"spdy")||Cd(l,"quic")||Cd(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(sm(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Uv(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=$m(r,r.H?r.la:null,r.W),d.J){um(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Iv(p),Ev(p)),r.g=d}else zm(r);0<n.l.length&&Vm(n)}else"stop"!=o[0]&&"close"!=o[0]||Zm(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Zm(n,7):Lm(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Zp(4)}catch(o){}}function Cv(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ld(e)||"string"===typeof e)Ed(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ld(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(ld(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Nv(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Nv)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Pv(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ov(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Ov(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ov(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(od=hv.prototype).setTimeout=function(e){this.P=e},od.gb=function(e){e=e.target;var t=this.L;t&&3==Om(e)?t.l():this.Ia(e)},od.Ia=function(e){try{if(e==this.g)e:{var t=Om(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||qd||this.g&&(this.h.h||this.g.ga()||Am(this.g)))){this.I||4!=t||7==n||Zp(8==n||0>=r?3:2),Iv(this);var i=this.g.ba();this.N=i;t:if(bv(this)){var o=Am(this.g);e="";var a=o.length,s=4==Om(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Tv(this),Sv(this);var u="";break t}this.h.i=new ud.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sd(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,$p(12),Tv(this),Sv(this);break e}Hp(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xv(this,i)}this.U?(wv(this,t,u),qd&&this.i&&3==t&&(Kp(this.V,this.W,"tick",this.fb),this.W.start())):(Hp(this.j,this.m,u,null),xv(this,u)),4==t&&Tv(this),this.i&&!this.I&&(4==t?Xm(this.l,this):(this.i=!1,Ev(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,$p(12)):(this.o=0,$p(13)),Tv(this),Sv(this)}}}catch(t){}},od.fb=function(){if(this.g){var e=Om(this.g),t=this.g.ga();this.C<t.length&&(Iv(this),wv(this,e,t),this.i&&4!=e&&Ev(this))}},od.cancel=function(){this.I=!0,Tv(this)},od.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Zp(3),$p(17)),Tv(this),this.o=2,Sv(this)):kv(this,this.Y-e)},(od=Nv.prototype).R=function(){Pv(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},od.T=function(){return Pv(this),this.g.concat()},od.get=function(e,t){return Ov(this.h,e)?this.h[e]:t},od.set=function(e,t){Ov(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},od.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Av=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rv(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Rv){this.g=void 0!==t?t:e.g,jv(this,e.j),this.s=e.s,Lv(this,e.i),Mv(this,e.m),this.l=e.l,t=e.h;var n=new Xv;n.i=t.i,t.g&&(n.g=new Nv(t.g),n.h=t.h),Fv(this,n),this.o=e.o}else e&&(n=String(e).match(Av))?(this.g=!!t,jv(this,n[1]||"",!0),this.s=qv(n[2]||""),Lv(this,n[3]||"",!0),Mv(this,n[4]),this.l=qv(n[5]||"",!0),Fv(this,n[6]||"",!0),this.o=qv(n[7]||"")):(this.g=!!t,this.h=new Xv(null,this.g))}function Dv(e){return new Rv(e)}function jv(e,t,n){e.j=n?qv(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Lv(e,t,n){e.i=n?qv(t,!0):t}function Mv(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Fv(e,t,n){t instanceof Xv?(e.h=t,function(e,t){t&&!e.j&&(Qv(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zv(this,t),$v(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Bv(t,Gv)),e.h=new Xv(t,e.g))}function Uv(e,t,n){e.h.set(t,n)}function Vv(e){return Uv(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function qv(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bv(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Kv),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Kv(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Rv.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Bv(t,zv,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Bv(t,zv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Bv(n,"/"==n.charAt(0)?Hv:Wv,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Bv(n,Yv)),e.join("")};var zv=/[#\/\?@]/g,Wv=/[#\?:]/g,Hv=/[#\?]/g,Gv=/[#\?@]/g,Yv=/#/g;function Xv(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Qv(e){e.g||(e.g=new Nv,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zv(e,t){Qv(e),t=em(e,t),Ov(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ov((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Pv(e)))}function Jv(e,t){return Qv(e),t=em(e,t),Ov(e.g.h,t)}function $v(e,t,n){Zv(e,t),0<n.length&&(e.i=null,e.g.set(em(e,t),Id(n)),e.h+=n.length)}function em(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(od=Xv.prototype).add=function(e,t){Qv(this),this.i=null,e=em(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},od.forEach=function(e,t){Qv(this),this.g.forEach((function(n,r){Ed(n,(function(n){e.call(t,n,r,this)}),this)}),this)},od.T=function(){Qv(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},od.R=function(e){Qv(this);var t=[];if("string"===typeof e)Jv(this,e)&&(t=kd(t,this.g.get(em(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=kd(t,e[n])}return t},od.set=function(e,t){return Qv(this),this.i=null,Jv(this,e=em(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},od.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},od.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var tm=function(e,t){this.h=e,this.g=t};function nm(e){this.l=e||rm,ud.PerformanceNavigationTiming?e=0<(e=ud.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ud.g&&ud.g.Ea&&ud.g.Ea()&&ud.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rm=10;function im(e){return!!e.h||!!e.g&&e.g.size>=e.j}function om(e){return e.h?1:e.g?e.g.size:0}function am(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function sm(e,t){e.g?e.g.add(t):e.h=t}function um(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function cm(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=id(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Id(e.i)}function lm(){}function fm(){this.g=new lm}function hm(e,t,n){var r=n||"";try{Cv(e,(function(e,n){var i=e;fd(e)&&(i=Sp(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Ax){throw t.push(r+"type="+encodeURIComponent("_badmap")),Ax}}function dm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(Dr){}}function pm(e){this.l=e.$b||null,this.j=e.ib||!1}function vm(e,t){Ep.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=mm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nm.prototype.cancel=function(){var e,t;if(this.i=cm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=id(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},lm.prototype.stringify=function(e){return ud.JSON.stringify(e,void 0)},lm.prototype.parse=function(e){return ud.JSON.parse(e,void 0)},yd(pm,iv),pm.prototype.g=function(){return new vm(this.l,this.j)},pm.prototype.i=function(e){return function(){return e}}({}),yd(vm,Ep);var mm=0;function gm(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function ym(e){e.readyState=4,e.l=null,e.j=null,e.A=null,bm(e)}function bm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(od=vm.prototype).open=function(e,t){if(this.readyState!=mm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,bm(this)},od.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ud).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},od.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ym(this)),this.readyState=mm},od.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,bm(this)),this.g&&(this.readyState=3,bm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof ud.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gm(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},od.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ym(this):bm(this),3==this.readyState&&gm(this)}},od.Ua=function(e){this.g&&(this.response=this.responseText=e,ym(this))},od.Ta=function(e){this.g&&(this.response=e,ym(this))},od.ha=function(){this.g&&ym(this)},od.setRequestHeader=function(e,t){this.v.append(e,t)},od.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},od.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(vm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var wm=ud.JSON.parse;function _m(e){Ep.call(this),this.headers=new Nv,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Em,this.K=this.L=!1}yd(_m,Ep);var Em="",km=/^https?$/i,Im=["POST","PUT"];function Sm(e){return"content-type"==e.toLowerCase()}function Tm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,xm(e),Nm(e)}function xm(e){e.D||(e.D=!0,kp(e,"complete"),kp(e,"error"))}function Cm(e){if(e.h&&"undefined"!=typeof sd&&(!e.C[1]||4!=Om(e)||2!=e.ba()))if(e.v&&4==Om(e))Fp(e.Fa,0,e);else if(kp(e,"readystatechange"),4==Om(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(Av)[1]||null;if(!o&&ud.self&&ud.self.location){var a=ud.self.location.protocol;o=a.substr(0,a.length-1)}i=!km.test(o?o.toLowerCase():"")}t=i}if(t)kp(e,"complete"),kp(e,"success");else{e.m=6;try{var s=2<Om(e)?e.g.statusText:""}catch(Ar){s=""}e.j=s+" ["+e.ba()+"]",xm(e)}}finally{Nm(e)}}}function Nm(e,t){if(e.g){Pm(e);var n=e.g,r=e.C[0]?cd:null;e.g=null,e.C=null,t||kp(e,"ready");try{n.onreadystatechange=r}catch(Ax){}}}function Pm(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ud.clearTimeout(e.A),e.A=null)}function Om(e){return e.g?e.g.readyState:0}function Am(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Em:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Br){return null}}function Rm(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Ad(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Uv(e,t,n))}function Dm(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function jm(e){this.za=0,this.l=[],this.h=new Wp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Dm("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Dm("baseRetryDelayMs",5e3,e),this.$a=Dm("retryDelaySeedMs",1e4,e),this.Ya=Dm("forwardChannelMaxRetries",2,e),this.ra=Dm("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new nm(e&&e.concurrentRequestLimit),this.Ca=new fm,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Lm(e){if(Fm(e),3==e.G){var t=e.V++,n=Dv(e.F);Uv(n,"SID",e.J),Uv(n,"RID",t),Uv(n,"TYPE","terminate"),Bm(e,n),(t=new hv(e,e.h,t,void 0)).K=2,t.v=Vv(Dv(n)),n=!1,ud.navigator&&ud.navigator.sendBeacon&&(n=ud.navigator.sendBeacon(t.v.toString(),"")),!n&&ud.Image&&((new Image).src=t.v,n=!0),n||(t.g=eg(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ev(t)}Jm(e)}function Mm(e){e.g&&(Hm(e),e.g.cancel(),e.g=null)}function Fm(e){Mm(e),e.u&&(ud.clearTimeout(e.u),e.u=null),Ym(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ud.clearTimeout(e.m),e.m=null)}function Um(e,t){e.l.push(new tm(e.Za++,t)),3==e.G&&Vm(e)}function Vm(e){im(e.i)||e.m||(e.m=!0,Ap(e.Ha,e),e.C=0)}function qm(e,t){var n;n=t?t.m:e.V++;var r=Dv(e.F);Uv(r,"SID",e.J),Uv(r,"RID",n),Uv(r,"AID",e.U),Bm(e,r),e.o&&e.s&&Rm(r,e.o,e.s),n=new hv(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Km(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),sm(e.i,n),gv(n,r,t)}function Bm(e,t){e.j&&Cv({},(function(e,n){Uv(t,n,e)}))}function Km(e,t,n){n=Math.min(e.l.length,n);var r=e.j?md(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{hm(l,a,"req"+c+"_")}catch(gi){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function zm(e){e.g||e.u||(e.Y=1,Ap(e.Ga,e),e.A=0)}function Wm(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=tv(md(e.Ga,e),Qm(e,e.A)),e.A++,!0)}function Hm(e){null!=e.B&&(ud.clearTimeout(e.B),e.B=null)}function Gm(e){e.g=new hv(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Dv(e.oa);Uv(t,"RID","rpc"),Uv(t,"SID",e.J),Uv(t,"CI",e.N?"0":"1"),Uv(t,"AID",e.U),Bm(e,t),Uv(t,"TYPE","xmlhttp"),e.o&&e.s&&Rm(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Vv(Dv(t)),n.s=null,n.U=!0,yv(n,e)}function Ym(e){null!=e.v&&(ud.clearTimeout(e.v),e.v=null)}function Xm(e,t){var n=null;if(e.g==t){Ym(e),Hm(e),e.g=null;var r=2}else{if(!am(e.i,t))return;n=t.D,um(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;kp(r=Xp(),new ev(r,n,t,i)),Vm(e)}else zm(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(om(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=tv(md(e.Ha,e,t),Qm(e,e.C)),e.C++,!0))}(e,t)||2==r&&Wm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Zm(e,5);break;case 4:Zm(e,10);break;case 3:Zm(e,6);break;default:Zm(e,2)}}function Qm(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Zm(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=md(e.jb,e);n||(n=new Rv("//www.google.com/images/cleardot.gif"),ud.location&&"http"==ud.location.protocol||jv(n,"https"),Vv(n)),function(e,t){var n=new Wp;if(ud.Image){var r=new Image;r.onload=gd(dm,n,r,"TestLoadImage: loaded",!0,t),r.onerror=gd(dm,n,r,"TestLoadImage: error",!1,t),r.onabort=gd(dm,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=gd(dm,n,r,"TestLoadImage: timeout",!1,t),ud.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else $p(2);e.G=0,e.j&&e.j.va(t),Jm(e),Fm(e)}function Jm(e){e.G=0,e.I=-1,e.j&&(0==cm(e.i).length&&0==e.l.length||(e.i.i.length=0,Id(e.l),e.l.length=0),e.j.ua())}function $m(e,t,n){var r=function(e){return e instanceof Rv?Dv(e):new Rv(e,void 0)}(n);if(""!=r.i)t&&Lv(r,t+"."+r.i),Mv(r,r.m);else{var i=ud.location;r=function(e,t,n,r){var i=new Rv(null,void 0);return e&&jv(i,e),t&&Lv(i,t),n&&Mv(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Ad(e.aa,(function(e,t){Uv(r,t,e)})),t=e.D,n=e.sa,t&&n&&Uv(r,t,n),Uv(r,"VER",e.ma),Bm(e,r),r}function eg(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new _m(new pm({ib:!0})):new _m(e.qa)).L=e.H,t}function tg(){}function ng(){if(Ud&&!(10<=Number(Jd)))throw Error("Environmental error: no available transport.")}function rg(e,t){Ep.call(this),this.g=new jm(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Sd(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Sd(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ag(this)}function ig(e){cv.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function og(){lv.call(this),this.status=1}function ag(e){this.g=e}(od=_m.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():sv.g(),this.C=this.u?ov(this.u):ov(sv),this.g.onreadystatechange=md(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(Dr){return void Tm(this,Dr)}e=n||"";var i=new Nv(this.headers);r&&Cv(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Sm,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=ud.FormData&&e instanceof ud.FormData,!(0<=_d(Im,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Pm(this),0<this.B&&((this.K=function(e){return Ud&&Qd()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=md(this.pa,this)):this.A=Fp(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(Dr){Tm(this,Dr)}},od.pa=function(){"undefined"!=typeof sd&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kp(this,"timeout"),this.abort(8))},od.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,kp(this,"complete"),kp(this,"abort"),Nm(this))},od.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nm(this,!0)),_m.Z.M.call(this)},od.Fa=function(){this.s||(this.F||this.v||this.l?Cm(this):this.cb())},od.cb=function(){Cm(this)},od.ba=function(){try{return 2<Om(this)?this.g.status:-1}catch(Nr){return-1}},od.ga=function(){try{return this.g?this.g.responseText:""}catch(Nr){return""}},od.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),wm(t)}},od.Da=function(){return this.m},od.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(od=jm.prototype).ma=8,od.G=1,od.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(Br){}},od.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new hv(this,this.h,e,void 0),n=this.s;if(this.P&&(n?jd(n=Rd(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Km(this,t,r),Uv(i=Dv(this.F),"RID",e),Uv(i,"CVER",22),this.D&&Uv(i,"X-HTTP-Session-Id",this.D),Bm(this,i),this.o&&n&&Rm(i,this.o,n),sm(this.i,t),this.Ra&&Uv(i,"TYPE","init"),this.ja?(Uv(i,"$req",r),Uv(i,"SID","null"),t.$=!0,gv(t,i,null)):gv(t,i,r),this.G=2}}else 3==this.G&&(e?qm(this,e):0==this.l.length||im(this.i)||qm(this))},od.Ga=function(){if(this.u=null,Gm(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=tv(md(this.bb,this),e)}},od.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,$p(10),Mm(this),Gm(this))},od.ab=function(){null!=this.v&&(this.v=null,Mm(this),Wm(this),$p(19))},od.jb=function(e){e?(this.h.info("Successfully pinged google.com"),$p(2)):(this.h.info("Failed to ping google.com"),$p(1))},(od=tg.prototype).xa=function(){},od.wa=function(){},od.va=function(){},od.ua=function(){},od.Oa=function(){},ng.prototype.g=function(e,t){return new rg(e,t)},yd(rg,Ep),rg.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ap(md(e.hb,e,t))),$p(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=$m(e,null,e.W),Vm(e)},rg.prototype.close=function(){Lm(this.g)},rg.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Um(this.g,t)}else this.v?((t={}).__data__=Sp(e),Um(this.g,t)):Um(this.g,e)},rg.prototype.M=function(){this.g.j=null,delete this.j,Lm(this.g),delete this.g,rg.Z.M.call(this)},yd(ig,cv),yd(og,lv),yd(ag,tg),ag.prototype.xa=function(){kp(this.g,"a")},ag.prototype.wa=function(e){kp(this.g,new ig(e))},ag.prototype.va=function(e){kp(this.g,new og(e))},ag.prototype.ua=function(){kp(this.g,"b")},ng.prototype.createWebChannel=ng.prototype.g,rg.prototype.send=rg.prototype.u,rg.prototype.open=rg.prototype.m,rg.prototype.close=rg.prototype.close,nv.NO_ERROR=0,nv.TIMEOUT=8,nv.HTTP_ERROR=6,rv.COMPLETE="complete",av.EventType=uv,uv.OPEN="a",uv.CLOSE="b",uv.ERROR="c",uv.MESSAGE="d",Ep.prototype.listen=Ep.prototype.N,_m.prototype.listenOnce=_m.prototype.O,_m.prototype.getLastError=_m.prototype.La,_m.prototype.getLastErrorCode=_m.prototype.Da,_m.prototype.getStatus=_m.prototype.ba,_m.prototype.getResponseJson=_m.prototype.Qa,_m.prototype.getResponseText=_m.prototype.ga,_m.prototype.send=_m.prototype.ea;var sg=function(){return new ng},ug=function(){return Xp()},cg=nv,lg=rv,fg=Gp,hg={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},dg=pm,pg=av,vg=_m,mg=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();mg.o=-1;var gg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},yg=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Zh(t,e),t}(Error),bg=new nd.Logger("@firebase/firestore");function wg(){return bg.logLevel}function _g(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(bg.logLevel<=nd.LogLevel.DEBUG){var r=t.map(Ig);bg.debug.apply(bg,ed(["Firestore (8.10.0): "+e],r))}}function Eg(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(bg.logLevel<=nd.LogLevel.ERROR){var r=t.map(Ig);bg.error.apply(bg,ed(["Firestore (8.10.0): "+e],r))}}function kg(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(bg.logLevel<=nd.LogLevel.WARN){var r=t.map(Ig);bg.warn.apply(bg,ed(["Firestore (8.10.0): "+e],r))}}function Ig(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Sg(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+e;throw Eg(t),new Error(t)}function Tg(e,t){e||Sg()}function xg(e,t){return e}function Cg(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ng=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Cg(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function Pg(e,t){return e<t?-1:e>t?1:0}function Og(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ag(e){return e+"\0"}var Rg=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new yg(gg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new yg(gg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new yg(gg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yg(gg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Pg(this.nanoseconds,e.nanoseconds):Pg(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Dg=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Rg(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function jg(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Lg(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Mg(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Fg=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Sg(),void 0===n?n=e.length-t:n>e.length-t&&Sg(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Ug=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zh(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new yg(gg.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Fg),Vg=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zh(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Vg.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new yg(gg.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new yg(gg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new yg(gg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new yg(gg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Fg),Bg=function(){function e(e){this.fields=e,e.sort(qg.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Og(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Kg=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Pg(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();Kg.EMPTY_BYTE_STRING=new Kg("");var zg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wg(e){if(Tg(!!e),"string"==typeof e){var t=0,n=zg.exec(e);if(Tg(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Hg(e.seconds),nanos:Hg(e.nanos)}}function Hg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Gg(e){return"string"==typeof e?Kg.fromBase64String(e):Kg.fromUint8Array(e)}function Yg(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Xg(e){var t=e.mapValue.fields.__previous_value__;return Yg(t)?Xg(t):t}function Qg(e){var t=Wg(e.mapValue.fields.__local_write_time__.timestampValue);return new Rg(t.seconds,t.nanos)}function Zg(e){return null==e}function Jg(e){return 0===e&&1/e==-1/0}function $g(e){return"number"==typeof e&&Number.isInteger(e)&&!Jg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ey=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Ug.fromString(t))},e.fromName=function(t){return new e(Ug.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Ug.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Ug.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Ug(t.slice()))},e}();function ty(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Yg(e)?4:10:Sg()}function ny(e,t){var n=ty(e);if(n!==ty(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Qg(e).isEqual(Qg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Wg(e.timestampValue),r=Wg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Gg(e.bytesValue).isEqual(Gg(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Hg(e.geoPointValue.latitude)===Hg(t.geoPointValue.latitude)&&Hg(e.geoPointValue.longitude)===Hg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Hg(e.integerValue)===Hg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Hg(e.doubleValue),r=Hg(t.doubleValue);return n===r?Jg(n)===Jg(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Og(e.arrayValue.values||[],t.arrayValue.values||[],ny);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(jg(n)!==jg(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ny(n[i],r[i])))return!1;return!0}(e,t);default:return Sg()}}function ry(e,t){return void 0!==(e.values||[]).find((function(e){return ny(e,t)}))}function iy(e,t){var n=ty(e),r=ty(t);if(n!==r)return Pg(n,r);switch(n){case 0:return 0;case 1:return Pg(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Hg(e.integerValue||e.doubleValue),r=Hg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return oy(e.timestampValue,t.timestampValue);case 4:return oy(Qg(e),Qg(t));case 5:return Pg(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Gg(e),r=Gg(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Pg(n[i],r[i]);if(0!==o)return o}return Pg(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Pg(Hg(e.latitude),Hg(t.latitude));return 0!==n?n:Pg(Hg(e.longitude),Hg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=iy(n[i],r[i]);if(o)return o}return Pg(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Pg(r[a],o[a]);if(0!==s)return s;var u=iy(n[r[a]],i[o[a]]);if(0!==u)return u}return Pg(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Sg()}}function oy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Pg(e,t);var n=Wg(e),r=Wg(t),i=Pg(n.seconds,r.seconds);return 0!==i?i:Pg(n.nanos,r.nanos)}function ay(e){return sy(e)}function sy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Wg(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Gg(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ey.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=sy(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+sy(e.fields[o])}return t+"}"}(e.mapValue):Sg();var t,n}function uy(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function cy(e){return!!e&&"integerValue"in e}function ly(e){return!!e&&"arrayValue"in e}function fy(e){return!!e&&"nullValue"in e}function hy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function dy(e){return!!e&&"mapValue"in e}function py(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Lg(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=py(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=py(e.arrayValue.values[r]);return n}return Object.assign({},e)}var vy=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!dy(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=py(t)},e.prototype.setAll=function(e){var t=this,n=qg.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=py(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());dy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return ny(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];dy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){Lg(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(py(this.value))},e}();function my(e){var t=[];return Lg(e.fields,(function(e,n){var r=new qg([e]);if(dy(n)){var i=my(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new Bg(t)}var gy=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,Dg.min(),vy.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,vy.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,vy.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=vy.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=vy.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),yy=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function by(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new yy(e,t,n,r,i,o,a)}function wy(e){var t=xg(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+ay(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Zg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ry(t.startAt)),t.endAt&&(n+="|ub:",n+=Ry(t.endAt)),t.h=n}return t.h}function _y(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!jy(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!ny(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!My(e.startAt,t.startAt)&&My(e.endAt,t.endAt)}function Ey(e){return ey.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var ky=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return Zh(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Iy(e,n,r):"array-contains"===n?new Cy(e,r):"in"===n?new Ny(e,r):"not-in"===n?new Py(e,r):"array-contains-any"===n?new Oy(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new Sy(e,n):new Ty(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(iy(t,this.value)):null!==t&&ty(this.value)===ty(t)&&this.m(iy(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Sg()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Iy=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=ey.fromName(r.referenceValue),i}return Zh(t,e),t.prototype.matches=function(e){var t=ey.comparator(e.key,this.key);return this.m(t)},t}(ky),Sy=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=xy("in",n),r}return Zh(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(ky),Ty=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=xy("not-in",n),r}return Zh(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(ky);function xy(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ey.fromName(e.referenceValue)}))}var Cy=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Zh(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return ly(t)&&ry(t.arrayValue,this.value)},t}(ky),Ny=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Zh(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&ry(this.value.arrayValue,t)},t}(ky),Py=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Zh(t,e),t.prototype.matches=function(e){if(ry(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!ry(this.value.arrayValue,t)},t}(ky),Oy=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Zh(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!ly(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return ry(t.value.arrayValue,e)}))},t}(ky),Ay=function(e,t){this.position=e,this.before=t};function Ry(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return ay(e)})).join(",")}var Dy=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function jy(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ly(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?ey.comparator(ey.fromName(a.referenceValue),n.key):iy(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function My(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ny(e.position[n],t.position[n]))return!1;return!0}var Fy=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Uy(e,t,n,r,i,o,a,s){return new Fy(e,t,n,r,i,o,a,s)}function Vy(e){return new Fy(e)}function qy(e){return!Zg(e.limit)&&"F"===e.limitType}function By(e){return!Zg(e.limit)&&"L"===e.limitType}function Ky(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function zy(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Wy(e){return null!==e.collectionGroup}function Hy(e){var t=xg(e);if(null===t.p){t.p=[];var n=zy(t),r=Ky(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Dy(n)),t.p.push(new Dy(qg.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Dy(qg.keyField(),u))}}}return t.p}function Gy(e){var t=xg(e);if(!t.T)if("F"===t.limitType)t.T=by(t.path,t.collectionGroup,Hy(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Hy(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Dy(o.field,a))}var s=t.endAt?new Ay(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Ay(t.startAt.position,!t.startAt.before):null;t.T=by(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function Yy(e,t,n){return new Fy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Xy(e,t){return _y(Gy(e),Gy(t))&&e.limitType===t.limitType}function Qy(e){return wy(Gy(e))+"|lt:"+e.limitType}function Zy(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+ay(t.value);var t})).join(", ")+"]"),Zg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Ry(e.startAt)),e.endAt&&(t+=", endAt: "+Ry(e.endAt)),"Target("+t+")"}(Gy(e))+"; limitType="+e.limitType+")"}function Jy(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ey.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Ly(e.startAt,Hy(e),t))&&(!e.endAt||!Ly(e.endAt,Hy(e),t))}(e,t)}function $y(e){return function(t,n){for(var r=!1,i=0,o=Hy(e);i<o.length;i++){var a=o[i],s=eb(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function eb(e,t,n){var r=e.field.isKeyField()?ey.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?iy(r,i):Sg()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Sg()}}function tb(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jg(t)?"-0":t}}function nb(e){return{integerValue:""+e}}function rb(e,t){return $g(t)?nb(t):tb(e,t)}var ib=function(){this._=void 0};function ob(e,t,n){return e instanceof ub?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof cb?lb(e,t):e instanceof fb?hb(e,t):function(e,t){var n=sb(e,t),r=pb(n)+pb(e.A);return cy(n)&&cy(e.A)?nb(r):tb(e.R,r)}(e,t)}function ab(e,t,n){return e instanceof cb?lb(e,t):e instanceof fb?hb(e,t):n}function sb(e,t){return e instanceof db?cy(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var ub=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zh(t,e),t}(ib),cb=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Zh(t,e),t}(ib);function lb(e,t){for(var n=vb(t),r=function(e){n.some((function(t){return ny(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var fb=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Zh(t,e),t}(ib);function hb(e,t){for(var n=vb(t),r=function(e){n=n.filter((function(t){return!ny(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var db=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return Zh(t,e),t}(ib);function pb(e){return Hg(e.integerValue||e.doubleValue)}function vb(e){return ly(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var mb=function(e,t){this.field=e,this.transform=t},gb=function(e,t){this.version=e,this.transformResults=t},yb=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function bb(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var wb=function(){};function _b(e,t,n){e instanceof Tb?function(e,t,n){var r=e.value.clone(),i=Nb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof xb?function(e,t,n){if(bb(e.precondition,t)){var r=Nb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Cb(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Eb(e,t,n){e instanceof Tb?function(e,t,n){if(bb(e.precondition,t)){var r=e.value.clone(),i=Pb(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Sb(t),r).setHasLocalMutations()}}(e,t,n):e instanceof xb?function(e,t,n){if(bb(e.precondition,t)){var r=Pb(e.fieldTransforms,n,t),i=t.data;i.setAll(Cb(e)),i.setAll(r),t.convertToFoundDocument(Sb(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){bb(e.precondition,t)&&t.convertToNoDocument(Dg.min())}(e,t)}function kb(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=sb(o.transform,a||null);null!=s&&(null==n&&(n=vy.empty()),n.set(o.field,s))}return n||null}function Ib(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Og(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof cb&&t instanceof cb||e instanceof fb&&t instanceof fb?Og(e.elements,t.elements,ny):e instanceof db&&t instanceof db?ny(e.A,t.A):e instanceof ub&&t instanceof ub}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Sb(e){return e.isFoundDocument()?e.version:Dg.min()}var Tb=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Zh(t,e),t}(wb),xb=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Zh(t,e),t}(wb);function Cb(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Nb(e,t,n){var r=new Map;Tg(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,ab(a,s,n[i]))}return r}function Pb(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,ob(s,u,t))}return r}var Ob,Ab,Rb=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Zh(t,e),t}(wb),Db=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Zh(t,e),t}(wb),jb=function(e){this.count=e};function Lb(e){switch(e){case gg.OK:return Sg();case gg.CANCELLED:case gg.UNKNOWN:case gg.DEADLINE_EXCEEDED:case gg.RESOURCE_EXHAUSTED:case gg.INTERNAL:case gg.UNAVAILABLE:case gg.UNAUTHENTICATED:return!1;case gg.INVALID_ARGUMENT:case gg.NOT_FOUND:case gg.ALREADY_EXISTS:case gg.PERMISSION_DENIED:case gg.FAILED_PRECONDITION:case gg.ABORTED:case gg.OUT_OF_RANGE:case gg.UNIMPLEMENTED:case gg.DATA_LOSS:return!0;default:return Sg()}}function Mb(e){if(void 0===e)return Eg("GRPC error has no .code"),gg.UNKNOWN;switch(e){case Ob.OK:return gg.OK;case Ob.CANCELLED:return gg.CANCELLED;case Ob.UNKNOWN:return gg.UNKNOWN;case Ob.DEADLINE_EXCEEDED:return gg.DEADLINE_EXCEEDED;case Ob.RESOURCE_EXHAUSTED:return gg.RESOURCE_EXHAUSTED;case Ob.INTERNAL:return gg.INTERNAL;case Ob.UNAVAILABLE:return gg.UNAVAILABLE;case Ob.UNAUTHENTICATED:return gg.UNAUTHENTICATED;case Ob.INVALID_ARGUMENT:return gg.INVALID_ARGUMENT;case Ob.NOT_FOUND:return gg.NOT_FOUND;case Ob.ALREADY_EXISTS:return gg.ALREADY_EXISTS;case Ob.PERMISSION_DENIED:return gg.PERMISSION_DENIED;case Ob.FAILED_PRECONDITION:return gg.FAILED_PRECONDITION;case Ob.ABORTED:return gg.ABORTED;case Ob.OUT_OF_RANGE:return gg.OUT_OF_RANGE;case Ob.UNIMPLEMENTED:return gg.UNIMPLEMENTED;case Ob.DATA_LOSS:return gg.DATA_LOSS;default:return Sg()}}(Ab=Ob||(Ob={}))[Ab.OK=0]="OK",Ab[Ab.CANCELLED=1]="CANCELLED",Ab[Ab.UNKNOWN=2]="UNKNOWN",Ab[Ab.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ab[Ab.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ab[Ab.NOT_FOUND=5]="NOT_FOUND",Ab[Ab.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ab[Ab.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ab[Ab.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ab[Ab.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ab[Ab.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ab[Ab.ABORTED=10]="ABORTED",Ab[Ab.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ab[Ab.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ab[Ab.INTERNAL=13]="INTERNAL",Ab[Ab.UNAVAILABLE=14]="UNAVAILABLE",Ab[Ab.DATA_LOSS=15]="DATA_LOSS";var Fb=function(){function e(e,t){this.comparator=e,this.root=t||Vb.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Vb.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Vb.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Ub(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Ub(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Ub(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Ub(this.root,e,this.comparator,!0)},e}(),Ub=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Vb=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Sg();if(this.right.isRed())throw Sg();var e=this.left.check();if(e!==this.right.check())throw Sg();return e+(this.isRed()?0:1)},e}();Vb.EMPTY=null,Vb.RED=!0,Vb.BLACK=!1,Vb.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Sg()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Sg()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Sg()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Sg()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Sg()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Vb(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var qb=function(){function e(e){this.comparator=e,this.data=new Fb(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Bb(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Bb(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Bb=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Kb=new Fb(ey.comparator);function zb(){return Kb}var Wb=new Fb(ey.comparator);function Hb(){return Wb}var Gb=new Fb(ey.comparator);function Yb(){return Gb}var Xb=new qb(ey.comparator);function Qb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Xb,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Zb=new qb(Pg);function Jb(){return Zb}var $b=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,ew.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Dg.min(),r,Jb(),zb(),Qb())},e}(),ew=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Kg.EMPTY_BYTE_STRING,n,Qb(),Qb(),Qb())},e}(),tw=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},nw=function(e,t){this.targetId=e,this.V=t},rw=function(e,t,n,r){void 0===n&&(n=Kg.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},iw=function(){function e(){this.S=0,this.D=sw(),this.C=Kg.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=Qb(),t=Qb(),n=Qb();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Sg()}})),new ew(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=sw()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),ow=function(){function e(e){this.W=e,this.G=new Map,this.H=zb(),this.J=aw(),this.Y=new qb(Pg)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:Sg()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(Ey(i))if(0===n){var o=new ey(i.path);this.tt(t,o,gy.newNoDocument(o,Dg.min()))}else Tg(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&Ey(o.target)){var a=new ey(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,gy.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=Qb();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new $b(e,n,this.Y,this.H,r);return this.H=zb(),this.J=aw(),this.Y=new qb(Pg),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new iw,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new qb(Pg),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||_g("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new iw),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function aw(){return new Fb(ey.comparator)}function sw(){return new Fb(ey.comparator)}var uw={asc:"ASCENDING",desc:"DESCENDING"},cw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lw=function(e,t){this.databaseId=e,this.I=t};function fw(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function hw(e,t){return e.I?t.toBase64():t.toUint8Array()}function dw(e,t){return fw(e,t.toTimestamp())}function pw(e){return Tg(!!e),Dg.fromTimestamp(function(e){var t=Wg(e);return new Rg(t.seconds,t.nanos)}(e))}function vw(e,t){return function(e){return new Ug(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function mw(e){var t=Ug.fromString(e);return Tg(Vw(t)),t}function gw(e,t){return vw(e.databaseId,t.path)}function yw(e,t){var n=mw(t);if(n.get(1)!==e.databaseId.projectId)throw new yg(gg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new yg(gg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ey(Ew(n))}function bw(e,t){return vw(e.databaseId,t)}function ww(e){var t=mw(e);return 4===t.length?Ug.emptyPath():Ew(t)}function _w(e){return new Ug(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ew(e){return Tg(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function kw(e,t,n){return{name:gw(e,t),fields:n.value.mapValue.fields}}function Iw(e,t,n){var r=yw(e,t.name),i=pw(t.updateTime),o=new vy({mapValue:{fields:t.fields}}),a=gy.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Sw(e,t){var n;if(t instanceof Tb)n={update:kw(e,t.key,t.value)};else if(t instanceof Rb)n={delete:gw(e,t.key)};else if(t instanceof xb)n={update:kw(e,t.key,t.data),updateMask:Uw(t.fieldMask)};else{if(!(t instanceof Db))return Sg();n={verify:gw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ub)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof cb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof fb)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof db)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Sg()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:dw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Sg()}(e,t.precondition)),n}function Tw(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?yb.updateTime(pw(e.updateTime)):void 0!==e.exists?yb.exists(e.exists):yb.none()}(t.currentDocument):yb.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Tg("REQUEST_TIME"===t.setToServerValue),n=new ub;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new cb(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new fb(i)}else"increment"in t?n=new db(e,t.increment):Sg();var o=qg.fromServerFormat(t.fieldPath);return new mb(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=yw(e,t.update.name),o=new vy({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new Bg(t.map((function(e){return qg.fromServerFormat(e)})))}(t.updateMask);return new xb(i,o,a,n,r)}return new Tb(i,o,n,r)}if(t.delete){var s=yw(e,t.delete);return new Rb(s,n)}if(t.verify){var u=yw(e,t.verify);return new Db(u,n)}return Sg()}function xw(e,t){return{documents:[bw(e,t.path)]}}function Cw(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=bw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=bw(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(hy(e.value))return{unaryFilter:{field:jw(e.field),op:"IS_NAN"}};if(fy(e.value))return{unaryFilter:{field:jw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hy(e.value))return{unaryFilter:{field:jw(e.field),op:"IS_NOT_NAN"}};if(fy(e.value))return{unaryFilter:{field:jw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jw(e.field),op:Dw(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:jw(e.field),direction:Rw(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||Zg(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Ow(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Ow(t.endAt)),n}function Nw(e){var t=ww(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Tg(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Pw(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Dy(Lw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Zg(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Aw(n.startAt));var l=null;return n.endAt&&(l=Aw(n.endAt)),Uy(t,i,s,a,u,"F",c,l)}function Pw(e){return e?void 0!==e.unaryFilter?[Fw(e)]:void 0!==e.fieldFilter?[Mw(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Pw(e)})).reduce((function(e,t){return e.concat(t)})):Sg():[]}function Ow(e){return{before:e.before,values:e.position}}function Aw(e){var t=!!e.before,n=e.values||[];return new Ay(n,t)}function Rw(e){return uw[e]}function Dw(e){return cw[e]}function jw(e){return{fieldPath:e.canonicalString()}}function Lw(e){return qg.fromServerFormat(e.fieldPath)}function Mw(e){return ky.create(Lw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Sg()}}(e.fieldFilter.op),e.fieldFilter.value)}function Fw(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Lw(e.unaryFilter.field);return ky.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Lw(e.unaryFilter.field);return ky.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Lw(e.unaryFilter.field);return ky.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Lw(e.unaryFilter.field);return ky.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Sg()}}function Uw(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Vw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function qw(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Kw(t)),t=Bw(e.get(n),t);return Kw(t)}function Bw(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Kw(e){return e+"\x01\x01"}function zw(e){var t=e.length;if(Tg(t>=2),2===t)return Tg("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ug.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&Sg(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:Sg()}o=a+2}return new Ug(r)}var Ww=function(e,t){this.seconds=e,this.nanoseconds=t},Hw=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Hw.store="owner",Hw.key="owner";var Gw=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Gw.store="mutationQueues",Gw.keyPath="userId";var Yw=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Yw.store="mutations",Yw.keyPath="batchId",Yw.userMutationsIndex="userMutationsIndex",Yw.userMutationsKeyPath=["userId","batchId"];var Xw=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,qw(t)]},e.key=function(e,t,n){return[e,qw(t),n]},e}();Xw.store="documentMutations",Xw.PLACEHOLDER=new Xw;var Qw=function(e,t){this.path=e,this.readTime=t},Zw=function(e,t){this.path=e,this.version=t},Jw=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Jw.store="remoteDocuments",Jw.readTimeIndex="readTimeIndex",Jw.readTimeIndexPath="readTime",Jw.collectionReadTimeIndex="collectionReadTimeIndex",Jw.collectionReadTimeIndexPath=["parentPath","readTime"];var $w=function(e){this.byteSize=e};$w.store="remoteDocumentGlobal",$w.key="remoteDocumentGlobalKey";var e_=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};e_.store="targets",e_.keyPath="targetId",e_.queryTargetsIndexName="queryTargetsIndex",e_.queryTargetsKeyPath=["canonicalId","targetId"];var t_=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};t_.store="targetDocuments",t_.keyPath=["targetId","path"],t_.documentTargetsIndex="documentTargetsIndex",t_.documentTargetsKeyPath=["path","targetId"];var n_=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};n_.key="targetGlobalKey",n_.store="targetGlobal";var r_=function(e,t){this.collectionId=e,this.parent=t};r_.store="collectionParents",r_.keyPath=["collectionId","parent"];var i_=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};i_.store="clientMetadata",i_.keyPath="clientId";var o_=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};o_.store="bundles",o_.keyPath="bundleId";var a_=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};a_.store="namedQueries",a_.keyPath="name";var s_=ed(ed([],ed(ed([],ed(ed([],ed(ed([],[Gw.store,Yw.store,Xw.store,Jw.store,e_.store,Hw.store,n_.store,t_.store]),[i_.store])),[$w.store])),[r_.store])),[o_.store,a_.store]),u_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",c_=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),l_=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},f_=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Sg(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),h_=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new l_,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new v_(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=w_(t.target.error);n.ft.reject(new v_(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new v_(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(_g("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new g_(t)},e}(),d_=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,td.getUA)())&&Eg("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return _g("SimpleDb","Removing database:",e),y_(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,td.getUA)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/cats",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return Jh(this,void 0,void 0,(function(){var t,n=this;return $h(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(_g("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new v_(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new yg(gg.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new v_(e,n))},i.onupgradeneeded=function(e){_g("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){_g("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return Jh(this,void 0,void 0,(function(){var i,o,a,s,u;return $h(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return $h(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=f.sent(),t=h_.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),f_.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(f.sent(),a),u)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,_g("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),p_=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return y_(this.Pt.delete())},e}(),v_=function(e){function t(t,n){var r=this;return(r=e.call(this,gg.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Zh(t,e),t}(yg);function m_(e){return"IndexedDbTransactionError"===e.name}var g_=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(_g("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(_g("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),y_(n)},e.prototype.add=function(e){return _g("SimpleDb","ADD",this.store.name,e,e),y_(this.store.add(e))},e.prototype.get=function(e){var t=this;return y_(this.store.get(e)).next((function(n){return void 0===n&&(n=null),_g("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return _g("SimpleDb","DELETE",this.store.name,e),y_(this.store.delete(e))},e.prototype.count=function(){return _g("SimpleDb","COUNT",this.store.name),y_(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){_g("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new f_((function(n,r){t.onerror=function(e){var t=w_(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new f_((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new p_(i),a=t(i.primaryKey,i.value,o);if(a instanceof f_){var s=a.catch((function(e){return o.done(),f_.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return f_.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function y_(e){return new f_((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=w_(e.target.error);n(t)}}))}var b_=!1;function w_(e){var t=d_._t((0,td.getUA)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new yg("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return b_||(b_=!0,setTimeout((function(){throw r}),0)),r}}return e}var __=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return Zh(t,e),t}(c_);function E_(e,t){var n=xg(e);return d_.It(n.Mt,t)}var k_=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&_b(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Eb(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Eb(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Dg.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Qb())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Og(this.mutations,e.mutations,(function(e,t){return Ib(e,t)}))&&Og(this.baseMutations,e.baseMutations,(function(e,t){return Ib(e,t)}))},e}(),I_=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Tg(t.mutations.length===r.length);for(var i=Yb(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),S_=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Dg.min()),void 0===o&&(o=Dg.min()),void 0===a&&(a=Kg.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),T_=function(e){this.Lt=e};function x_(e,t){if(t.document)return Iw(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ey.fromSegments(t.noDocument.path),r=A_(t.noDocument.readTime),i=gy.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=ey.fromSegments(t.unknownDocument.path);return r=A_(t.unknownDocument.version),gy.newUnknownDocument(o,r)}return Sg()}function C_(e,t,n){var r=N_(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:gw(e,t.key),fields:t.data.value.mapValue.fields,updateTime:fw(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Jw(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=O_(t.version);return a=t.hasCommittedMutations,new Jw(null,new Qw(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=O_(t.version);return new Jw(new Zw(c,l),null,null,!0,r,i)}return Sg()}function N_(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function P_(e){var t=new Rg(e[0],e[1]);return Dg.fromTimestamp(t)}function O_(e){var t=e.toTimestamp();return new Ww(t.seconds,t.nanoseconds)}function A_(e){var t=new Rg(e.seconds,e.nanoseconds);return Dg.fromTimestamp(t)}function R_(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Tw(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Tw(e.Lt,t)})),s=Rg.fromMillis(t.localWriteTimeMs);return new k_(t.batchId,s,n,a)}function D_(e){var t,n,r=A_(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?A_(e.lastLimboFreeSnapshotVersion):Dg.min();return void 0!==e.query.documents?(Tg(1===(n=e.query).documents.length),t=Gy(Vy(ww(n.documents[0])))):t=function(e){return Gy(Nw(e))}(e.query),new S_(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Kg.fromBase64String(e.resumeToken))}function j_(e,t){var n,r=O_(t.snapshotVersion),i=O_(t.lastLimboFreeSnapshotVersion);n=Ey(t.target)?xw(e.Lt,t.target):Cw(e.Lt,t.target);var o=t.resumeToken.toBase64();return new e_(t.targetId,wy(t.target),r,o,t.sequenceNumber,i,n)}function L_(e){var t=Nw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Yy(t,t.limit,"L"):t}var M_=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return F_(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:A_(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return F_(e).put({bundleId:(n=t).id,createTime:O_(pw(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return U_(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:L_(t.bundledQuery),readTime:A_(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return U_(e).put(function(e){return{name:e.name,readTime:O_(pw(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function F_(e){return E_(e,o_.store)}function U_(e){return E_(e,a_.store)}var V_=function(){function e(){this.Bt=new q_}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),f_.resolve()},e.prototype.getCollectionParents=function(e,t){return f_.resolve(this.Bt.getEntries(t))},e}(),q_=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new qb(Ug.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new qb(Ug.comparator)).toArray()},e}(),B_=function(){function e(){this.qt=new q_}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:qw(i)};return K_(e).put(o)}return f_.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ag(t),""],!1,!0);return K_(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(zw(o.parent))}return n}))},e}();function K_(e){return E_(e,r_.store)}var z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W_=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function H_(e,t,n){var r=e.store(Yw.store),i=e.store(Xw.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Tg(1===s)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=Xw.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return f_.waitFor(o).next((function(){return c}))}function G_(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Sg();t=e.noDocument}return JSON.stringify(t).length}W_.DEFAULT_COLLECTION_PERCENTILE=10,W_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,W_.DEFAULT=new W_(41943040,W_.DEFAULT_COLLECTION_PERCENTILE,W_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),W_.DISABLED=new W_(-1,0,0);var Y_=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return Tg(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Q_(e).$t({index:Yw.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Z_(e),a=Q_(e);return a.add({}).next((function(s){Tg("number"==typeof s);for(var u=new k_(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Sw(e.Lt,t)})),i=n.mutations.map((function(t){return Sw(e.Lt,t)}));return new Yw(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],f=new qb((function(e,t){return Pg(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],v=Xw.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,Xw.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),f_.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Q_(e).get(t).next((function(e){return e?(Tg(e.userId===n.userId),R_(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?f_.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Q_(e).$t({index:Yw.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Tg(t.batchId>=r),o=R_(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Q_(e).$t({index:Yw.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Q_(e).Nt(Yw.userMutationsIndex,n).next((function(e){return e.map((function(e){return R_(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Xw.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Z_(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=zw(u);if(s===n.userId&&t.path.isEqual(l))return Q_(e).get(c).next((function(e){if(!e)throw Sg();Tg(e.userId===n.userId),o.push(R_(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new qb(Pg),i=[];return t.forEach((function(t){var o=Xw.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Z_(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=zw(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),f_.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=Xw.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new qb(Pg);return Z_(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=zw(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Q_(e).get(t).next((function(e){if(null===e)throw Sg();Tg(e.userId===n.userId),r.push(R_(n.R,e))})))})),f_.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return H_(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),f_.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return f_.resolve();var r=IDBKeyRange.lowerBound(Xw.prefixForUser(t.userId)),i=[];return Z_(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=zw(e[1]);i.push(o)}else r.done()})).next((function(){Tg(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return X_(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return J_(e).get(this.userId).next((function(e){return e||new Gw(t.userId,-1,"")}))},e}();function X_(e,t,n){var r=Xw.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Z_(e).$t({range:o,Ft:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Q_(e){return E_(e,Yw.store)}function Z_(e){return E_(e,Xw.store)}function J_(e){return E_(e,Gw.store)}var $_=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),eE=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new $_(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Dg.fromTimestamp(new Rg(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return tE(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Tg(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return tE(e).$t((function(a,s){var u=D_(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return f_.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return tE(e).$t((function(e,n){var r=D_(n);t(r)}))},e.prototype.Xt=function(e){return nE(e).get(n_.key).next((function(e){return Tg(null!==e),e}))},e.prototype.Zt=function(e,t){return nE(e).put(n_.key,t)},e.prototype.te=function(e,t){return tE(e).put(j_(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=wy(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return tE(e).$t({range:r,index:e_.queryTargetsIndexName},(function(e,n,r){var o=D_(n);_y(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=rE(e);return t.forEach((function(t){var a=qw(t.path);i.push(o.put(new t_(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),f_.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=rE(e);return f_.forEach(t,(function(t){var o=qw(t.path);return f_.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=rE(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=rE(e),i=Qb();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=zw(e[1]),o=new ey(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=qw(t.path),r=IDBKeyRange.bound([n],[Ag(n)],!1,!0),i=0;return rE(e).$t({index:t_.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return tE(e).get(t).next((function(e){return e?D_(e):null}))},e}();function tE(e){return E_(e,e_.store)}function nE(e){return E_(e,n_.store)}function rE(e){return E_(e,t_.store)}function iE(e){return Jh(this,void 0,void 0,(function(){return $h(this,(function(t){if(e.code!==gg.FAILED_PRECONDITION||e.message!==u_)throw e;return _g("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function oE(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Pg(n,i);return 0===a?Pg(r,o):a}var aE=function(){function e(e){this.ne=e,this.buffer=new qb(oE),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();oE(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),sE=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;_g("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Jh(t,void 0,void 0,(function(){var t;return $h(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return m_(t=n.sent())?(_g("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,iE(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),uE=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return f_.resolve(mg.o);var r=new aE(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(_g("LruGarbageCollector","Garbage collection skipped; disabled"),f_.resolve(z_)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(_g("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),z_):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(_g("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),wg()<=nd.LogLevel.DEBUG&&_g("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),f_.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),cE=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new uE(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return lE(e,n)},e.prototype.removeReference=function(e,t,n){return lE(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return lE(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return J_(e).Ot((function(r){return X_(e,r,t).next((function(e){return e&&(n=!0),f_.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),rE(e).delete([0,qw(a.path)])}))}));i.push(u)}})).next((function(){return f_.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return lE(e,t)},e.prototype.we=function(e,t){var n,r=rE(e),i=mg.o;return r.$t({index:t_.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==mg.o&&t(new ey(zw(n)),i),i=s,n=a):i=mg.o})).next((function(){i!==mg.o&&t(new ey(zw(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function lE(e,t){return rE(e).put(function(e,t){return new t_(0,qw(e.path),t)}(t,e.currentSequenceNumber))}var fE=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Lg(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return Mg(this.inner)},e}(),hE=function(){function e(){this.changes=new fE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Dg.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:gy.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?f_.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),dE=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return mE(e).put(gE(t),n)},e.prototype.removeEntry=function(e,t){var n=mE(e),r=gE(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return mE(e).get(gE(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return mE(e).get(gE(t)).next((function(e){return{document:n.ye(t,e),size:G_(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=zb();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=zb(),i=new Fb(ey.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,G_(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return f_.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return mE(e).$t({range:r},(function(e,t,r){for(var a=ey.fromSegments(e);o&&ey.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=zb(),o=t.path.length+1,a={};if(n.isEqual(Dg.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=N_(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Jw.collectionReadTimeIndex}return mE(e).$t(a,(function(e,n,a){if(e.length===o){var s=x_(r.R,n);t.path.isPrefixOf(s.key.path)?Jy(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new pE(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return vE(e).get($w.key).next((function(e){return Tg(!!e),e}))},e.prototype.me=function(e,t){return vE(e).put($w.key,t)},e.prototype.ye=function(e,t){if(t){var n=x_(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(Dg.min()))return n}return gy.newInvalidDocument(e)},e}(),pE=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new fE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return Zh(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new qb((function(e,t){return Pg(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=C_(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=G_(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=C_(t.Ie.R,gy.newNoDocument(o,Dg.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),f_.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(hE);function vE(e){return E_(e,$w.store)}function mE(e){return E_(e,Jw.store)}function gE(e){return e.path.toArray()}var yE=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Tg(n<r&&n>=0&&r<=11);var o=new h_("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Hw.store)}(e),function(e){e.createObjectStore(Gw.store,{keyPath:Gw.keyPath}),e.createObjectStore(Yw.store,{keyPath:Yw.keyPath,autoIncrement:!0}).createIndex(Yw.userMutationsIndex,Yw.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Xw.store)}(e),bE(e),function(e){e.createObjectStore(Jw.store)}(e));var a=f_.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(t_.store),e.deleteObjectStore(e_.store),e.deleteObjectStore(n_.store)}(e),bE(e)),a=a.next((function(){return function(e){var t=e.store(n_.store),n=new n_(0,0,Dg.min().toTimestamp(),0);return t.put(n_.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Yw.store).Nt().next((function(n){e.deleteObjectStore(Yw.store),e.createObjectStore(Yw.store,{keyPath:Yw.keyPath,autoIncrement:!0}).createIndex(Yw.userMutationsIndex,Yw.userMutationsKeyPath,{unique:!0});var r=t.store(Yw.store),i=n.map((function(e){return r.put(e)}));return f_.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(i_.store,{keyPath:i_.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore($w.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Jw.store);t.createIndex(Jw.readTimeIndex,Jw.readTimeIndexPath,{unique:!1}),t.createIndex(Jw.collectionReadTimeIndex,Jw.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(o_.store,{keyPath:o_.keyPath})}(e),function(e){e.createObjectStore(a_.store,{keyPath:a_.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(Jw.store).$t((function(e,n){t+=G_(n)})).next((function(){var n=new $w(t);return e.store($w.store).put($w.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Gw.store),r=e.store(Yw.store);return n.Nt().next((function(n){return f_.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Yw.userMutationsIndex,i).next((function(r){return f_.forEach(r,(function(r){Tg(r.userId===n.userId);var i=R_(t.R,r);return H_(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(t_.store),n=e.store(Jw.store);return e.store(n_.store).get(n_.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new Ug(n),a=function(e){return[0,qw(e)]}(o);r.push(t.get(a).next((function(n){return n?f_.resolve():function(n){return t.put(new t_(0,qw(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return f_.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(r_.store,{keyPath:r_.keyPath});var n=t.store(r_.store),r=new q_,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:qw(i)})}};return t.store(Jw.store).$t({Ft:!0},(function(e,t){var n=new Ug(e);return i(n.popLast())})).next((function(){return t.store(Xw.store).$t({Ft:!0},(function(e,t){e[0];var n=e[1];e[2];var r=zw(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(e_.store);return n.$t((function(e,r){var i=D_(r),o=j_(t.R,i);return n.put(o)}))},e}();function bE(e){e.createObjectStore(t_.store,{keyPath:t_.keyPath}).createIndex(t_.documentTargetsIndex,t_.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(e_.store,{keyPath:e_.keyPath}).createIndex(e_.queryTargetsIndexName,e_.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(n_.store)}var wE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",_E=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new yg(gg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cE(this,i),this.Le=n+"main",this.R=new T_(u),this.Be=new d_(this.Le,11,new yE(this.R)),this.qe=new eE(this.referenceDelegate,this.R),this.Ut=new B_,this.Ue=function(e,t){return new dE(e,t)}(this.R,this.Ut),this.Ke=new M_,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Eg("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new yg(gg.FAILED_PRECONDITION,wE);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new mg(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return Jh(t,void 0,void 0,(function(){return $h(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return Jh(t,void 0,void 0,(function(){return $h(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return Jh(t,void 0,void 0,(function(){return $h(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return kE(t).put(new i_(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(m_(t))return _g("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return _g("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return EE(e).get(Hw.key).next((function(e){return f_.resolve(t.tn(e))}))},e.prototype.en=function(e){return kE(e).delete(this.clientId)},e.prototype.nn=function(){return Jh(this,void 0,void 0,(function(){var e,t,n,r,i=this;return $h(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=E_(e,i_.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return f_.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?f_.resolve(!0):EE(e).get(Hw.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new yg(gg.FAILED_PRECONDITION,wE);return!1}}return!(!t.networkEnabled||!t.inForeground)||kE(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&_g("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return Jh(this,void 0,void 0,(function(){var e=this;return $h(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Hw.store,i_.store],(function(t){var n=new __(t,mg.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return kE(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Y_.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;_g("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,s_,(function(o){return i=new __(o,r.Ne?r.Ne.next():mg.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw Eg("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new yg(gg.FAILED_PRECONDITION,u_);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return EE(e).get(Hw.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new yg(gg.FAILED_PRECONDITION,wE)}))},e.prototype.Ze=function(e){var t=new Hw(this.clientId,this.allowTabSynchronization,Date.now());return EE(e).put(Hw.key,t)},e.yt=function(){return d_.yt()},e.prototype.Xe=function(e){var t=this,n=EE(e);return n.get(Hw.key).next((function(e){return t.tn(e)?(_g("IndexedDbPersistence","Releasing primary lease."),n.delete(Hw.key)):f_.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Eg("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),(0,td.isSafari)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return _g("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Eg("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Eg("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function EE(e){return E_(e,Hw.store)}function kE(e){return E_(e,i_.store)}function IE(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var SE=function(e,t){this.progress=e,this.wn=t},TE=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return ey.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Wy(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new ey(t)).next((function(e){var t=Hb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Hb();return this.Ut.getCollectionParents(e,i).next((function(a){return f_.forEach(a,(function(a){var s=function(e,t){return new Fy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=gy.newInvalidDocument(c),r=r.insert(c,l)),Eb(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){Jy(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=Qb(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof xb&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),xE=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Qb(),i=Qb(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),CE=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Dg.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(qy(t)||By(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(wg()<=nd.LogLevel.DEBUG&&_g("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Zy(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new qb($y(e));return t.forEach((function(t,r){Jy(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return wg()<=nd.LogLevel.DEBUG&&_g("QueryEngine","Using full collection scan to execute query:",Zy(t)),this.Sn.getDocumentsMatchingQuery(e,t,Dg.min())},e}(),NE=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new Fb(Pg),this.Fn=new fE((function(e){return wy(e)}),_y),this.$n=Dg.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new TE(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();function PE(e,t,n,r){return new NE(e,t,n,r)}function OE(e,t){return Jh(this,void 0,void 0,(function(){var n,r,i,o;return $h(this,(function(a){switch(a.label){case 0:return n=xg(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new TE(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=Qb(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var m=0,g=v.mutations;m<g.length;m++){var y=g[m];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function AE(e,t){var n=xg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=f_.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Tg(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function RE(e){var t=xg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function DE(e,t){var n=xg(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Tg(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=zb();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(jE(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Dg.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return f_.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.kn=i,e}))}function jE(e,t,n,r,i){var o=Qb();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=zb();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Dg.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):_g("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function LE(e,t){var n=xg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function ME(e,t){var n=xg(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,f_.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new S_(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function FE(e,t,n){return Jh(this,void 0,void 0,(function(){var r,i,o,a;return $h(this,(function(s){switch(s.label){case 0:r=xg(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!m_(a=s.sent()))throw a;return _g("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}}))}))}function UE(e,t,n){var r=xg(e),i=Dg.min(),o=Qb();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=xg(e),i=r.Fn.get(n);return void 0!==i?f_.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,Gy(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Dg.min(),n?o:Qb())})).next((function(e){return{documents:e,Bn:o}}))}))}function VE(e,t){var n=xg(e),r=xg(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function qE(e){var t=xg(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=xg(e),i=zb(),o=N_(n),a=mE(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:Jw.readTimeIndex,range:s},(function(e,t){var n=x_(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:P_(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function BE(e){return Jh(this,void 0,void 0,(function(){var t;return $h(this,(function(n){return[2,(t=xg(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=mE(e),n=Dg.min();return t.$t({index:Jw.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=P_(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function KE(e,t,n,r){return Jh(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,h,d;return $h(this,(function(p){switch(p.label){case 0:for(i=xg(e),o=Qb(),a=zb(),s=Yb(),u=0,c=n;u<c.length;u++)l=c[u],f=t.qn(l.metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,t.Un(l)),s=s.insert(f,t.Kn(l.metadata.readTime));return h=i.On.newChangeBuffer({trackRemovals:!0}),[4,ME(i,function(e){return Gy(Vy(Ug.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return jE(e,h,a,Dg.min(),s).next((function(t){return h.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function zE(e,t,n){return void 0===n&&(n=Qb()),Jh(this,void 0,void 0,(function(){var r,i;return $h(this,(function(o){switch(o.label){case 0:return[4,ME(e,Gy(L_(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=xg(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=pw(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(Kg.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var WE=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return f_.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:pw(n.createTime)}),f_.resolve()},e.prototype.getNamedQuery=function(e,t){return f_.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:L_(e.bundledQuery),readTime:pw(e.readTime)}}(t)),f_.resolve()},e}(),HE=function(){function e(){this.Wn=new qb(GE.Gn),this.zn=new qb(GE.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new GE(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new GE(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new ey(new Ug([])),r=new GE(n,e),i=new GE(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new ey(new Ug([])),n=new GE(t,e),r=new GE(t,e+1),i=Qb();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new GE(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),GE=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return ey.comparator(e.key,t.key)||Pg(e.ns,t.ns)},e.Hn=function(e,t){return Pg(e.ns,t.ns)||ey.comparator(e.key,t.key)},e}(),YE=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new qb(GE.Gn)}return e.prototype.checkEmpty=function(e){return f_.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new k_(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new GE(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return f_.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return f_.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return f_.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return f_.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return f_.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new GE(t,0),i=new GE(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),f_.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new qb(Pg);return t.forEach((function(e){var t=new GE(e,0),i=new GE(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),f_.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;ey.isDocumentKey(i)||(i=i.child(""));var o=new GE(new ey(i),0),a=new qb(Pg);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),f_.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Tg(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return f_.forEach(t.mutations,(function(i){var o=new GE(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new GE(t,0),r=this.rs.firstAfterOrEqual(n);return f_.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,f_.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),XE=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Fb(ey.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return f_.resolve(n?n.document.clone():gy.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=zb();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():gy.newInvalidDocument(e))})),f_.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=zb(),i=new ey(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Jy(t,c)&&(r=r.insert(c.key,c.clone()))}return f_.resolve(r)},e.prototype.fs=function(e,t){return f_.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new QE(this)},e.prototype.getSize=function(e){return f_.resolve(this.size)},e}(),QE=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return Zh(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),f_.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(hE),ZE=function(){function e(e){this.persistence=e,this.ds=new fE((function(e){return wy(e)}),_y),this.lastRemoteSnapshotVersion=Dg.min(),this.highestTargetId=0,this.ws=0,this._s=new HE,this.targetCount=0,this.ys=$_.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),f_.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return f_.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return f_.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),f_.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),f_.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new $_(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,f_.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),f_.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,f_.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),f_.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return f_.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return f_.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),f_.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),f_.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),f_.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return f_.resolve(n)},e.prototype.containsKey=function(e,t){return f_.resolve(this._s.containsKey(t))},e}(),JE=function(){function e(e,t){var n=this;this.gs={},this.Ne=new mg(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new ZE(this),this.Ut=new V_,this.Ue=function(e,t){return new XE(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new T_(t),this.Ke=new WE(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new YE(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;_g("MemoryPersistence","Starting transaction:",e);var i=new $E(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return f_.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),$E=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return Zh(t,e),t}(c_),ek=function(){function e(e){this.persistence=e,this.As=new HE,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Sg()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),f_.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),f_.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),f_.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return f_.forEach(this.vs,(function(r){var i=ey.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return f_.or([function(){return f_.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),tk=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function nk(e,t){return"firestore_clients_"+e+"_"+t}function rk(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function ik(e,t){return"firestore_targets_"+e+"_"+t}tk.UNAUTHENTICATED=new tk(null),tk.GOOGLE_CREDENTIALS=new tk("google-credentials-uid"),tk.FIRST_PARTY=new tk("first-party-uid"),tk.MOCK_USER=new tk("mock-user");var ok=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new yg(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Eg("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),ak=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new yg(i.error.code,i.error.message)),o?new e(t,i.state,r):(Eg("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),sk=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Jb(),a=0;i&&a<r.activeTargetIds.length;++a)i=$g(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Eg("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),uk=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Eg("SharedClientState","Failed to parse online state: "+t),null)},e}(),ck=function(){function e(){this.activeTargetIds=Jb()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),lk=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Fb(Pg),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=nk(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new ck),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return Jh(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,f=this;return $h(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(nk(this.persistenceKey,r)))&&(o=sk.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(ik(this.persistenceKey,e));if(n){var r=ak.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(ik(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return _g("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){_g("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){_g("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(_g("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Eg("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Jh(t,void 0,void 0,(function(){var e,t,r,i,o,a;return $h(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=mg.o;if(null!=e)try{var n=JSON.parse(e);Tg("number"==typeof n),t=n}catch(e){Eg("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==mg.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new ok(this.currentUser,e,t,n),i=rk(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=rk(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=ik(this.persistenceKey,e),i=new ak(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return sk.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return ok.Vs(new tk(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return ak.Vs(r,t)},e.prototype.js=function(e){return uk.Vs(e)},e.prototype.ii=function(e){return Jh(this,void 0,void 0,(function(){return $h(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(_g("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Jb();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),fk=function(){function e(){this.li=new ck,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new ck,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),hk=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),dk=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){_g("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){_g("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),pk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},vk=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),mk=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return Zh(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new vg;a.listenOnce(lg.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case cg.NO_ERROR:var t=a.getResponseJson();_g("Connection","XHR received:",JSON.stringify(t)),i(t);break;case cg.TIMEOUT:_g("Connection",'RPC "'+e+'" timed out'),o(new yg(gg.DEADLINE_EXCEEDED,"Request time out"));break;case cg.HTTP_ERROR:var n=a.getStatus();if(_g("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(gg).indexOf(t)>=0?t:gg.UNKNOWN}(r.status);o(new yg(s,r.message))}else o(new yg(gg.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new yg(gg.UNAVAILABLE,"Connection failed."));break;default:Sg()}}finally{_g("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=sg(),i=ug(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new dg({})),this.ki(o.initMessageHeaders,t),(0,td.isMobileCordova)()||(0,td.isReactNative)()||(0,td.isElectron)()||(0,td.isIE)()||(0,td.isUWP)()||(0,td.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");_g("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new vk({Ei:function(e){c?_g("Connection","Not sending because WebChannel is closed:",e):(u||(_g("Connection","Opening WebChannel transport."),s.open(),u=!0),_g("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(s,pg.EventType.OPEN,(function(){c||_g("Connection","WebChannel transport opened.")})),f(s,pg.EventType.CLOSE,(function(){c||(c=!0,_g("Connection","WebChannel transport closed"),l.Vi())})),f(s,pg.EventType.ERROR,(function(e){c||(c=!0,kg("Connection","WebChannel transport errored:",e),l.Vi(new yg(gg.UNAVAILABLE,"The operation could not be completed")))})),f(s,pg.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Tg(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){_g("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Ob[e];if(void 0!==t)return Mb(t)}(o),u=i.message;void 0===a&&(a=gg.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new yg(a,u)),s.close()}else _g("Connection","WebChannel received:",n),l.Si(n)}})),f(i,fg.STAT_EVENT,(function(e){e.stat===hg.PROXY?_g("Connection","Detected buffering proxy"):e.stat===hg.NOPROXY&&_g("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);_g("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return _g("RestConnection","Received: ",e),e}),(function(t){throw kg("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=pk[e];return this.Di+"/v1/"+t+":"+n},e}());function gk(){return"undefined"!=typeof window?window:null}function yk(){return"undefined"!=typeof document?document:null}function bk(e){return new lw(e,!0)}var wk=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&_g("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),_k=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new wk(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return Jh(this,void 0,void 0,(function(){return $h(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return Jh(this,void 0,void 0,(function(){return $h(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return Jh(this,void 0,void 0,(function(){return $h(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===gg.RESOURCE_EXHAUSTED?(Eg(t.toString()),Eg("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===gg.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new yg(gg.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return Jh(e,void 0,void 0,(function(){return $h(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return _g("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(_g("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Ek=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Zh(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Sg()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Tg(void 0===t||"string"==typeof t),Kg.fromBase64String(t||"")):(Tg(void 0===t||t instanceof Uint8Array),Kg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?gg.UNKNOWN:Mb(e.code);return new yg(t,e.message||"")}(s);n=new rw(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=yw(e,r.document.name),o=pw(r.document.updateTime);var s=new vy({mapValue:{fields:r.document.fields}}),u=(a=gy.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new tw(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=yw(e,r.document),o=r.readTime?pw(r.readTime):Dg.min(),s=gy.newNoDocument(i,o),a=r.removedTargetIds||[],n=new tw([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=yw(e,r.document),o=r.removedTargetIds||[],n=new tw([],o,i,null);else{if(!("filter"in t))return Sg();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new jb(r),o=l.targetId,n=new nw(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return Dg.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Dg.min():t.readTime?pw(t.readTime):Dg.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=_w(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=Ey(r)?{documents:xw(e,r)}:{query:Cw(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=hw(e,t.resumeToken):t.snapshotVersion.compareTo(Dg.min())>0&&(n.readTime=fw(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Sg()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=_w(this.R),t.removeTarget=e,this.cr(t)},t}(_k),kk=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Zh(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Tg(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Tg(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?pw(e.updateTime):pw(t);return n.isEqual(Dg.min())&&(n=pw(t)),new gb(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=pw(e.commitTime);return this.listener.Tr(n,t)}return Tg(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=_w(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Sw(t.R,e)}))};this.cr(n)},t}(_k),Ik=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return Zh(t,e),t.prototype.br=function(){if(this.Rr)throw new yg(gg.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===gg.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new yg(gg.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===gg.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new yg(gg.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),Sk=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Eg(t),this.Vr=!1):_g("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Tk=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return Jh(o,void 0,void 0,(function(){return $h(this,(function(e){switch(e.label){case 0:return jk(this)?(_g("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Jh(this,void 0,void 0,(function(){var t;return $h(this,(function(n){switch(n.label){case 0:return(t=xg(e)).Or.add(4),[4,Ck(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,xk(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new Sk(n,r)};function xk(e){return Jh(this,void 0,void 0,(function(){var t,n;return $h(this,(function(r){switch(r.label){case 0:if(!jk(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Ck(e){return Jh(this,void 0,void 0,(function(){var t,n;return $h(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Nk(e,t){var n=xg(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Dk(n)?Rk(n):Qk(n).er()&&Ok(n,t))}function Pk(e,t){var n=xg(e),r=Qk(n);n.$r.delete(t),r.er()&&Ak(n,t),0===n.$r.size&&(r.er()?r.ir():jk(n)&&n.Br.set("Unknown"))}function Ok(e,t){e.qr.U(t.targetId),Qk(e).mr(t)}function Ak(e,t){e.qr.U(t),Qk(e).yr(t)}function Rk(e){e.qr=new ow({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Qk(e).start(),e.Br.Sr()}function Dk(e){return jk(e)&&!Qk(e).tr()&&e.$r.size>0}function jk(e){return 0===xg(e).Or.size}function Lk(e){e.qr=void 0}function Mk(e){return Jh(this,void 0,void 0,(function(){return $h(this,(function(t){return e.$r.forEach((function(t,n){Ok(e,t)})),[2]}))}))}function Fk(e,t){return Jh(this,void 0,void 0,(function(){return $h(this,(function(n){return Lk(e),Dk(e)?(e.Br.Nr(t),Rk(e)):e.Br.set("Unknown"),[2]}))}))}function Uk(e,t,n){return Jh(this,void 0,void 0,(function(){var r,i,o;return $h(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof rw&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return Jh(this,void 0,void 0,(function(){var n,r,i,o;return $h(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),_g("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Vk(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof tw?e.qr.X(t):t instanceof nw?e.qr.rt(t):e.qr.et(t),n.isEqual(Dg.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,RE(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(Kg.EMPTY_BYTE_STRING,n.snapshotVersion)),Ak(e,t);var r=new S_(n.target,t,1,n.sequenceNumber);Ok(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return _g("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Vk(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Vk(e,t,n){return Jh(this,void 0,void 0,(function(){var r=this;return $h(this,(function(i){switch(i.label){case 0:if(!m_(t))throw t;return e.Or.add(1),[4,Ck(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return RE(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return Jh(r,void 0,void 0,(function(){return $h(this,(function(t){switch(t.label){case 0:return _g("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,xk(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function qk(e,t){return t().catch((function(n){return Vk(e,n,t)}))}function Bk(e){return Jh(this,void 0,void 0,(function(){var t,n,r,i,o;return $h(this,(function(a){switch(a.label){case 0:t=xg(e),n=Zk(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return jk(e)&&e.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,LE(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=Zk(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Vk(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Kk(t)&&zk(t),[2]}}))}))}function Kk(e){return jk(e)&&!Zk(e).tr()&&e.Fr.length>0}function zk(e){Zk(e).start()}function Wk(e){return Jh(this,void 0,void 0,(function(){return $h(this,(function(t){return Zk(e).Ar(),[2]}))}))}function Hk(e){return Jh(this,void 0,void 0,(function(){var t,n,r,i;return $h(this,(function(o){for(t=Zk(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function Gk(e,t,n){return Jh(this,void 0,void 0,(function(){var r,i;return $h(this,(function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=I_.from(r,t,n),[4,qk(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Bk(e)];case 2:return o.sent(),[2]}}))}))}function Yk(e,t){return Jh(this,void 0,void 0,(function(){return $h(this,(function(n){switch(n.label){case 0:return t&&Zk(e).pr?[4,function(e,t){return Jh(this,void 0,void 0,(function(){var n,r;return $h(this,(function(i){switch(i.label){case 0:return Lb(r=t.code)&&r!==gg.ABORTED?(n=e.Fr.shift(),Zk(e).sr(),[4,qk(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Bk(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Kk(e)&&zk(e),[2]}}))}))}function Xk(e,t){return Jh(this,void 0,void 0,(function(){var n;return $h(this,(function(r){switch(r.label){case 0:return n=xg(e),t?(n.Or.delete(2),[4,xk(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Ck(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Qk(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=xg(e);return r.br(),new Ek(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Mk.bind(null,e),Ri:Fk.bind(null,e),_r:Uk.bind(null,e)}),e.Mr.push((function(n){return Jh(t,void 0,void 0,(function(){return $h(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Dk(e)?Rk(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Lk(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Zk(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=xg(e);return r.br(),new kk(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Wk.bind(null,e),Ri:Yk.bind(null,e),Ir:Hk.bind(null,e),Tr:Gk.bind(null,e)}),e.Mr.push((function(n){return Jh(t,void 0,void 0,(function(){return $h(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,Bk(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(_g("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var Jk=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new l_,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yg(gg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function $k(e,t){if(Eg("AsyncQueue",t+": "+e),m_(e))return new yg(gg.UNAVAILABLE,t+": "+e);throw e}var eI=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||ey.comparator(t.key,n.key)}:function(e,t){return ey.comparator(e.key,t.key)},this.keyedMap=Hb(),this.sortedSet=new Fb(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),tI=function(){function e(){this.Qr=new Fb(ey.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):Sg():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),nI=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,eI.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),rI=function(){this.Wr=void 0,this.listeners=[]},iI=function(){this.queries=new fE((function(e){return Qy(e)}),Xy),this.onlineState="Unknown",this.Gr=new Set};function oI(e,t){return Jh(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return $h(this,(function(c){switch(c.label){case 0:if(n=xg(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new rI),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=$k(s,"Initialization of query '"+Zy(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&cI(n),[2]}}))}))}function aI(e,t){return Jh(this,void 0,void 0,(function(){var n,r,i,o,a;return $h(this,(function(s){return n=xg(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function sI(e,t){for(var n=xg(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&cI(n)}function uI(e,t,n){var r=xg(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function cI(e){e.Gr.forEach((function(e){e.next()}))}var lI=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new nI(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=nI.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),fI=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),hI=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return yw(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Iw(this.R,e.document,!1):gy.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return pw(e)},e}(),dI=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=pI(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new hI(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||Qb()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return Jh(this,void 0,void 0,(function(){var e,t,n,r,i;return $h(this,(function(o){switch(o.label){case 0:return[4,KE(this.localStore,new hI(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,zE(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new SE(Object.assign({},this.progress),e))]}}))}))},e}();function pI(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var vI=function(e){this.key=e},mI=function(e){this.key=e},gI=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Qb(),this.mutatedKeys=Qb(),this.lo=$y(e),this.fo=new eI(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new tI,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=qy(this.query)&&i.size===this.query.limit?i.last():null,c=By(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Jy(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),qy(this.query)||By(this.query))for(;a.size>this.query.limit;){var l=qy(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Sg()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new nI(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new tI,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Qb(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new mI(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new vI(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Qb();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return nI.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),yI=function(e,t,n){this.query=e,this.targetId=t,this.view=n},bI=function(e){this.key=e,this.bo=!1},wI=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new fE((function(e){return Qy(e)}),Xy),this.Vo=new Map,this.So=new Set,this.Do=new Fb(ey.comparator),this.Co=new Map,this.No=new HE,this.xo={},this.ko=new Map,this.Fo=$_.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function _I(e,t){return Jh(this,void 0,void 0,(function(){var n,r,i,o,a,s;return $h(this,(function(u){switch(u.label){case 0:return n=QI(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,ME(n.localStore,Gy(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,EI(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&Nk(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function EI(e,t,n,r){return Jh(this,void 0,void 0,(function(){var i,o,a,s,u,c;return $h(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return Jh(this,void 0,void 0,(function(){var i,o,a;return $h(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,UE(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(jI(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,UE(e.localStore,t,!0)];case 1:return i=l.sent(),o=new gI(t,i.Bn),a=o._o(i.documents),s=ew.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),jI(e,n,u.To),c=new yI(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function kI(e,t){return Jh(this,void 0,void 0,(function(){var n,r,i;return $h(this,(function(o){switch(o.label){case 0:return n=xg(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!Xy(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,FE(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Pk(n.remoteStore,r.targetId),RI(n,r.targetId)})).catch(iE)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return RI(n,r.targetId),[4,FE(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function II(e,t,n){return Jh(this,void 0,void 0,(function(){var r,i,o,a;return $h(this,(function(s){switch(s.label){case 0:r=ZI(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=xg(e),i=Rg.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Qb());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=kb(c,n.get(c.key));null!=l&&a.push(new xb(c.key,l,my(l.value.mapValue),yb.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Fb(Pg)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,FI(r,i.changes)];case 3:return s.sent(),[4,Bk(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=$k(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function SI(e,t){return Jh(this,void 0,void 0,(function(){var n,r;return $h(this,(function(i){switch(i.label){case 0:n=xg(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,DE(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Tg(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Tg(r.bo):e.removedDocuments.size>0&&(Tg(r.bo),r.bo=!1))})),[4,FI(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,iE(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function TI(e,t,n){var r=xg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=xg(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&cI(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function xI(e,t,n){return Jh(this,void 0,void 0,(function(){var r,i,o,a,s,u;return $h(this,(function(c){switch(c.label){case 0:return(r=xg(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Fb(ey.comparator)).insert(o,gy.newNoDocument(o,Dg.min())),s=Qb().add(o),u=new $b(Dg.min(),new Map,new qb(Pg),a,s),[4,SI(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),MI(r),[3,4];case 2:return[4,FE(r.localStore,t,!1).then((function(){return RI(r,t,n)})).catch(iE)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function CI(e,t){return Jh(this,void 0,void 0,(function(){var n,r,i;return $h(this,(function(o){switch(o.label){case 0:n=xg(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,AE(n.localStore,t)];case 2:return i=o.sent(),AI(n,r,null),OI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,FI(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,iE(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function NI(e,t,n){return Jh(this,void 0,void 0,(function(){var r,i;return $h(this,(function(o){switch(o.label){case 0:r=xg(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=xg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Tg(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),AI(r,t,n),OI(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,FI(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,iE(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function PI(e,t){return Jh(this,void 0,void 0,(function(){var n,r,i,o,a;return $h(this,(function(s){switch(s.label){case 0:jk((n=xg(e)).remoteStore)||_g("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=xg(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=$k(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function OI(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function AI(e,t,n){var r=xg(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function RI(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||DI(e,t)}))}function DI(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Pk(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),MI(e))}function jI(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof vI?(e.No.addReference(o.key,t),LI(e,o)):o instanceof mI?(_g("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||DI(e,o.key)):Sg()}}function LI(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(_g("SyncEngine","New document in limbo: "+n),e.So.add(r),MI(e))}function MI(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new ey(Ug.fromString(t)),r=e.Fo.next();e.Co.set(r,new bI(n)),e.Do=e.Do.insert(n,r),Nk(e.remoteStore,new S_(Gy(Vy(n.path)),r,2,mg.o))}}function FI(e,t,n){return Jh(this,void 0,void 0,(function(){var r,i,o,a;return $h(this,(function(s){switch(s.label){case 0:return r=xg(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=xE.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return Jh(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return $h(this,(function(f){switch(f.label){case 0:n=xg(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return f_.forEach(t,(function(t){return f_.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return f_.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!m_(r=f.sent()))throw r;return _g("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.kn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.kn=n.kn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function UI(e,t){return Jh(this,void 0,void 0,(function(){var n,r;return $h(this,(function(i){switch(i.label){case 0:return(n=xg(e)).currentUser.isEqual(t)?[3,3]:(_g("SyncEngine","User change. New user:",t.toKey()),[4,OE(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new yg(gg.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,FI(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function VI(e,t){var n=xg(e),r=n.Co.get(t);if(r&&r.bo)return Qb().add(r.key);var i=Qb(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function qI(e,t){return Jh(this,void 0,void 0,(function(){var n,r,i;return $h(this,(function(o){switch(o.label){case 0:return[4,UE((n=xg(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&jI(n,t.targetId,i.To),i)]}}))}))}function BI(e){return Jh(this,void 0,void 0,(function(){var t;return $h(this,(function(n){return[2,qE((t=xg(e)).localStore).then((function(e){return FI(t,e)}))]}))}))}function KI(e,t,n,r){return Jh(this,void 0,void 0,(function(){var i,o;return $h(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=xg(e),r=xg(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):f_.resolve(null)}))}))}((i=xg(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Bk(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(AI(i,t,r||null),OI(i,t),function(e,t){xg(xg(e)._n).Gt(t)}(i.localStore,t)):Sg(),a.label=4;case 4:return[4,FI(i,o)];case 5:return a.sent(),[3,7];case 6:_g("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function zI(e,t){return Jh(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return $h(this,(function(l){switch(l.label){case 0:return QI(n=xg(e)),ZI(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,WI(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,Xk(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],Nk(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return RI(n,t),FE(n.localStore,t,!0)})),Pk(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,WI(n,u)];case 5:return l.sent(),function(e){var t=xg(e);t.Co.forEach((function(e,n){Pk(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Fb(ey.comparator)}(n),n.$o=!1,[4,Xk(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function WI(e,t,n){return Jh(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,h,d,p,v;return $h(this,(function(m){switch(m.label){case 0:n=xg(e),r=[],i=[],o=0,a=t,m.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,ME(n.localStore,Gy(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,f=c,m.label=3;case 3:return l<f.length?(h=f[l],d=n.Po.get(h),[4,qI(n,d)]):[3,6];case 4:(p=m.sent()).snapshot&&i.push(p.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,VE(n.localStore,s)];case 8:return v=m.sent(),[4,ME(n.localStore,v)];case 9:return u=m.sent(),[4,EI(n,HI(v),s,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function HI(e){return Uy(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function GI(e){var t=xg(e);return xg(xg(t.localStore).persistence).fn()}function YI(e,t,n,r){return Jh(this,void 0,void 0,(function(){var i,o,a;return $h(this,(function(s){switch(s.label){case 0:return(i=xg(e)).$o?(_g("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,qE(i.localStore)];case 3:return o=s.sent(),a=$b.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,FI(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,FE(i.localStore,t,!0)];case 6:return s.sent(),RI(i,t,r),[3,8];case 7:Sg(),s.label=8;case 8:return[2]}}))}))}function XI(e,t,n){return Jh(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h;return $h(this,(function(d){switch(d.label){case 0:if(!(r=QI(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(_g("SyncEngine","Adding an already active target "+a),[3,5]):[4,VE(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,ME(r.localStore,s)];case 3:return u=d.sent(),[4,EI(r,HI(s),u.targetId,!1)];case 4:d.sent(),Nk(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return $h(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,FE(r.localStore,e,!1).then((function(){Pk(r.remoteStore,e),RI(r,e)})).catch(iE)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function QI(e){var t=xg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=SI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=VI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xI.bind(null,t),t.vo._r=sI.bind(null,t.eventManager),t.vo.Mo=uI.bind(null,t.eventManager),t}function ZI(e){var t=xg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=CI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=NI.bind(null,t),t}function JI(e,t,n){var r=xg(e);(function(e,t,n){return Jh(this,void 0,void 0,(function(){var r,i,o,a,s,u;return $h(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=c.sent(),[4,function(e,t){var n=xg(e),r=pw(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ke.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(e.localStore,r)];case 2:return c.sent()?[4,t.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(pI(r)),i=new dI(r,e.localStore,t.R),[4,t.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=c.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,FI(e,s.wn,void 0)];case 12:return c.sent(),[4,function(e,t){var n=xg(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ke.saveBundleMetadata(e,t)}))}(e.localStore,r)];case 13:return c.sent(),n._completeWith(s.progress),[3,15];case 14:return kg("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var $I=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return Jh(this,void 0,void 0,(function(){return $h(this,(function(t){switch(t.label){case 0:return this.R=bk(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return PE(this.persistence,new CE,e.initialUser,this.R)},e.prototype.qo=function(e){return new JE(ek.bs,this.R)},e.prototype.Bo=function(e){return new fk},e.prototype.terminate=function(){return Jh(this,void 0,void 0,(function(){return $h(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),eS=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Zh(t,e),t.prototype.initialize=function(t){return Jh(this,void 0,void 0,(function(){var n=this;return $h(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,BE(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,ZI(this.Qo.syncEngine)];case 4:return r.sent(),[4,Bk(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return PE(this.persistence,new CE,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new sE(t,e.asyncQueue)},t.prototype.qo=function(e){var t=IE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?W_.withCacheSize(this.cacheSizeBytes):W_.DEFAULT;return new _E(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,gk(),yk(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new fk},t}($I),tS=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Zh(t,e),t.prototype.initialize=function(t){return Jh(this,void 0,void 0,(function(){var n,r=this;return $h(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof lk?(this.sharedClientState.syncEngine={ui:KI.bind(null,n),ai:YI.bind(null,n),hi:XI.bind(null,n),fn:GI.bind(null,n),ci:BI.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return Jh(r,void 0,void 0,(function(){return $h(this,(function(t){switch(t.label){case 0:return[4,zI(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=gk();if(!lk.yt(t))throw new yg(gg.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=IE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new lk(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(eS),nS=function(){function e(){}return e.prototype.initialize=function(e,t){return Jh(this,void 0,void 0,(function(){var n=this;return $h(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return TI(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=UI.bind(null,this.syncEngine),[4,Xk(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new iI},e.prototype.createDatastore=function(e){var t,n=bk(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new mk(t));return function(e,t,n){return new Ik(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return TI(a.syncEngine,e,0)},o=dk.yt()?new dk:new hk,new Tk(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new wI(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return Jh(this,void 0,void 0,(function(){var t;return $h(this,(function(n){switch(n.label){case 0:return t=xg(e),_g("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Ck(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();function rS(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return Jh(this,void 0,void 0,(function(){var r;return $h(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return Jh(this,void 0,void 0,(function(){return $h(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var iS=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),oS=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new l_,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return Jh(this,void 0,void 0,(function(){return $h(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return Jh(this,void 0,void 0,(function(){return $h(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return Jh(this,void 0,void 0,(function(){var e,t,n,r;return $h(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new fI(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return Jh(this,void 0,void 0,(function(){var e,t;return $h(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return Jh(this,void 0,void 0,(function(){var t;return $h(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return Jh(this,void 0,void 0,(function(){var e,t;return $h(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),aS=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return Jh(this,void 0,void 0,(function(){var t,n=this;return $h(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new yg(gg.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Jh(this,void 0,void 0,(function(){var n,r,i,o,a,s;return $h(this,(function(u){switch(u.label){case 0:return n=xg(e),r=_w(n.R)+"/documents",i={documents:t.map((function(e){return gw(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Tg(!!t.found),t.found.name,t.found.updateTime;var n=yw(e,t.found.name),r=pw(t.found.updateTime),i=new vy({mapValue:{fields:t.found.fields}});return gy.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Tg(!!t.missing),Tg(!!t.readTime);var n=yw(e,t.missing),r=pw(t.readTime);return gy.newNoDocument(n,r)}(e,t):Sg()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Tg(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Rb(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return Jh(this,void 0,void 0,(function(){var e,t=this;return $h(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=ey.fromPath(n);t.mutations.push(new Db(r,t.precondition(r)))})),[4,function(e,t){return Jh(this,void 0,void 0,(function(){var n,r,i;return $h(this,(function(o){switch(o.label){case 0:return n=xg(e),r=_w(n.R)+"/documents",i={writes:t.map((function(e){return Sw(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Sg();t=Dg.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new yg(gg.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?yb.updateTime(t):yb.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Dg.min()))throw new yg(gg.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yb.updateTime(t)}return yb.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),sS=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new wk(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return Jh(e,void 0,void 0,(function(){var e,t,n=this;return $h(this,(function(r){return e=new aS(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Zg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Lb(t)}return!1},e}(),uS=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=tk.UNAUTHENTICATED,this.clientId=Ng.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return Jh(r,void 0,void 0,(function(){return $h(this,(function(t){switch(t.label){case 0:return _g("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return Jh(this,void 0,void 0,(function(){return $h(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new yg(gg.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new l_;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Jh(e,void 0,void 0,(function(){var e,n;return $h(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=$k(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function cS(e,t){return Jh(this,void 0,void 0,(function(){var n,r,i=this;return $h(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),_g("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return Jh(i,void 0,void 0,(function(){return $h(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,OE(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function lS(e,t){return Jh(this,void 0,void 0,(function(){var n,r;return $h(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,fS(e)];case 1:return n=i.sent(),_g("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return Jh(this,void 0,void 0,(function(){var n,r;return $h(this,(function(i){switch(i.label){case 0:return(n=xg(e)).asyncQueue.verifyOperationInProgress(),_g("RemoteStore","RemoteStore received new credentials"),r=jk(n),n.Or.add(3),[4,Ck(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,xk(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function fS(e){return Jh(this,void 0,void 0,(function(){return $h(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(_g("FirestoreClient","Using default OfflineComponentProvider"),[4,cS(e,new $I)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function hS(e){return Jh(this,void 0,void 0,(function(){return $h(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(_g("FirestoreClient","Using default OnlineComponentProvider"),[4,lS(e,new nS)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function dS(e){return fS(e).then((function(e){return e.persistence}))}function pS(e){return fS(e).then((function(e){return e.localStore}))}function vS(e){return hS(e).then((function(e){return e.remoteStore}))}function mS(e){return hS(e).then((function(e){return e.syncEngine}))}function gS(e){return Jh(this,void 0,void 0,(function(){var t,n;return $h(this,(function(r){switch(r.label){case 0:return[4,hS(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=_I.bind(null,t.syncEngine),n.onUnlisten=kI.bind(null,t.syncEngine),n)]}}))}))}function yS(e,t,n){var r=this;void 0===n&&(n={});var i=new l_;return e.asyncQueue.enqueueAndForget((function(){return Jh(r,void 0,void 0,(function(){var r;return $h(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new iS({next:function(o){t.enqueueAndForget((function(){return aI(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new yg(gg.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new yg(gg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new lI(Vy(n.path),o,{includeMetadataChanges:!0,so:!0});return oI(e,a)},[4,gS(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function bS(e,t,n){var r=this;void 0===n&&(n={});var i=new l_;return e.asyncQueue.enqueueAndForget((function(){return Jh(r,void 0,void 0,(function(){var r;return $h(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new iS({next:function(n){t.enqueueAndForget((function(){return aI(e,a)})),n.fromCache&&"server"===r.source?i.reject(new yg(gg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new lI(n,o,{includeMetadataChanges:!0,so:!0});return oI(e,a)},[4,gS(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var wS=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},_S=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),ES=new Map,kS=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},IS=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(tk.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),SS=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),TS=function(){function e(e){var t=this;this.currentUser=tk.UNAUTHENTICATED,this.oc=new l_,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){_g("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(_g("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(_g("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Tg("string"==typeof n.accessToken),new kS(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return Jh(n,void 0,void 0,(function(){return $h(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Tg(null===e||"string"==typeof e),new tk(e)},e}(),xS=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=tk.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),CS=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new xS(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(tk.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function NS(e,t,n){if(!n)throw new yg(gg.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function PS(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new yg(gg.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function OS(e,t,n,r){if(!0===t&&!0===r)throw new yg(gg.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function AS(e){if(!ey.isDocumentKey(e))throw new yg(gg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function RS(e){if(ey.isDocumentKey(e))throw new yg(gg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function DS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Sg()}function jS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new yg(gg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=DS(e);throw new yg(gg.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function LS(e,t){if(t<=0)throw new yg(gg.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var MS=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new yg(gg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new yg(gg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,OS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),FS=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MS({}),this._settingsFrozen=!1,e instanceof _S?(this._databaseId=e,this._credentials=new IS):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new yg(gg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _S(e.options.projectId)}(e),this._credentials=new TS(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new yg(gg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new yg(gg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MS(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new IS;switch(e.type){case"gapi":var t=e.client;return Tg(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new CS(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new yg(gg.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=ES.get(this))&&(_g("ComponentProvider","Removing Datastore"),ES.delete(this),e.terminate()),Promise.resolve();var e},e}(),US=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new qS(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),VS=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),qS=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Vy(r))||this)._path=r,i.type="collection",i}return Zh(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new US(this.firestore,null,new ey(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(VS);function BS(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,td.getModularInstance)(e),NS("collection","path",t),e instanceof FS)return RS(n=Ug.fromString.apply(Ug,ed([t],r))),new qS(e,null,n);if(!(e instanceof US||e instanceof qS))throw new yg(gg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return RS(n=Ug.fromString.apply(Ug,ed([e.path],r)).child(Ug.fromString(t))),new qS(e.firestore,null,n)}function KS(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,td.getModularInstance)(e),1===arguments.length&&(t=Ng.u()),NS("doc","path",t),e instanceof FS)return AS(n=Ug.fromString.apply(Ug,ed([t],r))),new US(e,null,new ey(n));if(!(e instanceof US||e instanceof qS))throw new yg(gg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return AS(n=e._path.child(Ug.fromString.apply(Ug,ed([t],r)))),new US(e.firestore,e instanceof qS?e.converter:null,new ey(n))}function zS(e,t){return e=(0,td.getModularInstance)(e),t=(0,td.getModularInstance)(t),(e instanceof US||e instanceof qS)&&(t instanceof US||t instanceof qS)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function WS(e,t){return e=(0,td.getModularInstance)(e),t=(0,td.getModularInstance)(t),e instanceof VS&&t instanceof VS&&e.firestore===t.firestore&&Xy(e._query,t._query)&&e.converter===t.converter}var HS=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new wk(this,"async_queue_retry"),this.Ic=function(){var t=yk();t&&_g("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=yk();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=yk();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new l_;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return Jh(this,void 0,void 0,(function(){var e,t=this;return $h(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!m_(e=n.sent()))throw e;return _g("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,Eg("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=Jk.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&Sg()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return Jh(this,void 0,void 0,(function(){var e;return $h(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function GS(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var YS=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new l_,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),XS=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new HS,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Zh(t,e),t.prototype._terminate=function(){return this._firestoreClient||ZS(this),this._firestoreClient.terminate()},t}(FS);function QS(e){return e._firestoreClient||ZS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ZS(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new wS(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new uS(e._credentials,e._queue,r)}function JS(e,t,n){var r=this,i=new l_;return e.asyncQueue.enqueue((function(){return Jh(r,void 0,void 0,(function(){var r;return $h(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,cS(e,n)];case 1:return o.sent(),[4,lS(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===gg.FAILED_PRECONDITION||e.code===gg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function $S(e){if(e._initialized||e._terminated)throw new yg(gg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var eT=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new yg(gg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qg(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),tT=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(Kg.fromBase64String(t))}catch(t){throw new yg(gg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Kg.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),nT=function(e){this._methodName=e},rT=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new yg(gg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new yg(gg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Pg(this._lat,e._lat)||Pg(this._long,e._long)},e}(),iT=/^__.*__$/,oT=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new xb(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tb(e,this.data,t,this.fieldTransforms)},e}(),aT=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new xb(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function sT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Sg()}}var uT=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return CT(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(sT(this.Nc)&&iT.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),cT=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||bk(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new uT({Nc:e,methodName:t,qc:n,path:qg.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function lT(e){var t=e._freezeSettings(),n=bk(e._databaseId);return new cT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function fT(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);IT("Data must be an object, but it was:",a,r);var s,u,c=ET(r,a);if(o.merge)s=new Bg(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=ST(t,h[f],n);if(!a.contains(d))throw new yg(gg.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");NT(l,d)||l.push(d)}s=new Bg(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new oT(new vy(c),s,u)}var hT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zh(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(nT);function dT(e,t,n){return new uT({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var pT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zh(t,e),t.prototype._toFieldTransform=function(e){return new mb(e.path,new ub)},t.prototype.isEqual=function(e){return e instanceof t},t}(nT),vT=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Zh(t,e),t.prototype._toFieldTransform=function(e){var t=dT(this,e,!0),n=this.Kc.map((function(e){return _T(e,t)})),r=new cb(n);return new mb(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(nT),mT=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Zh(t,e),t.prototype._toFieldTransform=function(e){var t=dT(this,e,!0),n=this.Kc.map((function(e){return _T(e,t)})),r=new fb(n);return new mb(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(nT),gT=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return Zh(t,e),t.prototype._toFieldTransform=function(e){var t=new db(e.R,rb(e.R,this.Qc));return new mb(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(nT);function yT(e,t,n,r){var i=e.Uc(1,t,n);IT("Data must be an object, but it was:",i,r);var o=[],a=vy.empty();Lg(r,(function(e,r){var s=xT(t,e,n);r=(0,td.getModularInstance)(r);var u=i.Oc(s);if(r instanceof hT)o.push(s);else{var c=_T(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Bg(o);return new aT(a,s,i.fieldTransforms)}function bT(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[ST(t,r,n)],u=[i];if(o.length%2!=0)throw new yg(gg.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(ST(t,o[c])),u.push(o[c+1]);for(var l=[],f=vy.empty(),h=s.length-1;h>=0;--h)if(!NT(l,s[h])){var d=s[h],p=u[h];p=(0,td.getModularInstance)(p);var v=a.Oc(d);if(p instanceof hT)l.push(d);else{var m=_T(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new Bg(l);return new aT(f,g,a.fieldTransforms)}function wT(e,t,n,r){return void 0===r&&(r=!1),_T(n,e.Uc(r?4:3,t))}function _T(e,t){if(kT(e=(0,td.getModularInstance)(e)))return IT("Unsupported field value:",t,e),ET(e,t);if(e instanceof nT)return function(e,t){if(!sT(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=_T(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,td.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return rb(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Rg.fromDate(e);return{timestampValue:fw(t.R,n)}}if(e instanceof Rg)return n=new Rg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:fw(t.R,n)};if(e instanceof rT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof tT)return{bytesValue:hw(t.R,e._byteString)};if(e instanceof US){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:vw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+DS(e))}(e,t)}function ET(e,t){var n={};return Mg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Lg(e,(function(e,r){var i=_T(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function kT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Rg||e instanceof rT||e instanceof tT||e instanceof US||e instanceof nT)}function IT(e,t,n){if(!kT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=DS(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function ST(e,t,n){if((t=(0,td.getModularInstance)(t))instanceof eT)return t._internalPath;if("string"==typeof t)return xT(e,t);throw CT("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var TT=new RegExp("[~\\*/\\[\\]]");function xT(e,t,n){if(t.search(TT)>=0)throw CT("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(eT.bind.apply(eT,ed([void 0],t.split(".")))))._internalPath}catch(Ax){throw CT("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function CT(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new yg(gg.INVALID_ARGUMENT,(s+=". ")+e+u)}function NT(e,t){return e.some((function(e){return e.isEqual(t)}))}var PT=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new US(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new OT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(AT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),OT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zh(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(PT);function AT(e,t){return"string"==typeof t?xT(e,t):t instanceof eT?t._internalPath:t._delegate._internalPath}var RT=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),DT=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return Zh(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new jT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(AT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(PT),jT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zh(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(DT),LT=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new RT(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new jT(n._firestore,n._userDataWriter,r.key,r,new RT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new yg(gg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new jT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new RT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new jT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new RT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:MT(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function MT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Sg()}}function FT(e,t){return e instanceof DT&&t instanceof DT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof LT&&t instanceof LT&&e._firestore===t._firestore&&WS(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function UT(e){if(By(e)&&0===e.explicitOrderBy.length)throw new yg(gg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var VT=function(){};function qT(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var BT=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return Zh(t,e),t.prototype._apply=function(e){var t=lT(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new yg(gg.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){XT(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var f=l[c];u.push(YT(r,e,f))}s={arrayValue:{values:u}}}else s=YT(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||XT(a,o),s=wT(n,"where",a,"in"===o||"not-in"===o);var h=ky.create(i,o,s);return function(e,t){if(t.g()){var n=zy(e);if(null!==n&&!n.isEqual(t.field))throw new yg(gg.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Ky(e);null!==r&&QT(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new yg(gg.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new yg(gg.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new VS(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Fy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(VT),KT=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return Zh(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new yg(gg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new yg(gg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Dy(t,n);return function(e,t){if(null===Ky(e)){var n=zy(e);null!==n&&QT(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new VS(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Fy(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(VT),zT=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return Zh(t,e),t.prototype._apply=function(e){return new VS(e.firestore,e.converter,Yy(e._query,this.Hc,this.Jc))},t}(VT),WT=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Zh(t,e),t.prototype._apply=function(e){var t=GT(e,this.type,this.Yc,this.Xc);return new VS(e.firestore,e.converter,function(e,t){return new Fy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(VT),HT=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Zh(t,e),t.prototype._apply=function(e){var t=GT(e,this.type,this.Yc,this.Xc);return new VS(e.firestore,e.converter,function(e,t){return new Fy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(VT);function GT(e,t,n,r){if(n[0]=(0,td.getModularInstance)(n[0]),n[0]instanceof PT)return function(e,t,n,r,i){if(!r)throw new yg(gg.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Hy(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(uy(t,r.key));else{var c=r.data.field(u.field);if(Yg(c))throw new yg(gg.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new yg(gg.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Ay(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=lT(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new yg(gg.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new yg(gg.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Wy(e)&&-1!==c.indexOf("/"))throw new yg(gg.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Ug.fromString(c));if(!ey.isDocumentKey(l))throw new yg(gg.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new ey(l);s.push(uy(t,f))}else{var h=wT(n,r,c);s.push(h)}}return new Ay(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function YT(e,t,n){if("string"==typeof(n=(0,td.getModularInstance)(n))){if(""===n)throw new yg(gg.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wy(t)&&-1!==n.indexOf("/"))throw new yg(gg.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Ug.fromString(n));if(!ey.isDocumentKey(r))throw new yg(gg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return uy(e,new ey(r))}if(n instanceof US)return uy(e,n._key);throw new yg(gg.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+DS(n)+".")}function XT(e,t){if(!Array.isArray(e)||0===e.length)throw new yg(gg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new yg(gg.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function QT(e,t,n){if(!n.isEqual(t))throw new yg(gg.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var ZT=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),ty(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Hg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Sg()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Lg(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new rT(Hg(e.latitude),Hg(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=Xg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Qg(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Wg(e);return new Rg(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Ug.fromString(e);Tg(Vw(n));var r=new _S(n.get(1),n.get(3)),i=new ey(n.popFirst(5));return r.isEqual(t)||Eg("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function JT(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var $T=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Zh(t,e),t.prototype.convertBytes=function(e){return new tT(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new US(this.firestore,null,t)},t}(ZT),ex=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=lT(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=tx(e,this._firestore),i=JT(r.converter,t,n),o=fT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,yb.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=tx(e,this._firestore);return o="string"==typeof(t=(0,td.getModularInstance)(t))||t instanceof eT?bT(this._dataReader,"WriteBatch.update",a._key,t,n,r):yT(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,yb.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=tx(e,this._firestore);return this._mutations=this._mutations.concat(new Rb(t._key,yb.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new yg(gg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function tx(e,t){if((e=(0,td.getModularInstance)(e)).firestore!==t)throw new yg(gg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var nx=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Zh(t,e),t.prototype.convertBytes=function(e){return new tT(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new US(this.firestore,null,t)},t}(ZT);function rx(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=jS(e,US);var o=jS(e.firestore,XS),a=lT(o);return ox(o,[("string"==typeof(t=(0,td.getModularInstance)(t))||t instanceof eT?bT(a,"updateDoc",e._key,t,n,r):yT(a,"updateDoc",e._key,t)).toMutation(e._key,yb.exists(!0))])}function ix(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=(0,td.getModularInstance)(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||GS(i[s])||(a=i[s],s++);var u,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(GS(i[s])){var h=i[s];i[s]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(e instanceof US)c=jS(e.firestore,XS),l=Vy(e._key.path),u={next:function(t){i[s]&&i[s](ax(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=jS(e,VS);c=jS(d.firestore,XS),l=d._query;var p=new nx(c);u={next:function(e){i[s]&&i[s](new LT(c,p,d,e))},error:i[s+1],complete:i[s+2]},UT(e._query)}return function(e,t,n,r){var i=this,o=new iS(r),a=new lI(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return Jh(i,void 0,void 0,(function(){var t;return $h(this,(function(n){switch(n.label){case 0:return t=oI,[4,gS(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return Jh(i,void 0,void 0,(function(){var t;return $h(this,(function(n){switch(n.label){case 0:return t=aI,[4,gS(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(QS(c),l,f,u)}function ox(e,t){return function(e,t){var n=this,r=new l_;return e.asyncQueue.enqueueAndForget((function(){return Jh(n,void 0,void 0,(function(){var n;return $h(this,(function(i){switch(i.label){case 0:return n=II,[4,mS(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(QS(e),t)}function ax(e,t,n){var r=n.docs.get(t._key),i=new nx(e);return new DT(e,i,t._key,r,new RT(n.hasPendingWrites,n.fromCache),t.converter)}var sx=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return Zh(t,e),t.prototype.get=function(t){var n=this,r=tx(t,this._firestore),i=new nx(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new DT(n._firestore,i,r._key,e._document,new RT(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=lT(e)}return e.prototype.get=function(e){var t=this,n=tx(e,this._firestore),r=new $T(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Sg();var i=e[0];if(i.isFoundDocument())return new PT(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new PT(t._firestore,r,n._key,null,n.converter);throw Sg()}))},e.prototype.set=function(e,t,n){var r=tx(e,this._firestore),i=JT(r.converter,t,n),o=fT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=tx(e,this._firestore);return o="string"==typeof(t=(0,td.getModularInstance)(t))||t instanceof eT?bT(this._dataReader,"Transaction.update",a._key,t,n,r):yT(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=tx(e,this._firestore);return this._transaction.delete(t._key),this},e}());function ux(){if("undefined"==typeof Uint8Array)throw new yg(gg.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function cx(){if("undefined"==typeof atob)throw new yg(gg.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var lx=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return cx(),new e(tT.fromBase64String(t))},e.fromUint8Array=function(t){return ux(),new e(tT.fromUint8Array(t))},e.prototype.toBase64=function(){return cx(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return ux(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),fx=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){$S(e=jS(e,XS));var n=QS(e),r=e._freezeSettings(),i=new nS;return JS(n,i,new eS(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){$S(e=jS(e,XS));var t=QS(e),n=e._freezeSettings(),r=new nS;return JS(t,r,new tS(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new yg(gg.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new l_;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return Jh(t,void 0,void 0,(function(){var t;return $h(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return Jh(this,void 0,void 0,(function(){var t;return $h(this,(function(n){switch(n.label){case 0:return d_.yt()?(t=e+"main",[4,d_.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(IE(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),hx=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof _S||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||kg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=jS(e,FS))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&kg("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=tk.MOCK_USER;else{a=(0,td.createMockUserToken)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new yg(gg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new tk(u)}e._credentials=new SS(new kS(a,s))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Jh(t,void 0,void 0,(function(){var t,n;return $h(this,(function(r){switch(r.label){case 0:return[4,dS(e)];case 1:return t=r.sent(),[4,vS(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=xg(e);return t.Or.delete(0),xk(t)}(n))]}}))}))}))}(QS(jS(this._delegate,XS)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Jh(t,void 0,void 0,(function(){var t,n;return $h(this,(function(r){switch(r.label){case 0:return[4,dS(e)];case 1:return t=r.sent(),[4,vS(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return Jh(this,void 0,void 0,(function(){var t;return $h(this,(function(n){switch(n.label){case 0:return(t=xg(e)).Or.add(0),[4,Ck(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(QS(jS(this._delegate,XS)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&OS("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new l_;return e.asyncQueue.enqueueAndForget((function(){return Jh(t,void 0,void 0,(function(){var t;return $h(this,(function(r){switch(r.label){case 0:return t=PI,[4,mS(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(QS(jS(this._delegate,XS)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new iS(t);return e.asyncQueue.enqueueAndForget((function(){return Jh(n,void 0,void 0,(function(){var t;return $h(this,(function(n){switch(n.label){case 0:return t=function(e,t){xg(e).Gr.add(t),t.next()},[4,gS(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return Jh(n,void 0,void 0,(function(){var t;return $h(this,(function(n){switch(n.label){case 0:return t=function(e,t){xg(e).Gr.delete(t)},[4,gS(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(QS(e=jS(e,XS)),GS(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new yg(gg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Tx(this,BS(this._delegate,e))}catch(e){throw yx(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new gx(this,KS(this._delegate,e))}catch(e){throw yx(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new kx(this,function(e,t){if(e=jS(e,FS),NS("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new yg(gg.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new VS(e,null,function(e){return new Fy(Ug.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw yx(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new l_;return e.asyncQueue.enqueueAndForget((function(){return Jh(n,void 0,void 0,(function(){var n;return $h(this,(function(i){switch(i.label){case 0:return[4,function(e){return hS(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new sS(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(QS(e),(function(n){return t(new sx(e,n))}))}(this._delegate,(function(n){return e(new px(t,n))}))},e.prototype.batch=function(){var e=this;return QS(this._delegate),new vx(new ex(this._delegate,(function(t){return ox(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new yg(gg.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new yg(gg.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),dx=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Zh(t,e),t.prototype.convertBytes=function(e){return new lx(new tT(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return gx.eu(t,this.firestore,null)},t}(ZT);var px=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new dx(e)}return e.prototype.get=function(e){var t=this,n=xx(e);return this._delegate.get(n).then((function(e){return new _x(t._firestore,new DT(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=xx(e);return n?(PS("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=xx(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,ed([a,t,n],i)),this},e.prototype.delete=function(e){var t=xx(e);return this._delegate.delete(t),this},e}(),vx=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=xx(e);return n?(PS("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=xx(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,ed([a,t,n],i)),this},e.prototype.delete=function(e){var t=xx(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),mx=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new jT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ex(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new dx(t),n),i.set(n,o)),o},e}();mx.su=new WeakMap;var gx=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new dx(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new yg(gg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new US(n._delegate,r,new ey(t)))},e.eu=function(t,n,r){return new e(n,new US(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Tx(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Tx(this.firestore,BS(this._delegate,e))}catch(e){throw yx(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,td.getModularInstance)(e))instanceof US&&zS(this._delegate,e)},e.prototype.set=function(e,t){t=PS("DocumentReference.set",t);try{return function(e,t,n){e=jS(e,US);var r=jS(e.firestore,XS),i=JT(e.converter,t,n);return ox(r,[fT(lT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,yb.none())])}(this._delegate,e,t)}catch(e){throw yx(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?rx(this._delegate,e):rx.apply(void 0,ed([this._delegate,e,t],n))}catch(e){throw yx(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return ox(jS((e=this._delegate).firestore,XS),[new Rb(e._key,yb.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=bx(t),i=wx(t,(function(t){return new _x(e.firestore,new DT(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return ix(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=jS(e,US);var t=jS(e.firestore,XS),n=QS(t),r=new nx(t);return function(e,t){var n=this,r=new l_;return e.asyncQueue.enqueueAndForget((function(){return Jh(n,void 0,void 0,(function(){var n;return $h(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Jh(this,void 0,void 0,(function(){var r,i;return $h(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=xg(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new yg(gg.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=$k(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,pS(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new DT(t,r,e._key,n,new RT(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=jS(e,US);var t=jS(e.firestore,XS);return yS(QS(t),e._key,{source:"server"}).then((function(n){return ax(t,e,n)}))}(this._delegate):function(e){e=jS(e,US);var t=jS(e.firestore,XS);return yS(QS(t),e._key).then((function(n){return ax(t,e,n)}))}(this._delegate)).then((function(e){return new _x(t.firestore,new DT(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(mx.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function yx(e,t,n){return e.message=e.message.replace(t,n),e}function bx(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!GS(r))return r}return{}}function wx(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=GS(e[0])?e[0]:GS(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var _x=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new gx(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return FT(this._delegate,e._delegate)},e}(),Ex=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zh(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(_x),kx=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new dx(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,qT(this._delegate,function(e,t,n){var r=t,i=AT("where",e);return new BT(i,r,n)}(t,n,r)))}catch(t){throw yx(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,qT(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=AT("orderBy",e);return new KT(r,n)}(t,n)))}catch(t){throw yx(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,qT(this._delegate,function(e){return LS("limit",e),new zT("limit",e,"F")}(t)))}catch(t){throw yx(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,qT(this._delegate,function(e){return LS("limitToLast",e),new zT("limitToLast",e,"L")}(t)))}catch(t){throw yx(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,qT(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new WT("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw yx(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,qT(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new WT("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw yx(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,qT(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new HT("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw yx(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,qT(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new HT("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw yx(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return WS(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=jS(e,VS);var t=jS(e.firestore,XS),n=QS(t),r=new nx(t);return function(e,t){var n=this,r=new l_;return e.asyncQueue.enqueueAndForget((function(){return Jh(n,void 0,void 0,(function(){var n;return $h(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Jh(this,void 0,void 0,(function(){var r,i,o,a,s;return $h(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,UE(e,t,!0)];case 1:return s=u.sent(),r=new gI(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=$k(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,pS(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new LT(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=jS(e,VS);var t=jS(e.firestore,XS),n=QS(t),r=new nx(t);return bS(n,e._query,{source:"server"}).then((function(n){return new LT(t,r,e,n)}))}(this._delegate):function(e){e=jS(e,VS);var t=jS(e.firestore,XS),n=QS(t),r=new nx(t);return UT(e._query),bS(n,e._query).then((function(n){return new LT(t,r,e,n)}))}(this._delegate)).then((function(e){return new Sx(t.firestore,new LT(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=bx(t),i=wx(t,(function(t){return new Sx(e.firestore,new LT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return ix(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(mx.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Ix=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Ex(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Sx=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new kx(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new Ex(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Ix(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Ex(n._firestore,r))}))},e.prototype.isEqual=function(e){return FT(this._delegate,e._delegate)},e}(),Tx=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return Zh(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new gx(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new gx(this.firestore,void 0===e?KS(this._delegate):KS(this._delegate,e))}catch(e){throw yx(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=jS(e.firestore,XS),r=KS(e),i=JT(e.converter,t);return ox(n,[fT(lT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,yb.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new gx(t.firestore,e)}))},t.prototype.isEqual=function(e){return zS(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(mx.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(kx);function xx(e){return jS(e,US)}var Cx=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(eT.bind.apply(eT,ed([void 0],e)))}return e.documentId=function(){return new e(qg.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,td.getModularInstance)(e))instanceof eT&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Nx=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new pT("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new hT("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new vT("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new mT("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new gT("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();function Px(e){return function(e,t){var n=QS(e=jS(e,XS)),r=new YS;return function(e,t,n,r){var i=this,o=function(e,t){return function(e,t){return new oS(e,t)}(function(e,t){if(e instanceof Uint8Array)return rS(e,t);if(e instanceof ArrayBuffer)return rS(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,bk(t));e.asyncQueue.enqueueAndForget((function(){return Jh(i,void 0,void 0,(function(){var t;return $h(this,(function(n){switch(n.label){case 0:return t=JI,[4,mS(e)];case 1:return t.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,e._databaseId,t,r),r}(this._delegate,e)}function Ox(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return Jh(n,void 0,void 0,(function(){var n;return $h(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=xg(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ke.getNamedQuery(e,t)}))},[4,pS(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(QS(t=jS(t,XS)),n).then((function(e){return e?new VS(t,null,e.query):null}))).then((function(e){return e?new kx(r,e):null}))}var Ax,Rx=n(181),Dx={Firestore:hx,GeoPoint:rT,Timestamp:Rg,Blob:lx,Transaction:px,WriteBatch:vx,DocumentReference:gx,DocumentSnapshot:_x,Query:kx,QueryDocumentSnapshot:Ex,QuerySnapshot:Sx,CollectionReference:Tx,FieldPath:Cx,FieldValue:Nx,setLogLevel:function(e){var t;t=e,bg.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Rx.Component("firestore",(function(e){return function(e,t){return new hx(e,new XS(e,t),new fx)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Dx)))})(Ax=Xh.default),Ax.registerVersion("@firebase/firestore","2.4.0"),function(e){e.prototype.loadBundle=Px,e.prototype.namedQuery=Ox}(hx);var jx=function(e,t){return jx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},jx(e,t)};function Lx(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Ax){o(Ax)}}function s(e){try{u(r.throw(e))}catch(Ax){o(Ax)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Mx(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Ax){o=[6,Ax],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;Object.create;var Fx={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ux=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}jx(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error);var Vx=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return Lx(this,void 0,void 0,(function(){var e;return Mx(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return Lx(this,void 0,void 0,(function(){return Mx(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return Lx(this,void 0,void 0,(function(){var e,t;return Mx(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function qx(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var Bx=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"===typeof e||"object"===typeof e)return qx(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"===typeof e||"object"===typeof e?qx(e,(function(e){return t.decode(e)})):e},e}();var Kx=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new Bx,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new Vx(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(Ax){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return Lx(this,void 0,void 0,(function(){var r,i,o;return Mx(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return Lx(this,void 0,void 0,(function(){var e;return Mx(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return Lx(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h,d;return Mx(this,(function(p){switch(p.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new Ux("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([zx(c,this.postJSON(r,i,o)),l,zx(c,this.cancelAllRequests)])];case 2:if(!(f=p.sent()))throw new Ux("cancelled","Firebase Functions instance was deleted.");if(h=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"===typeof s){if(!Fx[s])return new Ux("internal","internal");r=Fx[s],i=s}var u=a.message;"string"===typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(Ax){}return"ok"===r?null:new Ux(r,i,o)}(f.status,f.json,this.serializer),h)throw h;if(!f.json)throw new Ux("internal","Response is not valid JSON object.");if("undefined"===typeof(d=f.json.data)&&(d=f.json.result),"undefined"===typeof d)throw new Ux("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},e}();function zx(e,t){return Lx(this,void 0,void 0,(function(){var n;return Mx(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:Kx};e.INTERNAL.registerComponent(new Rx.Component("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new Kx(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(Xh.default,fetch.bind(self)),Xh.default.registerVersion("@firebase/functions","0.6.15");var Wx=function(){return Wx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Wx.apply(this,arguments)};function Hx(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Ax){o(Ax)}}function s(e){try{u(r.throw(e))}catch(Ax){o(Ax)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Gx(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Ax){o=[6,Ax],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function Yx(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xx(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}Object.create;var Qx,Zx=n(494),Jx="0.4.32",$x=1e4,eC="w:0.4.32",tC="FIS_v2",nC=36e5,rC=((Qx={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Qx["not-registered"]="Firebase Installation is not registered.",Qx["installation-not-found"]="Firebase Installation not found.",Qx["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Qx["app-offline"]="Could not process request. Application offline.",Qx["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Qx),iC=new td.ErrorFactory("installations","Installations",rC);function oC(e){return e instanceof td.FirebaseError&&e.code.includes("request-failed")}function aC(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function sC(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function uC(e,t){return Hx(this,void 0,void 0,(function(){var n,r;return Gx(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,iC.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function cC(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function lC(e,t){var n=t.refreshToken,r=cC(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function fC(e){return Hx(this,void 0,void 0,(function(){var t;return Gx(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function hC(e,t){var n=t.fid;return Hx(this,void 0,void 0,(function(){var t,r,i,o,a,s;return Gx(this,(function(u){switch(u.label){case 0:return t=aC(e),r=cC(e),i={fid:n,authVersion:tC,appId:e.appId,sdkVersion:eC},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,fC((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:sC(s.authToken)}];case 3:return[4,uC("Create Installation",a)];case 4:throw u.sent()}}))}))}function dC(e){return new Promise((function(t){setTimeout(t,e)}))}function pC(e){var t=btoa(String.fromCharCode.apply(String,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],Xx(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}var vC=/^[cdef][\w-]{21}$/;function mC(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return pC(e).substr(0,22)}(e);return vC.test(t)?t:""}catch(ql){return""}}function gC(e){return e.appName+"!"+e.appId}var yC=new Map;function bC(e,t){var n=gC(e);wC(n,t),function(e,t){var n=EC();n&&n.postMessage({key:e,fid:t});kC()}(n,t)}function wC(e,t){var n,r,i=yC.get(e);if(i)try{for(var o=Yx(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var _C=null;function EC(){return!_C&&"BroadcastChannel"in self&&((_C=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){wC(e.data.key,e.data.fid)}),_C}function kC(){0===yC.size&&_C&&(_C.close(),_C=null)}var IC,SC="firebase-installations-store",TC=null;function xC(){return TC||(TC=(0,Zx.openDb)("firebase-installations-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(SC)}))),TC}function CC(e,t){return Hx(this,void 0,void 0,(function(){var n,r,i,o,a;return Gx(this,(function(s){switch(s.label){case 0:return n=gC(e),[4,xC()];case 1:return r=s.sent(),i=r.transaction(SC,"readwrite"),[4,(o=i.objectStore(SC)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||bC(e,t.fid),[2,t]}}))}))}function NC(e){return Hx(this,void 0,void 0,(function(){var t,n,r;return Gx(this,(function(i){switch(i.label){case 0:return t=gC(e),[4,xC()];case 1:return n=i.sent(),[4,(r=n.transaction(SC,"readwrite")).objectStore(SC).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function PC(e,t){return Hx(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Gx(this,(function(u){switch(u.label){case 0:return n=gC(e),[4,xC()];case 1:return r=u.sent(),i=r.transaction(SC,"readwrite"),[4,(o=i.objectStore(SC)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||bC(e,s.fid),[2,s]}}))}))}function OC(e){return Hx(this,void 0,void 0,(function(){var t,n,r;return Gx(this,(function(i){switch(i.label){case 0:return[4,PC(e,(function(n){var r=function(e){return DC(e||{fid:mC(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(iC.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return Hx(this,void 0,void 0,(function(){var n,r;return Gx(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,hC(e,t)];case 1:return n=i.sent(),[2,CC(e,n)];case 2:return oC(r=i.sent())&&409===r.customData.serverCode?[4,NC(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,CC(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:AC(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function AC(e){return Hx(this,void 0,void 0,(function(){var t,n,r,i;return Gx(this,(function(o){switch(o.label){case 0:return[4,RC(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,dC(100)];case 3:return o.sent(),[4,RC(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,OC(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function RC(e){return PC(e,(function(e){if(!e)throw iC.create("installation-not-found");return DC(e)}))}function DC(e){return 1===(t=e).registrationStatus&&t.registrationTime+$x<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function jC(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return Hx(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return Gx(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return aC(e)+"/"+n+"/authTokens:generate"}(n,t),i=lC(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:eC}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,fC((function(){return fetch(e,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,sC(c)];case 3:return[4,uC("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function LC(e,t){return void 0===t&&(t=!1),Hx(this,void 0,void 0,(function(){var n,r,i;return Gx(this,(function(o){switch(o.label){case 0:return[4,PC(e.appConfig,(function(r){if(!FC(r))throw iC.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+nC}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return Hx(this,void 0,void 0,(function(){var n,r;return Gx(this,(function(i){switch(i.label){case 0:return[4,MC(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,dC(100)];case 3:return i.sent(),[4,MC(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,LC(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw iC.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return Wx(Wx({},e),{authToken:t})}(r);return n=function(e,t){return Hx(this,void 0,void 0,(function(){var n,r,i;return Gx(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,jC(e,t)];case 1:return n=o.sent(),i=Wx(Wx({},t),{authToken:n}),[4,CC(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!oC(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,NC(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Wx(Wx({},t),{authToken:{requestStatus:0}}),[4,CC(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function MC(e){return PC(e,(function(e){if(!FC(e))throw iC.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+$x<Date.now()?Wx(Wx({},e),{authToken:{requestStatus:0}}):e}))}function FC(e){return void 0!==e&&2===e.registrationStatus}function UC(e){return Hx(this,void 0,void 0,(function(){var t;return Gx(this,(function(n){switch(n.label){case 0:return[4,OC(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function VC(e,t){return Hx(this,void 0,void 0,(function(){var n,r,i,o;return Gx(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return aC(e)+"/"+n}(e,t),r=lC(e,t),i={method:"DELETE",headers:r},[4,fC((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,uC("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function qC(e,t){var n=e.appConfig;return function(e,t){EC();var n=gC(e),r=yC.get(n);r||(r=new Set,yC.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=gC(e),r=yC.get(n);r&&(r.delete(t),0===r.size&&yC.delete(n),kC())}(n,t)}}function BC(e){return iC.create("missing-app-config-values",{valueName:e})}(IC=Xh.default).INTERNAL.registerComponent(new Rx.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw BC("App Configuration");if(!e.name)throw BC("App Name");try{for(var r=Yx(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw BC(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),r={appConfig:n,platformLoggerProvider:e.getProvider("platform-logger")},i={app:t,getId:function(){return function(e){return Hx(this,void 0,void 0,(function(){var t,n,r;return Gx(this,(function(i){switch(i.label){case 0:return[4,OC(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):LC(e).catch(console.error),[2,n.fid]}}))}))}(r)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),Hx(this,void 0,void 0,(function(){return Gx(this,(function(n){switch(n.label){case 0:return[4,UC(e.appConfig)];case 1:return n.sent(),[4,LC(e,t)];case 2:return[2,n.sent().token]}}))}))}(r,e)},delete:function(){return function(e){return Hx(this,void 0,void 0,(function(){var t,n;return Gx(this,(function(r){switch(r.label){case 0:return[4,PC(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw iC.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw iC.create("app-offline");case 3:return[4,VC(t,n)];case 4:return r.sent(),[4,NC(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(r)},onIdChange:function(e){return qC(r,e)}};return i}),"PUBLIC")),IC.registerVersion("@firebase/installations",Jx);var KC=function(){return KC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},KC.apply(this,arguments)};function zC(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Ax){o(Ax)}}function s(e){try{u(r.throw(e))}catch(Ax){o(Ax)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function WC(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Ax){o=[6,Ax],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function HC(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function GC(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}Object.create;var YC,XC,QC=n(365),ZC=((YC={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',YC["only-available-in-window"]="This method is available in a Window context.",YC["only-available-in-sw"]="This method is available in a service worker context.",YC["permission-default"]="The notification permission was not granted and dismissed instead.",YC["permission-blocked"]="The notification permission was not granted and blocked instead.",YC["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",YC["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",YC["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",YC["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",YC["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",YC["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",YC["token-update-no-token"]="FCM returned no token when updating the user to push.",YC["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",YC["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",YC["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",YC["invalid-vapid-key"]="The public VAPID key must be a string.",YC["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",YC),JC=new td.ErrorFactory("messaging","Messaging",ZC),$C="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",eN="google.c.a.c_id";function tN(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],GC(t))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function nN(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(XC||(XC={}));var rN="fcm_token_details_db",iN="fcm_token_object_Store";function oN(e){return zC(this,void 0,void 0,(function(){var t,n,r,i=this;return WC(this,(function(o){switch(o.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=o.sent(),n=t.map((function(e){return e.name})),!n.includes(rN))return[2,null];o.label=2;case 2:return r=null,[4,(0,QC.openDb)(rN,5,(function(t){return zC(i,void 0,void 0,(function(){var n,i,o,a;return WC(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains(iN)?[4,(n=t.transaction.objectStore(iN)).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];r={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:tN(o.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(r={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:tN(o.auth),p256dh:tN(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:tN(o.vapidKey)}});return[2]}}))}))}))];case 3:return o.sent().close(),[4,(0,QC.deleteDb)(rN)];case 4:return o.sent(),[4,(0,QC.deleteDb)("fcm_vapid_details_db")];case 5:return o.sent(),[4,(0,QC.deleteDb)("undefined")];case 6:return o.sent(),[2,aN(r)?r:null]}}))}))}function aN(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var sN="firebase-messaging-store",uN=null;function cN(){return uN||(uN=(0,QC.openDb)("firebase-messaging-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(sN)}))),uN}function lN(e){return zC(this,void 0,void 0,(function(){var t,n,r;return WC(this,(function(i){switch(i.label){case 0:return t=dN(e),[4,cN()];case 1:return[4,i.sent().transaction(sN).objectStore(sN).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,oN(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,fN(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function fN(e,t){return zC(this,void 0,void 0,(function(){var n,r,i;return WC(this,(function(o){switch(o.label){case 0:return n=dN(e),[4,cN()];case 1:return r=o.sent(),[4,(i=r.transaction(sN,"readwrite")).objectStore(sN).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function hN(e){return zC(this,void 0,void 0,(function(){var t,n,r;return WC(this,(function(i){switch(i.label){case 0:return t=dN(e),[4,cN()];case 1:return n=i.sent(),[4,(r=n.transaction(sN,"readwrite")).objectStore(sN).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function dN(e){return e.appConfig.appId}function pN(e,t){return zC(this,void 0,void 0,(function(){var n,r,i,o,a,s;return WC(this,(function(u){switch(u.label){case 0:return[4,yN(e)];case 1:n=u.sent(),r=bN(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(gN(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),JC.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,JC.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw JC.create("token-subscribe-no-token");return[2,o.token]}}))}))}function vN(e,t){return zC(this,void 0,void 0,(function(){var n,r,i,o,a,s;return WC(this,(function(u){switch(u.label){case 0:return[4,yN(e)];case 1:n=u.sent(),r=bN(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(gN(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),JC.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,JC.create("token-update-failed",{errorInfo:s});if(!o.token)throw JC.create("token-update-no-token");return[2,o.token]}}))}))}function mN(e,t){return zC(this,void 0,void 0,(function(){var n,r,i,o,a;return WC(this,(function(s){switch(s.label){case 0:return[4,yN(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(gN(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,JC.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),JC.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function gN(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function yN(e){var t=e.appConfig,n=e.installations;return zC(this,void 0,void 0,(function(){var e;return WC(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function bN(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==$C&&(o.web.applicationPubKey=i),o}function wN(e,t,n){return zC(this,void 0,void 0,(function(){var r,i,o,a;return WC(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw JC.create("permission-blocked");return[4,IN(t,n)];case 1:return r=s.sent(),[4,lN(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:tN(r.getKey("auth")),p256dh:tN(r.getKey("p256dh"))},i?[3,3]:[2,kN(e,o)];case 3:if(function(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(i.subscriptionOptions,o))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,mN(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,kN(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,EN({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}}))}))}function _N(e,t){return zC(this,void 0,void 0,(function(){var n,r;return WC(this,(function(i){switch(i.label){case 0:return[4,lN(e)];case 1:return(n=i.sent())?[4,mN(e,n.token)]:[3,4];case 2:return i.sent(),[4,hN(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function EN(e,t,n){return zC(this,void 0,void 0,(function(){var r,i,o;return WC(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,vN(t,e)];case 1:return r=a.sent(),i=KC(KC({},e),{token:r,createTime:Date.now()}),[4,fN(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,_N(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function kN(e,t){return zC(this,void 0,void 0,(function(){var n,r;return WC(this,(function(i){switch(i.label){case 0:return[4,pN(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,fN(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function IN(e,t){return zC(this,void 0,void 0,(function(){var n;return WC(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:nN(t)})]}}))}))}function SN(e){return"object"===typeof e&&!!e&&eN in e}function TN(e){return new Promise((function(t){setTimeout(t,e)}))}var xN=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!==typeof e)throw JC.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return zC(this,void 0,void 0,(function(){var n;return WC(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,lN(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:$C,r.label=2;case 2:return[2,wN(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return _N(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw JC.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw JC.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw JC.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw JC.create("only-available-in-window")},e.prototype.onMessage=function(){throw JC.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw JC.create("only-available-in-window")},e.prototype.onPush=function(e){return zC(this,void 0,void 0,(function(){var t,n,r,i;return WC(this,(function(o){switch(o.label){case 0:return t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e),t?[4,ON()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,PN(n,t)]:(r=!1,t.notification?[4,AN(CN(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,TN(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return zC(this,void 0,void 0,(function(){var r;return WC(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,_N(this.firebaseDependencies,self.registration)];case 1:case 5:return i.sent(),[2];case 2:return[4,lN(this.firebaseDependencies)];case 3:return r=i.sent(),[4,_N(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,wN(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:$C)]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return zC(this,void 0,void 0,(function(){var r,i,o,a,s;return WC(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return SN(e.data)?self.location.origin:null}(r),i?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,NN(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,TN(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=XC.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function CN(e){var t,n=KC({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function NN(e){return zC(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return WC(this,(function(u){switch(u.label){case 0:return[4,ON()];case 1:t=u.sent();try{for(n=HC(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function PN(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=XC.PUSH_RECEIVED;try{for(var i=HC(e),o=i.next();!o.done;o=i.next()){o.value.postMessage(t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function ON(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function AN(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var RN=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return zC(this,void 0,void 0,(function(){var t,n;return WC(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===XC.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),SN(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return zC(this,void 0,void 0,(function(){return WC(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw JC.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,wN(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return zC(this,void 0,void 0,(function(){return WC(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=$C),[2]}))}))},e.prototype.updateSwReg=function(e){return zC(this,void 0,void 0,(function(){return WC(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw JC.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return zC(this,void 0,void 0,(function(){var e,t;return WC(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),JC.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return zC(this,void 0,void 0,(function(){return WC(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,_N(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return zC(this,void 0,void 0,(function(){var e;return WC(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?JC.create("permission-blocked"):JC.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw JC.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw JC.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw JC.create("invalid-sw-registration");if(this.swRegistration)throw JC.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw JC.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw JC.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return zC(this,void 0,void 0,(function(){var n;return WC(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case XC.NOTIFICATION_CLICKED:return"notification_open";case XC.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function DN(e){return JC.create("missing-app-config-values",{valueName:e})}var jN={isSupported:LN};function LN(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Xh.default.INTERNAL.registerComponent(new Rx.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw DN("App Configuration Object");if(!e.name)throw DN("App Name");var r=e.options;try{for(var i=HC(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw DN(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),r={app:t,appConfig:n,installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!LN())throw JC.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new xN(r):new RN(r)}),"PUBLIC").setServiceProps(jN));var MN=function(e,t){return MN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},MN(e,t)};var FN=function(){return FN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},FN.apply(this,arguments)};function UN(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Ax){o(Ax)}}function s(e){try{u(r.throw(e))}catch(Ax){o(Ax)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function VN(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Ax){o=[6,Ax],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function qN(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var BN="firebasestorage.googleapis.com",KN=function(e){function t(n,r){var i=e.call(this,zN(n),"Firebase Storage: "+r+" ("+zN(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}MN(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype._codeEquals=function(e){return zN(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(td.FirebaseError);function zN(e){return"storage/"+e}function WN(){return new KN("unknown","An unknown error occurred, please check the error payload for server response.")}function HN(){return new KN("canceled","User canceled the upload/download.")}function GN(){return new KN("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function YN(e){return new KN("invalid-argument",e)}function XN(){return new KN("app-deleted","The Firebase app was deleted.")}function QN(e){return new KN("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ZN(e,t){return new KN("invalid-format","String does not match format '"+e+"': "+t)}function JN(e){throw new KN("internal-error","Internal error: "+e)}var $N={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},eP=function(e,t){this.data=e,this.contentType=t||null};function tP(e,t){switch(e){case $N.RAW:return new eP(nP(t));case $N.BASE64:case $N.BASE64URL:return new eP(rP(e,t));case $N.DATA_URL:return new eP(function(e){var t=new iP(e);return t.base64?rP($N.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(Ax){throw ZN($N.DATA_URL,"Malformed data URL.")}return nP(t)}(t.rest)}(t),new iP(t).contentType)}throw WN()}function nP(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function rP(e,t){switch(e){case $N.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw ZN(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case $N.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw ZN(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(Ax){throw ZN(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var iP=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw ZN($N.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)};var oP,aP={STATE_CHANGED:"state_changed"},sP={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function uP(e){switch(e){case"running":case"pausing":case"canceling":return sP.RUNNING;case"paused":return sP.PAUSED;case"success":return sP.SUCCESS;case"canceled":return sP.CANCELED;default:return sP.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(oP||(oP={}));var cP=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=oP.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=oP.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=oP.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw JN("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw JN("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw JN("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Ax){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw JN("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();var lP=function(){function e(){}return e.prototype.createConnection=function(){return new cP},e}(),fP=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(Ax){return new e(t,"")}if(""===r.path)return r;throw new KN("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===BN?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new KN("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),hP=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function dP(e){return"string"===typeof e||e instanceof String}function pP(e){return vP()&&e instanceof Blob}function vP(){return"undefined"!==typeof Blob}function mP(e,t,n,r){if(r<t)throw YN("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw YN("Invalid value for '"+e+"'. Expected "+n+" or less.")}function gP(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function yP(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var bP=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var f=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){f.resolve_=e,f.reject_=t,f.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(Ax){o(Ax)}else null!==a?((r=WN()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?XN():HN()):o(r=new KN("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new wP(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function l(t){i=setTimeout((function(){i=null,e(f,s())}),t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)c.call.apply(c,qN([null,e],t));else{var i;s()||o?c.call.apply(c,qN([null,e],t)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i))}}var h=!1;function d(e){h||(h=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(t,n){if(n)t(!1,new wP(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===oP.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new wP(a,r))}else{var s=r.getErrorCode()===oP.ABORT;t(!1,new wP(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),wP=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function _P(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function EP(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_P();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(vP())return new Blob(e);throw new KN("unsupported-environment","This browser doesn't seem to support creating Blobs")}var kP=function(){function e(e,t){var n=0,r="";pP(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(pP(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(vP()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(EP.apply(null,r))}var i=t.map((function(e){return dP(e)?tP($N.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function IP(e){var t;try{t=JSON.parse(e)}catch(Ax){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function SP(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function TP(e,t){return t}var xP=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||TP},CP=null;function NP(){if(CP)return CP;var e=[];e.push(new xP("bucket")),e.push(new xP("generation")),e.push(new xP("metageneration")),e.push(new xP("name","fullPath",!0));var t=new xP("name");t.xform=function(e,t){return function(e){return!dP(e)||e.length<2?e:SP(e)}(t)},e.push(t);var n=new xP("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new xP("timeCreated")),e.push(new xP("updated")),e.push(new xP("md5Hash",null,!0)),e.push(new xP("cacheControl",null,!0)),e.push(new xP("contentDisposition",null,!0)),e.push(new xP("contentEncoding",null,!0)),e.push(new xP("contentLanguage",null,!0)),e.push(new xP("contentType",null,!0)),e.push(new xP("metadata","customMetadata",!0)),CP=e}function PP(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new fP(n,r);return t._makeStorageReference(i)}})}(r,e),r}function OP(e,t,n){var r=IP(t);return null===r?null:PP(e,r,n)}function AP(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function RP(e,t,n){var r=IP(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new fP(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new fP(t,l.name)),r.items.push(s)}return r}(e,t,r)}var DP=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function jP(e){if(!e)throw WN()}function LP(e,t){return function(n,r){var i=OP(e,r,t);return jP(null!==i),i}}function MP(e,t){return function(n,r){var i=OP(e,r,t);return jP(null!==i),function(e,t,n){var r=IP(t);if(null===r)return null;if(!dP(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return gP("/b/"+o(r)+"/o/"+o(i),n)+yP({alt:"media",token:t})}))[0]}(i,r,e.host)}}function FP(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new KN("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new KN("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new KN("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new KN("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function UP(e){var t=FP(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new KN("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function VP(e,t,n){var r=gP(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new DP(r,"GET",LP(e,n),i);return o.errorHandler=UP(t),o}function qP(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=gP(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new DP(a,"GET",function(e,t){return function(n,r){var i=RP(e,t,r);return jP(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=FP(t),u}function BP(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var KP=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function zP(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(Ax){jP(!1)}return jP(!!n&&-1!==(t||["active"]).indexOf(n)),n}var WP=262144;function HP(e,t,n,r,i,o,a,s){var u=new KP(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new KN("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},p=r.slice(f,h);if(null===p)throw GN();var v=t.maxUploadRetryTime,m=new DP(n,"POST",(function(e,n){var i,a=zP(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?LP(t,o)(e,n):null,new KP(s,c,"final"===a,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=FP(e),m}var GP=function(e,t,n){var r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=t,this.complete=n;else{var i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}};function YP(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var XP=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=NP(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=BP(t,r,i),s={name:a.fullPath},u=gP(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=AP(a,n),f=e.maxUploadRetryTime,h=new DP(u,"POST",(function(e){var t;zP(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(Ax){jP(!1)}return jP(dP(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=FP(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new DP(n,"POST",(function(e){var t=zP(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Ax){jP(!1)}n||jP(!1);var i=Number(n);return jP(!isNaN(i)),new KP(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=FP(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=WP*this._chunkMultiplier,n=new KP(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=HP(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(Ax){return e._error=Ax,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){WP*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=VP(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=BP(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+AP(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=kP.getBlob(c,r,l);if(null===f)throw GN();var h={name:u.fullPath},d=gP(o,e.host),p=e.maxUploadRetryTime,v=new DP(d,"POST",LP(e,n),p);return v.urlParams=h,v.headers=a,v.body=f.uploadData(),v.errorHandler=FP(t),v}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=HN(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=uP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new GP(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(uP(this._state)){case sP.SUCCESS:YP(this._resolve.bind(null,this.snapshot))();break;case sP.CANCELED:case sP.ERROR:YP(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(uP(this._state)){case sP.RUNNING:case sP.PAUSED:e.next&&YP(e.next.bind(e,this.snapshot))();break;case sP.SUCCESS:e.complete&&YP(e.complete.bind(e))();break;default:e.error&&YP(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),QP=function(){function e(e,t){this._service=e,this._location=t instanceof fP?t:fP.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new fP(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return SP(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new fP(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw QN(e)},e}();function ZP(e){var t={prefixes:[],items:[]};return JP(e,t).then((function(){return t}))}function JP(e,t,n){return UN(this,void 0,void 0,(function(){var r,i,o;return VN(this,(function(a){switch(a.label){case 0:return[4,$P(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,JP(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function $P(e,t){return UN(this,void 0,void 0,(function(){var n,r;return VN(this,(function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&mP("options.maxResults",1,1e3,t.maxResults),n=t||{},r=qP(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function eO(e,t){return UN(this,void 0,void 0,(function(){var n;return VN(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=gP(t.fullServerUrl(),e.host),o=AP(n,r),a=e.maxOperationRetryTime,s=new DP(i,"PATCH",LP(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=UP(t),s}(e.storage,e._location,t,NP()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function tO(e){return UN(this,void 0,void 0,(function(){var t;return VN(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=gP(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new DP(r,"GET",MP(e,n),i);return o.errorHandler=UP(t),o}(e.storage,e._location,NP()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new KN("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function nO(e){return UN(this,void 0,void 0,(function(){var t;return VN(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=gP(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new DP(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=UP(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function rO(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new fP(e._location.bucket,n);return new QP(e.storage,r)}function iO(e){return/^[A-Za-z]+:\/\//.test(e)}function oO(e,t){if(e instanceof uO){var n=e;if(null==n._bucket)throw new KN("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new QP(n,n._bucket);return null!=t?oO(r,t):r}return void 0!==t?rO(e,t):e}function aO(e,t){if(t&&iO(t)){if(e instanceof uO)return new QP(e,t);throw YN("To use ref(service, url), the first argument must be a Storage instance.")}return oO(e,t)}function sO(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:fP.makeFromBucketSpec(n,e)}var uO=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=BN,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?fP.makeFromBucketSpec(i,this._host):sO(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=fP.makeFromBucketSpec(this._url,e):this._bucket=sO(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){mP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){mP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return UN(this,void 0,void 0,(function(){var e,t;return VN(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return UN(this,void 0,void 0,(function(){var e;return VN(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new QP(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new hP(XN());var i=function(e,t,n,r,i,o){var a=yP(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new bP(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return UN(this,void 0,void 0,(function(){var t,n,r;return VN(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function cO(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new XP(e,new kP(t),n)}(e=(0,td.getModularInstance)(e),t,n)}function lO(e){return function(e){return UN(this,void 0,void 0,(function(){var t;return VN(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=VP(e.storage,e._location,NP()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=(0,td.getModularInstance)(e))}function fO(e,t){return aO(e=(0,td.getModularInstance)(e),t)}function hO(e,t,n,r){void 0===r&&(r={}),function(e,t,n,r){void 0===r&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:(0,td.createMockUserToken)(i,e.app.options.projectId))}(e,t,n,r)}var dO=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),pO=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new dO(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new dO(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new dO(e,i,i._ref))}:{next:t.next?function(e){return t.next(new dO(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),vO=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new mO(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new mO(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),mO=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=function(e,t){return rO(e,t)}(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new pO(cO(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=$N.RAW),this._throwIfRoot("putString");var r=tP(t,e),i=FN({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new pO(new XP(this._delegate,new kP(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return ZP(e=(0,td.getModularInstance)(e))}(this._delegate).then((function(t){return new vO(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return $P(e=(0,td.getModularInstance)(e),t)}(this._delegate,e||void 0).then((function(e){return new vO(e,t.storage)}))},e.prototype.getMetadata=function(){return lO(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return eO(e=(0,td.getModularInstance)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return tO(e=(0,td.getModularInstance)(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return nO(e=(0,td.getModularInstance)(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw QN(e)},e}(),gO=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(iO(e))throw YN("ref() expected a child path but got a URL, use refFromURL instead.");return new mO(fO(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!iO(e))throw YN("refFromURL() expected a full URL but got a child path, use ref() instead.");try{fP.makeFromUrl(e,this._delegate.host)}catch(Ax){throw YN("refFromUrl() expected a valid full URL but got an invalid one.")}return new mO(fO(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),hO(this._delegate,e,t,n)},e}();function yO(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new gO(r,new uO(r,i,o,new lP,n,Xh.default.SDK_VERSION))}!function(e){var t={TaskState:sP,TaskEvent:aP,StringFormat:$N,Storage:uO,Reference:mO};e.INTERNAL.registerComponent(new Rx.Component("storage",yO,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.7.0")}(Xh.default);var bO=function(){return bO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},bO.apply(this,arguments)};Object.create;function wO(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var _O,EO,kO,IO="0.4.18",SO=IO,TO="FB-PERF-TRACE-MEASURE",xO="_wt_",CO="_fcp",NO="_fid",PO="@firebase/performance/config",OO="@firebase/performance/configexpire",AO="Performance",RO=((_O={})["trace started"]="Trace {$traceName} was started before.",_O["trace stopped"]="Trace {$traceName} is not running.",_O["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",_O["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",_O["no window"]="Window is not available.",_O["no app id"]="App id is not available.",_O["no project id"]="Project id is not available.",_O["no api key"]="Api key is not available.",_O["invalid cc log"]="Attempted to queue invalid cc event",_O["FB not default"]="Performance can only start when Firebase app instance is the default one.",_O["RC response not ok"]="RC response is not ok",_O["invalid attribute name"]="Attribute name {$attributeName} is invalid.",_O["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",_O["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",_O["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",_O),DO=new td.ErrorFactory("performance",AO,RO),jO=new nd.Logger(AO);jO.logLevel=nd.LogLevel.INFO;var LO,MO=function(){function e(e){if(this.window=e,!e)throw DO.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,td.isIndexedDBAvailable)()||(jO.info("IndexedDB is not supported by current browswer"),!1):(jO.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){if(this.PerformanceObserver){var n=new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}}));n.observe({entryTypes:[e]})}},e.getInstance=function(){return void 0===EO&&(EO=new e(kO)),EO},e}();function FO(e,t){var n=e.length-t.length;if(n<0||n>1)throw DO.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var UO,VO,qO=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=FO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=FO("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw DO.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw DO.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw DO.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===LO&&(LO=new e),LO},e}();function BO(){return UO}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(VO||(VO={}));var KO=["firebase_","google_","ga_"],zO=new RegExp("^[a-zA-Z]\\w*$");function WO(){var e=MO.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function HO(){switch(MO.getInstance().document.visibilityState){case"visible":return VO.VISIBLE;case"hidden":return VO.HIDDEN;default:return VO.UNKNOWN}}function GO(){var e=MO.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var YO="0.0.1",XO=!0,QO="FIREBASE_INSTALLATIONS_AUTH";function ZO(e){var t=function(){var e=MO.getInstance().localStorage;if(!e)return;var t=e.getItem(OO);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(PO);if(!r)return;try{return JSON.parse(r)}catch(ql){return}}();return t?($O(t),Promise.resolve()):function(e){return function(){var e=qO.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+qO.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+qO.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:QO+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:qO.getInstance().getAppId(),app_version:SO,sdk_version:YO})});return fetch(r).then((function(e){if(e.ok)return e.json();throw DO.create("RC response not ok")}))})).catch((function(){jO.info(JO)}))}(e).then($O).then((function(e){return function(e){var t=MO.getInstance().localStorage;if(!e||!t)return;t.setItem(PO,JSON.stringify(e)),t.setItem(OO,String(Date.now()+60*qO.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var JO="Could not fetch config, will use default configs";function $O(e){if(!e)return e;var t=qO.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=XO,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=eA(t.tracesSamplingRate),t.logNetworkAfterSampling=eA(t.networkRequestsSamplingRate),e}function eA(e){return Math.random()<=e}var tA,nA=1;function rA(){return nA=2,tA=tA||function(){var e=MO.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(){var e=qO.getInstance().installationsService.getId();return e.then((function(e){UO=e})),e}()})).then((function(e){return ZO(e)})).then((function(){return iA()}),(function(){return iA()}))}function iA(){nA=3}var oA,aA=1e4,sA=3,uA=[],cA=!1;function lA(e){setTimeout((function(){if(0!==sA)return uA.length?void function(){var e=uA.splice(0,1e3),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=qO.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||jO.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=aA;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(uA=wO(wO([],t),uA),jO.info("Retry transport request later.")),sA=3,lA(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:qO.getInstance().logSource,log_event:t},e).catch((function(){uA=wO(wO([],e),uA),sA--,jO.info("Tries left: "+sA+"."),lA(aA)}))}():lA(aA)}),e)}function fA(e){if(!e.eventTime||!e.message)throw DO.create("invalid cc log");uA=wO(wO([],uA),[e])}function hA(e,t){oA||(oA=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];fA({message:e.apply(void 0,t),eventTime:Date.now()})}}(vA)),oA(e,t)}function dA(e){var t=qO.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&MO.getInstance().requiredApisAvailable()&&(e.isAuto&&HO()!==VO.VISIBLE||(3===nA?pA(e):rA().then((function(){return pA(e)}),(function(){return pA(e)}))))}function pA(e){if(BO()){var t=qO.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return hA(e,1)}),0)}}function vA(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:mA(),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:mA(),trace_metric:t};return JSON.stringify(r)}(e)}function mA(){return{google_app_id:qO.getInstance().getAppId(),app_instance_id:BO(),web_app_info:{sdk_version:SO,page_url:MO.getInstance().getUrl(),service_worker_status:WO(),visibility_state:HO(),effective_connection_type:GO()},application_process_state:0}}var gA=["_fp",CO,NO];var yA=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=MO.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw DO.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw DO.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),dA(this)},e.prototype.record=function(e,t,n){if(e<=0)throw DO.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw DO.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=bO({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}dA(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith(xO)&&gA.indexOf(n)>-1)&&n.startsWith("_"))throw DO.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&jO.info("Metric value should be an Integer, setting the value as : "+t+"."),t}(t)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40)&&!KO.some((function(e){return n.startsWith(e)}))&&!!n.match(zO),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw DO.create("invalid attribute name",{attributeName:e});if(!i)throw DO.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return bO({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=MO.getInstance().getUrl();if(i){var o=new e(xO+i,!0),a=Math.floor(1e3*MO.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric(CO,Math.floor(1e3*u.startTime)),r&&o.putMetric(NO,Math.floor(1e3*r))}dA(o)}},e.createUserTimingTrace=function(t){dA(new e(t,!1,t))},e}();function bA(e){var t=e;if(t&&void 0!==t.responseStart){var n=MO.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=qO.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return hA(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function wA(){BO()&&(setTimeout((function(){return function(){var e=MO.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){yA.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),yA.createOobTrace(t,n,e))}))}else yA.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=MO.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){bA(r[n])}e.setupObserver("resource",bA)}()}),0),setTimeout((function(){return function(){for(var e=MO.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){_A(r[n])}e.setupObserver("measure",_A)}()}),0))}function _A(e){var t=e.name;t.substring(0,TO.length)!==TO&&yA.createUserTimingTrace(t)}var EA=function(){function e(e){this.app=e,MO.getInstance().requiredApisAvailable()&&(0,td.validateIndexedDBOpenable)().then((function(e){e&&(cA||(lA(5500),cA=!0),rA().then(wA,wA))})).catch((function(e){jO.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new yA(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return qO.getInstance().instrumentationEnabled},set:function(e){qO.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return qO.getInstance().dataCollectionEnabled},set:function(e){qO.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw DO.create("FB not default");if("undefined"===typeof window)throw DO.create("no window");return function(e){kO=e}(window),qO.getInstance().firebaseAppInstance=e,qO.getInstance().installationsService=t,new EA(e)};e.INTERNAL.registerComponent(new Rx.Component("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance",IO)}(Xh.default);var kA=function(){return kA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},kA.apply(this,arguments)};function IA(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Ax){o(Ax)}}function s(e){try{u(r.throw(e))}catch(Ax){o(Ax)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function SA(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Ax){o=[6,Ax],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;Object.create;var TA,xA,CA="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(TA||(TA={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(xA||(xA={}));var NA,PA=new nd.Logger("@firebase/analytics");function OA(e,t,n,r,i,o){return IA(this,void 0,void 0,(function(){var a,s,u,c;return SA(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),u=s.find((function(e){return e.measurementId===i})),u?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),PA.error(c),[3,8];case 8:return e(TA.CONFIG,i,o),[2]}}))}))}function AA(e,t,n,r,i){return IA(this,void 0,void 0,(function(){var o,a,s,u,c,l,f,h;return SA(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(f=l[c],"break"!==u(f));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return d.sent(),e(TA.EVENT,r,i||{}),[3,5];case 4:return h=d.sent(),PA.error(h),[3,5];case 5:return[2]}}))}))}function RA(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return IA(this,void 0,void 0,(function(){var s;return SA(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==TA.EVENT?[3,2]:[4,AA(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==TA.CONFIG?[3,4]:[4,OA(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(TA.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),PA.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var DA=((NA={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",NA["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",NA["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",NA["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",NA["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",NA["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",NA["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",NA["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',NA["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',NA),jA=new td.ErrorFactory("analytics","Analytics",DA),LA=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function MA(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function FA(e){var t;return IA(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return SA(this,(function(c){switch(c.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:MA(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw jA.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function UA(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=LA),IA(this,void 0,void 0,(function(){var t,a,s,u,c,l,f;return SA(this,(function(h){switch(h.label){case 0:t=e.appId,a=e.measurementId,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,VA(n,i)];case 2:return h.sent(),[3,4];case 3:if(s=h.sent(),a)return PA.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return h.trys.push([4,6,,7]),[4,FA(e)];case 5:return u=h.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(!function(e){if(!(e instanceof td.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=h.sent())){if(r.deleteThrottleMetadata(t),a)return PA.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?(0,td.calculateBackoffMillis)(o,r.intervalMillis,30):(0,td.calculateBackoffMillis)(o,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(t,f),PA.debug("Calling attemptFetch again in "+l+" millis"),[2,UA(e,f,n,r)];case 7:return[2]}}))}))}function VA(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(jA.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var qA=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function BA(e,t,n,r,i,o){return IA(this,void 0,void 0,(function(){var a,s,u,c,l,f,h;return SA(this,(function(d){switch(d.label){case 0:return a=function(e,t,n){return void 0===t&&(t=LA),IA(this,void 0,void 0,(function(){var r,i,o,a,s,u,c=this;return SA(this,(function(l){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw jA.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw jA.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new qA,setTimeout((function(){return IA(c,void 0,void 0,(function(){return SA(this,(function(e){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,UA({appId:i,apiKey:o,measurementId:a},s,u,t)]}))}))}(e),a.then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&PA.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return PA.error(e)})),t.push(a),s=function(){return IA(this,void 0,void 0,(function(){var e;return SA(this,(function(t){switch(t.label){case 0:return(0,td.isIndexedDBAvailable)()?[3,1]:(PA.warn(jA.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,(0,td.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),PA.warn(jA.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(CA))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=CA+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(h={}).origin="firebase",h.update=!0,f=h,null!=l&&(f.firebase_id=l),i(TA.CONFIG,c.measurementId,f),[2,c.measurementId]}}))}))}var KA,zA,WA={},HA=[],GA={},YA="dataLayer",XA="gtag",QA=!1;function ZA(e){if(QA)throw jA.create("already-initialized");e.dataLayerName&&(YA=e.dataLayerName),e.gtagName&&(XA=e.gtagName)}function JA(e,t){!function(){var e=[];if((0,td.isBrowserExtension)()&&e.push("This is a browser extension environment."),(0,td.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=jA.create("invalid-analytics-context",{errorInfo:t});PA.warn(n.message)}}();var n=e.options.appId;if(!n)throw jA.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw jA.create("no-api-key");PA.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=WA[n])throw jA.create("already-exists",{id:n});if(!QA){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(YA);var r=RA(WA,HA,GA,YA,XA),i=r.wrappedGtag,o=r.gtagCore;zA=i,KA=o,QA=!0}WA[n]=BA(e,HA,GA,t,KA,YA);var a={app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return IA(this,void 0,void 0,(function(){var o,a;return SA(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(TA.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=kA(kA({},r),{send_to:o}),e(TA.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(zA,WA[n],e,t,r).catch((function(e){return PA.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return IA(this,void 0,void 0,(function(){var i;return SA(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(TA.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(TA.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(zA,WA[n],e,t).catch((function(e){return PA.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return IA(this,void 0,void 0,(function(){var i;return SA(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(TA.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(TA.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(zA,WA[n],e,t).catch((function(e){return PA.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return IA(this,void 0,void 0,(function(){var i,o,a,s,u;return SA(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(TA.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(TA.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(zA,WA[n],e,t).catch((function(e){return PA.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return IA(this,void 0,void 0,(function(){var n;return SA(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(WA[n],e).catch((function(e){return PA.error(e)}))},INTERNAL:{delete:function(){return delete WA[n],Promise.resolve()}}};return a}var $A="analytics";function eR(){return IA(this,void 0,void 0,(function(){return SA(this,(function(e){switch(e.label){case 0:if((0,td.isBrowserExtension)())return[2,!1];if(!(0,td.areCookiesEnabled)())return[2,!1];if(!(0,td.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,td.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new Rx.Component($A,(function(e){return JA(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:ZA,EventName:xA,isSupported:eR})),e.INTERNAL.registerComponent(new Rx.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider($A).getImmediate().logEvent}}catch(Ax){throw jA.create("interop-component-reg-failed",{reason:Ax})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.18")}(Xh.default);var tR=function(){return tR=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},tR.apply(this,arguments)};function nR(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Ax){o(Ax)}}function s(e){try{u(r.throw(e))}catch(Ax){o(Ax)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function rR(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Ax){o=[6,Ax],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;Object.create;var iR,oR=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return nR(this,void 0,void 0,(function(){var t,n,r,i,o;return rR(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),aR=((iR={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",iR["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",iR["registration-api-key"]="Undefined API key. Check Firebase app initialization.",iR["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",iR["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",iR["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",iR["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",iR["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",iR["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",iR["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',iR["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',iR["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",iR["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",iR),sR=new td.ErrorFactory("remoteconfig","Remote Config",aR);var uR=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return nR(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,f,h,d,p,v,m,g,y,b;return rR(this,(function(w){switch(w.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=w.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),w.label=2;case 2:return w.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return w.sent(),[4,c];case 4:return f=w.sent(),[3,6];case 5:throw h=w.sent(),d="fetch-client-network","AbortError"===h.name&&(d="fetch-timeout"),sR.create(d,{originalErrorMessage:h.message});case 6:if(p=f.status,v=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];y=void 0,w.label=7;case 7:return w.trys.push([7,9,,10]),[4,f.json()];case 8:return y=w.sent(),[3,10];case 9:throw b=w.sent(),sR.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:m=y.entries,g=y.state,w.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===g?p=500:"NO_CHANGE"===g?p=304:"NO_TEMPLATE"!==g&&"EMPTY_CONFIG"!==g||(m={}),304!==p&&200!==p)throw sR.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:v,config:m}]}var _}))}))},e}(),cR=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),lR=["1","true","t","yes","y","on"],fR=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&lR.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),hR=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=nd.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=nd.LogLevel.SILENT;break;default:this._logger.logLevel=nd.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return nR(this,void 0,void 0,(function(){var e,t,n;return rR(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return nR(this,void 0,void 0,(function(){var e,t,n,r=this;return rR(this,(function(i){switch(i.label){case 0:e=new cR,setTimeout((function(){return nR(r,void 0,void 0,(function(){return rR(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof td.FirebaseError&&-1!==e.code.indexOf(t)}(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return nR(this,void 0,void 0,(function(){return rR(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys(tR(tR({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new fR("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new fR("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new fR("static"))},e}();function dR(e,t){var n=e.target.error||void 0;return sR.create(t,{originalErrorMessage:n&&n.message})}var pR="app_namespace_store";var vR=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(dR(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(pR,{keyPath:"compositeKey"})}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return nR(this,void 0,void 0,(function(){var t,n=this;return rR(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([pR],"readonly").objectStore(pR),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(dR(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(Ax){i(sR.create("storage-get",{originalErrorMessage:Ax&&Ax.message}))}}))]}}))}))},e.prototype.set=function(e,t){return nR(this,void 0,void 0,(function(){var n,r=this;return rR(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([pR],"readwrite").objectStore(pR),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(dR(e,"storage-set"))},u.onsuccess=function(){i()}}catch(Ax){o(sR.create("storage-set",{originalErrorMessage:Ax&&Ax.message}))}}))]}}))}))},e.prototype.delete=function(e){return nR(this,void 0,void 0,(function(){var t,n=this;return rR(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([pR],"readwrite").objectStore(pR),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(dR(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(Ax){i(sR.create("storage-delete",{originalErrorMessage:Ax&&Ax.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),mR=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return nR(this,void 0,void 0,(function(){var e,t,n,r,i,o;return rR(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function gR(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(sR.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var yR,bR=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return nR(this,void 0,void 0,(function(){var t;return rR(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return nR(this,void 0,void 0,(function(){var t,i,o;return rR(this,(function(a){switch(a.label){case 0:return[4,gR(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof td.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+(0,td.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}(),wR="@firebase/remote-config";(yR=Xh.default).INTERNAL.registerComponent(new Rx.Component("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw sR.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw sR.create("registration-project-id");if(!s)throw sR.create("registration-api-key");if(!u)throw sR.create("registration-app-id");n=n||"firebase";var c=new vR(u,r.name,n),l=new mR(c),f=new nd.Logger(wR);f.logLevel=nd.LogLevel.ERROR;var h=new uR(i,yR.SDK_VERSION,n,a,s,u),d=new bR(h,c),p=new oR(d,c,l,f),v=new hR(r,p,l,c,f);return v.ensureInitialized(),v}),"PUBLIC").setMultipleInstances(!0)),yR.registerVersion(wR,"0.1.43");n(446);var _R="8.10.0";Xh.default.registerVersion("firebase",_R,"app"),Xh.default.SDK_VERSION=_R;console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),Xh.default.registerVersion("firebase","8.10.0");var ER=n(724),kR=function(e){return(0,te.jsxs)(ae,{children:[(0,te.jsx)("div",{className:"display-6",children:"Stw\xf3rz nowe og\u0142oszenie"}),(0,te.jsxs)(zh,{className:"card-profile",children:[(0,te.jsx)("label",{for:"fname",children:"Imi\u0119 kota"}),(0,te.jsx)("input",{onChange:function(){return console.log(document.getElementById("name").value)},id:"name",className:"my-3",type:"text",name:"firstname",placeholder:"Wpisz imi\u0119 kota.."}),(0,te.jsxs)("div",{className:"d-flex flex-row align-bottom",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo",variant:"top",src:ER}),(0,te.jsx)("div",{className:"buttons w-50 m-4"})]}),(0,te.jsxs)("div",{className:"flex w-25 m-1",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:ER}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:ER}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:ER})]}),(0,te.jsxs)(zh.Body,{children:[(0,te.jsxs)("form",{className:"d-flex flex-column w-50",action:"/action_page.php",children:[(0,te.jsx)("label",{for:"age",children:"Wiek"}),(0,te.jsxs)("select",{id:"age",name:"age",onChange:function(){return console.log(document.getElementById("age").value)},children:[(0,te.jsx)("option",{value:"0",children:"Mniej ni\u017c rok"}),(0,te.jsx)("option",{value:"1",children:"1 rok"}),(0,te.jsx)("option",{value:"2",children:"2 lata"}),(0,te.jsx)("option",{value:"3",children:"3 lata"}),(0,te.jsx)("option",{value:"4",children:"4 lata"}),(0,te.jsx)("option",{value:"5",children:"5 lat"}),(0,te.jsx)("option",{value:"6",children:"6 lat"}),(0,te.jsx)("option",{value:"7",children:"7 lat"}),(0,te.jsx)("option",{value:"8",children:"8 lat"}),(0,te.jsx)("option",{value:"9",children:"9 lat"}),(0,te.jsx)("option",{value:"10",children:"10 lat"}),(0,te.jsx)("option",{value:"11",children:"11 lat"}),(0,te.jsx)("option",{value:"12",children:"12 lat"}),(0,te.jsx)("option",{value:"13",children:"13 lat"}),(0,te.jsx)("option",{value:"14",children:"14 lat"}),(0,te.jsx)("option",{value:"15",children:"15 lat"}),(0,te.jsx)("option",{value:"16",children:"16 lat"}),(0,te.jsx)("option",{value:"17",children:"17 lat"}),(0,te.jsx)("option",{value:"18",children:"18 lat"}),(0,te.jsx)("option",{value:"19",children:"19 lat"})]}),(0,te.jsx)("label",{for:"sex",children:"P\u0142e\u0107"}),(0,te.jsxs)("select",{id:"sex",name:"sex",onChange:function(){return console.log(document.getElementById("sex").value)},children:[(0,te.jsx)("option",{value:"kotek",children:"Kot"}),(0,te.jsx)("option",{value:"kotka",children:"Kotka"})]}),(0,te.jsx)("label",{for:"color",children:"Kolor sier\u015bci"}),(0,te.jsxs)("select",{id:"color",name:"color",onChange:function(){return console.log(document.getElementById("color").value)},children:[(0,te.jsx)("option",{value:"1",children:"Szary"}),(0,te.jsx)("option",{value:"2",children:"Czarny"}),(0,te.jsx)("option",{value:"3",children:"Bia\u0142y"}),(0,te.jsx)("option",{value:"4",children:"Rudy"})]})]}),(0,te.jsxs)("div",{className:"d-flex flex-column",children:[(0,te.jsx)("label",{for:"fname",children:"Podaj sw\xf3j kontaktowy numer telefonu"}),(0,te.jsx)("textarea",{onChange:function(){return console.log(document.getElementById("phone").value)},className:"w-75 text-wrap",type:"text",id:"phone",name:"firstname",placeholder:"numer telefonu.."})]}),(0,te.jsxs)("div",{className:"d-flex flex-column",children:[(0,te.jsx)("label",{for:"fname",children:"Podaj wojew\xf3dztwo"}),(0,te.jsx)("textarea",{onChange:function(){return console.log(document.getElementById("region").value)},className:"w-75 text-wrap",type:"text",id:"region",name:"firstname",placeholder:"Wpisz wojew\xf3dztwo.."})]}),(0,te.jsxs)("div",{className:"d-flex flex-column",children:[(0,te.jsx)("label",{for:"fname",children:"Podaj miasto"}),(0,te.jsx)("textarea",{onChange:function(){return console.log(document.getElementById("city").value)},className:"w-75 text-wrap",type:"text",id:"city",name:"firstname",placeholder:"Wpisz miasto.."})]}),(0,te.jsxs)("div",{className:"d-flex flex-column",children:[(0,te.jsx)("label",{for:"fname",children:"Stw\xf3rz kr\xf3tki opis kota"}),(0,te.jsx)("textarea",{onChange:function(){return console.log(document.getElementById("description").value)},className:"w-75 height-20vh text-wrap",type:"text",id:"description",name:"firstname",placeholder:"Napisz histori\u0119 kota.."})]})]}),(0,te.jsx)(gr,{onClick:function(){document.getElementById("name").value&&document.getElementById("age").value&&document.getElementById("color").value&&document.getElementById("sex").value&&document.getElementById("region").value&&document.getElementById("city").value&&document.getElementById("phone").value?(Xh.default.database().ref("/").child(e.childnum).set({id:"1",name:document.getElementById("name").value,age:document.getElementById("age").value,color:document.getElementById("color").value,image:"https://i.postimg.cc/c1VV4ShW/1.jpg",sex:document.getElementById("sex").value,region:document.getElementById("region").value,city:document.getElementById("city").value,phone:document.getElementById("phone").value,created:(new Date).toLocaleString()}),document.getElementsByClassName("success-box")[0].style.visibility="visible"):window.alert("Prosz\u0119 uzupe\u0142ni\u0107 wszystkie pola")},className:"my-3 w-50",variant:"success",children:"Zatwierd\u017a"})]}),(0,te.jsx)("div",{className:"success-box",onClick:function(){return document.getElementsByClassName("success-box")[0].style.visibility="hidden"},children:"Og\u0142oszenie zosta\u0142o opublikowane!"})]})},IR=function(e){return(0,te.jsx)("div",{children:(0,te.jsxs)(ae,{children:[(0,te.jsx)("div",{className:"display-6",children:"Ulubione koty"}),(0,te.jsx)(ae,{className:"w-75 my-4 mx-auto d-flex flex-wrap fading",children:e.data0.map((function(e){return(0,te.jsx)(zh,{className:"card card-hover",children:(0,te.jsxs)(G,{className:"link-unstyled",to:"/profiles/"+e.id,children:[(0,te.jsxs)("div",{className:"position-relative",children:[(0,te.jsx)(zh.Img,{className:"card-photo",variant:"top",src:e.image}),(0,te.jsx)("img",{className:"fav",src:Hh,alt:""})]}),(0,te.jsxs)(zh.Body,{children:[(0,te.jsx)(zh.Title,{children:e.name}),(0,te.jsx)(zh.Text,{children:e.city+", "+e.region})]})]})})}))})]})})},SR=function(){var e=Of(),t=e.user;e.isAuthenticated,e.isLoading;return(0,te.jsxs)("div",{children:[(0,te.jsx)("img",{className:"user-photo-large",src:t.picture,alt:t.name}),(0,te.jsx)("div",{className:"text-center my-3 display-7",children:t.name}),(0,te.jsx)("div",{className:"text-center my-3 display-7",children:t.email})]})},TR=function(e){var t=Of(),n=(t.user,t.isAuthenticated);t.isLoading;return(0,te.jsxs)(ae,{className:"fading",children:[(0,te.jsx)("div",{className:"display-6",children:"Profil kota"}),(0,te.jsxs)(zh,{className:"card-profile",children:[(0,te.jsxs)(zh.Title,{className:"display-6 mb-5",children:["Cze\u015b\u0107, nazywam si\u0119 ",e.data0[0].name,"!"]}),(0,te.jsxs)("div",{className:"d-flex flex-row align-bottom",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo",variant:"top",src:e.data0[0].image}),(0,te.jsxs)("div",{className:"buttons w-50 m-4",children:[(0,te.jsxs)(gr,{className:"m-1 w-50",variant:"success",children:["Telefon: ",n?e.data0[0].phone:"***-***-***"]}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",children:n?"Dodaj do ulubionych \u2764\ufe0f":"Zaloguj si\u0119 by polubi\u0107 \u2764\ufe0f"}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",onClick:function(){window.navigator.clipboard.writeText("https://michalgornicki.github.io/cats/#/profiles/"+e.data0[0].id)},children:"Kopiuj link \ud83d\udcec"})]})]}),(0,te.jsxs)("div",{className:"flex w-25 m-1",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[0].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[0].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[0].image})]}),(0,te.jsxs)(zh.Body,{children:[(0,te.jsx)("div",{className:"display-6 my-3",children:"O mnie:"}),(0,te.jsxs)("div",{className:"div",children:["Wiek: ",e.data0[0].age," lat"]}),(0,te.jsxs)("div",{className:"div",children:["P\u0142e\u0107: ",e.data0[0].sex]}),(0,te.jsxs)("div",{className:"div",children:["Kolor sier\u015bci: ",e.data0[0].color]}),(0,te.jsx)("div",{className:"display-6 my-3",children:"Moja historia:"}),(0,te.jsx)("div",{className:"div",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."})]})]})]})},xR=function(e){var t=Of(),n=(t.user,t.isAuthenticated);t.isLoading;return(0,te.jsxs)(ae,{className:"fading",children:[(0,te.jsx)("div",{className:"display-6",children:"Profil kota"}),(0,te.jsxs)(zh,{className:"card-profile",children:[(0,te.jsxs)(zh.Title,{className:"display-6 mb-5",children:["Cze\u015b\u0107, nazywam si\u0119 ",e.data0[1].name,"!"]}),(0,te.jsxs)("div",{className:"d-flex flex-row align-bottom",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo",variant:"top",src:e.data0[1].image}),(0,te.jsxs)("div",{className:"buttons w-50 m-4",children:[(0,te.jsxs)(gr,{className:"m-1 w-50",variant:"success",children:["Telefon: ",n?e.data0[1].phone:"***-***-***"]}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",children:n?"Dodaj do ulubionych \u2764\ufe0f":"Zaloguj si\u0119 by polubi\u0107 \u2764\ufe0f"}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",onClick:function(){window.navigator.clipboard.writeText("https://michalgornicki.github.io/cats/#/profiles/"+e.data0[1].id)},children:"Kopiuj link \ud83d\udcec"})]})]}),(0,te.jsxs)("div",{className:"flex w-25 m-1",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[1].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[1].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[1].image})]}),(0,te.jsxs)(zh.Body,{children:[(0,te.jsx)("div",{className:"display-6 my-3",children:"O mnie:"}),(0,te.jsxs)("div",{className:"div",children:["Wiek: ",e.data0[1].age," lat"]}),(0,te.jsxs)("div",{className:"div",children:["P\u0142e\u0107: ",e.data0[1].sex]}),(0,te.jsxs)("div",{className:"div",children:["Kolor sier\u015bci: ",e.data0[1].color]}),(0,te.jsx)("div",{className:"display-6 my-3",children:"Moja historia:"}),(0,te.jsx)("div",{className:"div",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."})]})]})]})},CR=function(e){var t=Of(),n=(t.user,t.isAuthenticated);t.isLoading;return(0,te.jsxs)(ae,{className:"fading",children:[(0,te.jsx)("div",{className:"display-6",children:"Profil kota"}),(0,te.jsxs)(zh,{className:"card-profile",children:[(0,te.jsxs)(zh.Title,{className:"display-6 mb-5",children:["Cze\u015b\u0107, nazywam si\u0119 ",e.data0[2].name,"!"]}),(0,te.jsxs)("div",{className:"d-flex flex-row align-bottom",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo",variant:"top",src:e.data0[2].image}),(0,te.jsxs)("div",{className:"buttons w-50 m-4",children:[(0,te.jsxs)(gr,{className:"m-1 w-50",variant:"success",children:["Telefon: ",n?e.data0[2].phone:"***-***-***"]}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",children:n?"Dodaj do ulubionych \u2764\ufe0f":"Zaloguj si\u0119 by polubi\u0107 \u2764\ufe0f"}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",onClick:function(){window.navigator.clipboard.writeText("https://michalgornicki.github.io/cats/#/profiles/"+e.data0[2].id)},children:"Kopiuj link \ud83d\udcec"})]})]}),(0,te.jsxs)("div",{className:"flex w-25 m-1",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[2].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[2].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[2].image})]}),(0,te.jsxs)(zh.Body,{children:[(0,te.jsx)("div",{className:"display-6 my-3",children:"O mnie:"}),(0,te.jsxs)("div",{className:"div",children:["Wiek: ",e.data0[2].age," lat"]}),(0,te.jsxs)("div",{className:"div",children:["P\u0142e\u0107: ",e.data0[2].sex]}),(0,te.jsxs)("div",{className:"div",children:["Kolor sier\u015bci: ",e.data0[2].color]}),(0,te.jsx)("div",{className:"display-6 my-3",children:"Moja historia:"}),(0,te.jsx)("div",{className:"div",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."})]})]})]})},NR=function(e){var t=Of(),n=(t.user,t.isAuthenticated);t.isLoading;return(0,te.jsxs)(ae,{className:"fading",children:[(0,te.jsx)("div",{className:"display-6",children:"Profil kota"}),(0,te.jsxs)(zh,{className:"card-profile",children:[(0,te.jsxs)(zh.Title,{className:"display-6 mb-5",children:["Cze\u015b\u0107, nazywam si\u0119 ",e.data0[3].name,"!"]}),(0,te.jsxs)("div",{className:"d-flex flex-row align-bottom",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo",variant:"top",src:e.data0[3].image}),(0,te.jsxs)("div",{className:"buttons w-50 m-4",children:[(0,te.jsxs)(gr,{className:"m-1 w-50",variant:"success",children:["Telefon: ",n?e.data0[3].phone:"***-***-***"]}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",children:n?"Dodaj do ulubionych \u2764\ufe0f":"Zaloguj si\u0119 by polubi\u0107 \u2764\ufe0f"}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",onClick:function(){window.navigator.clipboard.writeText("https://michalgornicki.github.io/cats/#/profiles/"+e.data0[3].id)},children:"Kopiuj link \ud83d\udcec"})]})]}),(0,te.jsxs)("div",{className:"flex w-25 m-1",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[3].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[3].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[3].image})]}),(0,te.jsxs)(zh.Body,{children:[(0,te.jsx)("div",{className:"display-6 my-3",children:"O mnie:"}),(0,te.jsxs)("div",{className:"div",children:["Wiek: ",e.data0[3].age," lat"]}),(0,te.jsxs)("div",{className:"div",children:["P\u0142e\u0107: ",e.data0[3].sex]}),(0,te.jsxs)("div",{className:"div",children:["Kolor sier\u015bci: ",e.data0[3].color]}),(0,te.jsx)("div",{className:"display-6 my-3",children:"Moja historia:"}),(0,te.jsx)("div",{className:"div",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."})]})]})]})},PR=function(e){var t=Of(),n=(t.user,t.isAuthenticated);t.isLoading;return(0,te.jsxs)(ae,{className:"fading",children:[(0,te.jsx)("div",{className:"display-6",children:"Profil kota"}),(0,te.jsxs)(zh,{className:"card-profile",children:[(0,te.jsxs)(zh.Title,{className:"display-6 mb-5",children:["Cze\u015b\u0107, nazywam si\u0119 ",e.data0[4].name,"!"]}),(0,te.jsxs)("div",{className:"d-flex flex-row align-bottom",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo",variant:"top",src:e.data0[4].image}),(0,te.jsxs)("div",{className:"buttons w-50 m-4",children:[(0,te.jsxs)(gr,{className:"m-1 w-50",variant:"success",children:["Telefon: ",n?e.data0[4].phone:"***-***-***"]}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",children:n?"Dodaj do ulubionych \u2764\ufe0f":"Zaloguj si\u0119 by polubi\u0107 \u2764\ufe0f"}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",onClick:function(){window.navigator.clipboard.writeText("https://michalgornicki.github.io/cats/#/profiles/"+e.data0[4].id)},children:"Kopiuj link \ud83d\udcec"})]})]}),(0,te.jsxs)("div",{className:"flex w-25 m-1",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[4].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[4].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[4].image})]}),(0,te.jsxs)(zh.Body,{children:[(0,te.jsx)("div",{className:"display-6 my-3",children:"O mnie:"}),(0,te.jsxs)("div",{className:"div",children:["Wiek: ",e.data0[4].age," lat"]}),(0,te.jsxs)("div",{className:"div",children:["P\u0142e\u0107: ",e.data0[4].sex]}),(0,te.jsxs)("div",{className:"div",children:["Kolor sier\u015bci: ",e.data0[4].color]}),(0,te.jsx)("div",{className:"display-6 my-3",children:"Moja historia:"}),(0,te.jsx)("div",{className:"div",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."})]})]})]})},OR=function(e){var t=Of(),n=(t.user,t.isAuthenticated);t.isLoading;return(0,te.jsxs)(ae,{className:"fading",children:[(0,te.jsx)("div",{className:"display-6",children:"Profil kota"}),(0,te.jsxs)(zh,{className:"card-profile",children:[(0,te.jsxs)(zh.Title,{className:"display-6 mb-5",children:["Cze\u015b\u0107, nazywam si\u0119 ",e.data0[5].name,"!"]}),(0,te.jsxs)("div",{className:"d-flex flex-row align-bottom",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo",variant:"top",src:e.data0[5].image}),(0,te.jsxs)("div",{className:"buttons w-50 m-4",children:[(0,te.jsxs)(gr,{className:"m-1 w-50",variant:"success",children:["Telefon: ",n?e.data0[5].phone:"***-***-***"]}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",children:n?"Dodaj do ulubionych \u2764\ufe0f":"Zaloguj si\u0119 by polubi\u0107 \u2764\ufe0f"}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",onClick:function(){window.navigator.clipboard.writeText("https://michalgornicki.github.io/cats/#/profiles/"+e.data0[5].id)},children:"Kopiuj link \ud83d\udcec"})]})]}),(0,te.jsxs)("div",{className:"flex w-25 m-1",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[5].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[5].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[5].image})]}),(0,te.jsxs)(zh.Body,{children:[(0,te.jsx)("div",{className:"display-6 my-3",children:"O mnie:"}),(0,te.jsxs)("div",{className:"div",children:["Wiek: ",e.data0[5].age," lat"]}),(0,te.jsxs)("div",{className:"div",children:["P\u0142e\u0107: ",e.data0[5].sex]}),(0,te.jsxs)("div",{className:"div",children:["Kolor sier\u015bci: ",e.data0[5].color]}),(0,te.jsx)("div",{className:"display-6 my-3",children:"Moja historia:"}),(0,te.jsx)("div",{className:"div",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."})]})]})]})},AR=function(e){var t=Of(),n=(t.user,t.isAuthenticated);t.isLoading;return(0,te.jsxs)(ae,{className:"fading",children:[(0,te.jsx)("div",{className:"display-6",children:"Profil kota"}),(0,te.jsxs)(zh,{className:"card-profile",children:[(0,te.jsxs)(zh.Title,{className:"display-6 mb-5",children:["Cze\u015b\u0107, nazywam si\u0119 ",e.data0[6].name,"!"]}),(0,te.jsxs)("div",{className:"d-flex flex-row align-bottom",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo",variant:"top",src:e.data0[6].image}),(0,te.jsxs)("div",{className:"buttons w-50 m-4",children:[(0,te.jsxs)(gr,{className:"m-1 w-50",variant:"success",children:["Telefon: ",n?e.data0[6].phone:"***-***-***"]}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",children:n?"Dodaj do ulubionych \u2764\ufe0f":"Zaloguj si\u0119 by polubi\u0107 \u2764\ufe0f"}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",onClick:function(){window.navigator.clipboard.writeText("https://michalgornicki.github.io/cats/#/profiles/"+e.data0[6].id)},children:"Kopiuj link \ud83d\udcec"})]})]}),(0,te.jsxs)("div",{className:"flex w-25 m-1",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[6].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[6].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[6].image})]}),(0,te.jsxs)(zh.Body,{children:[(0,te.jsx)("div",{className:"display-6 my-3",children:"O mnie:"}),(0,te.jsxs)("div",{className:"div",children:["Wiek: ",e.data0[6].age," lat"]}),(0,te.jsxs)("div",{className:"div",children:["P\u0142e\u0107: ",e.data0[6].sex]}),(0,te.jsxs)("div",{className:"div",children:["Kolor sier\u015bci: ",e.data0[6].color]}),(0,te.jsx)("div",{className:"display-6 my-3",children:"Moja historia:"}),(0,te.jsx)("div",{className:"div",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."})]})]})]})},RR=function(e){var t=Of(),n=(t.user,t.isAuthenticated);t.isLoading;return(0,te.jsxs)(ae,{className:"fading",children:[(0,te.jsx)("div",{className:"display-6",children:"Profil kota"}),(0,te.jsxs)(zh,{className:"card-profile",children:[(0,te.jsxs)(zh.Title,{className:"display-6 mb-5",children:["Cze\u015b\u0107, nazywam si\u0119 ",e.data0[7].name,"!"]}),(0,te.jsxs)("div",{className:"d-flex flex-row align-bottom",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo",variant:"top",src:e.data0[7].image}),(0,te.jsxs)("div",{className:"buttons w-50 m-4",children:[(0,te.jsxs)(gr,{className:"m-1 w-50",variant:"success",children:["Telefon: ",n?e.data0[7].phone:"***-***-***"]}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",children:n?"Dodaj do ulubionych \u2764\ufe0f":"Zaloguj si\u0119 by polubi\u0107 \u2764\ufe0f"}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",onClick:function(){window.navigator.clipboard.writeText("https://michalgornicki.github.io/cats/#/profiles/"+e.data0[7].id)},children:"Kopiuj link \ud83d\udcec"})]})]}),(0,te.jsxs)("div",{className:"flex w-25 m-1",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[7].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[7].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[7].image})]}),(0,te.jsxs)(zh.Body,{children:[(0,te.jsx)("div",{className:"display-6 my-3",children:"O mnie:"}),(0,te.jsxs)("div",{className:"div",children:["Wiek: ",e.data0[7].age," lat"]}),(0,te.jsxs)("div",{className:"div",children:["P\u0142e\u0107: ",e.data0[7].sex]}),(0,te.jsxs)("div",{className:"div",children:["Kolor sier\u015bci: ",e.data0[7].color]}),(0,te.jsx)("div",{className:"display-6 my-3",children:"Moja historia:"}),(0,te.jsx)("div",{className:"div",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."})]})]})]})},DR=function(e){var t=Of(),n=(t.user,t.isAuthenticated);t.isLoading;return(0,te.jsxs)(ae,{className:"fading",children:[(0,te.jsx)("div",{className:"display-6",children:"Profil kota"}),(0,te.jsxs)(zh,{className:"card-profile",children:[(0,te.jsxs)(zh.Title,{className:"display-6 mb-5",children:["Cze\u015b\u0107, nazywam si\u0119 ",e.data0[8].name,"!"]}),(0,te.jsxs)("div",{className:"d-flex flex-row align-bottom",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo",variant:"top",src:e.data0[8].image}),(0,te.jsxs)("div",{className:"buttons w-50 m-4",children:[(0,te.jsxs)(gr,{className:"m-1 w-50",variant:"success",children:["Telefon: ",n?e.data0[8].phone:"***-***-***"]}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",children:n?"Dodaj do ulubionych \u2764\ufe0f":"Zaloguj si\u0119 by polubi\u0107 \u2764\ufe0f"}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",onClick:function(){window.navigator.clipboard.writeText("https://michalgornicki.github.io/cats/#/profiles/"+e.data0[8].id)},children:"Kopiuj link \ud83d\udcec"})]})]}),(0,te.jsxs)("div",{className:"flex w-25 m-1",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[8].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[8].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[8].image})]}),(0,te.jsxs)(zh.Body,{children:[(0,te.jsx)("div",{className:"display-6 my-3",children:"O mnie:"}),(0,te.jsxs)("div",{className:"div",children:["Wiek: ",e.data0[8].age," lat"]}),(0,te.jsxs)("div",{className:"div",children:["P\u0142e\u0107: ",e.data0[8].sex]}),(0,te.jsxs)("div",{className:"div",children:["Kolor sier\u015bci: ",e.data0[8].color]}),(0,te.jsx)("div",{className:"display-6 my-3",children:"Moja historia:"}),(0,te.jsx)("div",{className:"div",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."})]})]})]})},jR=function(e){var t=Of(),n=(t.user,t.isAuthenticated);t.isLoading;return(0,te.jsxs)(ae,{className:"fading",children:[(0,te.jsx)("div",{className:"display-6",children:"Profil kota"}),(0,te.jsxs)(zh,{className:"card-profile",children:[(0,te.jsxs)(zh.Title,{className:"display-6 mb-5",children:["Cze\u015b\u0107, nazywam si\u0119 ",e.data0[9].name,"!"]}),(0,te.jsxs)("div",{className:"d-flex flex-row align-bottom",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo",variant:"top",src:e.data0[9].image}),(0,te.jsxs)("div",{className:"buttons w-50 m-4",children:[(0,te.jsxs)(gr,{className:"m-1 w-50",variant:"success",children:["Telefon: ",n?e.data0[9].phone:"***-***-***"]}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",children:n?"Dodaj do ulubionych \u2764\ufe0f":"Zaloguj si\u0119 by polubi\u0107 \u2764\ufe0f"}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",onClick:function(){window.navigator.clipboard.writeText("https://michalgornicki.github.io/cats/#/profiles/"+e.data0[9].id)},children:"Kopiuj link \ud83d\udcec"})]})]}),(0,te.jsxs)("div",{className:"flex w-25 m-1",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[9].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[9].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[9].image})]}),(0,te.jsxs)(zh.Body,{children:[(0,te.jsx)("div",{className:"display-6 my-3",children:"O mnie:"}),(0,te.jsxs)("div",{className:"div",children:["Wiek: ",e.data0[9].age," lat"]}),(0,te.jsxs)("div",{className:"div",children:["P\u0142e\u0107: ",e.data0[9].sex]}),(0,te.jsxs)("div",{className:"div",children:["Kolor sier\u015bci: ",e.data0[9].color]}),(0,te.jsx)("div",{className:"display-6 my-3",children:"Moja historia:"}),(0,te.jsx)("div",{className:"div",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."})]})]})]})},LR=function(e){var t=Of(),n=(t.user,t.isAuthenticated);t.isLoading;return(0,te.jsxs)(ae,{className:"fading",children:[(0,te.jsx)("div",{className:"display-6",children:"Profil kota"}),(0,te.jsxs)(zh,{className:"card-profile",children:[(0,te.jsxs)(zh.Title,{className:"display-6 mb-5",children:["Cze\u015b\u0107, nazywam si\u0119 ",e.data0[10].name,"!"]}),(0,te.jsxs)("div",{className:"d-flex flex-row align-bottom",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo",variant:"top",src:e.data0[10].image}),(0,te.jsxs)("div",{className:"buttons w-50 m-4",children:[(0,te.jsxs)(gr,{className:"m-1 w-50",variant:"success",children:["Telefon: ",n?e.data0[10].phone:"***-***-***"]}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",children:n?"Dodaj do ulubionych \u2764\ufe0f":"Zaloguj si\u0119 by polubi\u0107 \u2764\ufe0f"}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",onClick:function(){window.navigator.clipboard.writeText("https://michalgornicki.github.io/cats/#/profiles/"+e.data0[10].id)},children:"Kopiuj link \ud83d\udcec"})]})]}),(0,te.jsxs)("div",{className:"flex w-25 m-1",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[10].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[10].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[10].image})]}),(0,te.jsxs)(zh.Body,{children:[(0,te.jsx)("div",{className:"display-6 my-3",children:"O mnie:"}),(0,te.jsxs)("div",{className:"div",children:["Wiek: ",e.data0[10].age," lat"]}),(0,te.jsxs)("div",{className:"div",children:["P\u0142e\u0107: ",e.data0[10].sex]}),(0,te.jsxs)("div",{className:"div",children:["Kolor sier\u015bci: ",e.data0[10].color]}),(0,te.jsx)("div",{className:"display-6 my-3",children:"Moja historia:"}),(0,te.jsx)("div",{className:"div",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."})]})]})]})},MR=function(e){var t=Of(),n=(t.user,t.isAuthenticated);t.isLoading;return(0,te.jsxs)(ae,{className:"fading",children:[(0,te.jsx)("div",{className:"display-6",children:"Profil kota"}),(0,te.jsxs)(zh,{className:"card-profile",children:[(0,te.jsxs)(zh.Title,{className:"display-6 mb-5",children:["Cze\u015b\u0107, nazywam si\u0119 ",e.data0[11].name,"!"]}),(0,te.jsxs)("div",{className:"d-flex flex-row align-bottom",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo",variant:"top",src:e.data0[11].image}),(0,te.jsxs)("div",{className:"buttons w-50 m-4",children:[(0,te.jsxs)(gr,{className:"m-1 w-50",variant:"success",children:["Telefon: ",n?e.data0[11].phone:"***-***-***"]}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",children:n?"Dodaj do ulubionych \u2764\ufe0f":"Zaloguj si\u0119 by polubi\u0107 \u2764\ufe0f"}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",onClick:function(){window.navigator.clipboard.writeText("https://michalgornicki.github.io/cats/#/profiles/"+e.data0[11].id)},children:"Kopiuj link \ud83d\udcec"})]})]}),(0,te.jsxs)("div",{className:"flex w-25 m-1",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[11].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[11].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[11].image})]}),(0,te.jsxs)(zh.Body,{children:[(0,te.jsx)("div",{className:"display-6 my-3",children:"O mnie:"}),(0,te.jsxs)("div",{className:"div",children:["Wiek: ",e.data0[11].age," lat"]}),(0,te.jsxs)("div",{className:"div",children:["P\u0142e\u0107: ",e.data0[11].sex]}),(0,te.jsxs)("div",{className:"div",children:["Kolor sier\u015bci: ",e.data0[11].color]}),(0,te.jsx)("div",{className:"display-6 my-3",children:"Moja historia:"}),(0,te.jsx)("div",{className:"div",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."})]})]})]})},FR=function(e){var t=Of(),n=(t.user,t.isAuthenticated);t.isLoading;return(0,te.jsxs)(ae,{className:"fading",children:[(0,te.jsx)("div",{className:"display-6",children:"Profil kota"}),(0,te.jsxs)(zh,{className:"card-profile",children:[(0,te.jsxs)(zh.Title,{className:"display-6 mb-5",children:["Cze\u015b\u0107, nazywam si\u0119 ",e.data0[12].name,"!"]}),(0,te.jsxs)("div",{className:"d-flex flex-row align-bottom",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo",variant:"top",src:e.data0[12].image}),(0,te.jsxs)("div",{className:"buttons w-50 m-4",children:[(0,te.jsxs)(gr,{className:"m-1 w-50",variant:"success",children:["Telefon: ",n?e.data0[12].phone:"***-***-***"]}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",children:n?"Dodaj do ulubionych \u2764\ufe0f":"Zaloguj si\u0119 by polubi\u0107 \u2764\ufe0f"}),(0,te.jsx)(gr,{className:"m-1 w-50",variant:"success",onClick:function(){window.navigator.clipboard.writeText("https://michalgornicki.github.io/cats/#/profiles/"+e.data0[12].id)},children:"Kopiuj link \ud83d\udcec"})]})]}),(0,te.jsxs)("div",{className:"flex w-25 m-1",children:[(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[12].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[12].image}),(0,te.jsx)(zh.Img,{className:"card-profile-photo-sm",variant:"top",src:e.data0[12].image})]}),(0,te.jsxs)(zh.Body,{children:[(0,te.jsx)("div",{className:"display-6 my-3",children:"O mnie:"}),(0,te.jsxs)("div",{className:"div",children:["Wiek: ",e.data0[12].age," lat"]}),(0,te.jsxs)("div",{className:"div",children:["P\u0142e\u0107: ",e.data0[12].sex]}),(0,te.jsxs)("div",{className:"div",children:["Kolor sier\u015bci: ",e.data0[12].color]}),(0,te.jsx)("div",{className:"display-6 my-3",children:"Moja historia:"}),(0,te.jsx)("div",{className:"div",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."})]})]})]})};Xh.default.initializeApp({apiKey:"AIzaSyCzbm-cfG_WG1vXftwpXqcuYXuZ8Ifvsyk",authDomain:"cats-a081b.firebaseapp.com",databaseURL:"https://cats-a081b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"cats-a081b",storageBucket:"cats-a081b.appspot.com",messagingSenderId:"639433979518",appId:"1:639433979518:web:d815f83bcc4097c1d14a2f"});Xh.default.firestore();var UR=function(){var t=o((0,e.useState)([]),2),n=t[0],r=t[1],i=o((0,e.useState)([]),2),a=i[0],s=i[1];(0,e.useEffect)((function(){u()}),[]);var u=function(){Xh.default.database().ref("/").on("value",(function(e){var t=e.val();r(t),s(t.length)}))};return console.log(n),console.log(a),(0,te.jsx)(H,{children:(0,te.jsxs)("div",{children:[(0,te.jsx)(Rf,{}),(0,te.jsxs)(E,{children:[(0,te.jsx)(w,{path:"/",element:(0,te.jsx)(Gh,{data0:n})}),(0,te.jsx)(w,{path:"/Database",element:(0,te.jsx)(Yh,{data0:n})}),(0,te.jsx)(w,{path:"/Create",element:(0,te.jsx)(kR,{data0:n,childnum:a})}),(0,te.jsx)(w,{path:"/Dashboard",element:(0,te.jsx)(SR,{data0:n})}),(0,te.jsx)(w,{path:"/Favourite",element:(0,te.jsx)(IR,{data0:n})}),(0,te.jsx)(w,{path:"/profiles/1",element:(0,te.jsx)(TR,{data0:n})}),(0,te.jsx)(w,{path:"/profiles/2",element:(0,te.jsx)(xR,{data0:n})}),(0,te.jsx)(w,{path:"/profiles/3",element:(0,te.jsx)(CR,{data0:n})}),(0,te.jsx)(w,{path:"/profiles/4",element:(0,te.jsx)(NR,{data0:n})}),(0,te.jsx)(w,{path:"/profiles/5",element:(0,te.jsx)(PR,{data0:n})}),(0,te.jsx)(w,{path:"/profiles/6",element:(0,te.jsx)(OR,{data0:n})}),(0,te.jsx)(w,{path:"/profiles/7",element:(0,te.jsx)(AR,{data0:n})}),(0,te.jsx)(w,{path:"/profiles/8",element:(0,te.jsx)(RR,{data0:n})}),(0,te.jsx)(w,{path:"/profiles/9",element:(0,te.jsx)(DR,{data0:n})}),(0,te.jsx)(w,{path:"/profiles/10",element:(0,te.jsx)(jR,{data0:n})}),(0,te.jsx)(w,{path:"/profiles/11",element:(0,te.jsx)(LR,{data0:n})}),(0,te.jsx)(w,{path:"/profiles/12",element:(0,te.jsx)(MR,{data0:n})}),(0,te.jsx)(w,{path:"/profiles/13",element:(0,te.jsx)(FR,{data0:n})})]})]})})},VR=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))};t.render((0,te.jsxs)(e.StrictMode,{children:[(0,te.jsx)(Pf,{domain:"dev-vsmi61io.us.auth0.com",clientId:"Da5qawwo5IJU5rOFgpun7cPVVkv4j66S",redirectUri:"https://michalgornicki.github.io/cats",children:(0,te.jsx)(UR,{})}),","]}),document.getElementById("root")),VR()}()}();
//# sourceMappingURL=main.447a39af.js.map